
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Binary</title>
<meta name="description" content="Documentation of Coq module Binary" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Binary</h1>
<div class="coq">
<br/>
<h1> IEEE-754 arithmetic </h1>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Core.Core.html">Core</a></span> <span class="id"><a href="compcert.flocq.Core.Digits.html">Digits</a></span> <span class="id"><a href="compcert.flocq.Calc.Round.html">Round</a></span> <span class="id"><a href="compcert.flocq.Calc.Bracket.html">Bracket</a></span> <span class="id"><a href="compcert.flocq.Calc.Operations.html">Operations</a></span> <span class="id"><a href="compcert.flocq.Calc.Div.html">Div</a></span> <span class="id"><a href="compcert.flocq.Calc.Sqrt.html">Sqrt</a></span> <span class="id"><a href="compcert.flocq.Prop.Relative.html">Relative</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.micromega.Psatz.html">Psatz</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="AnyRadix">AnyRadix</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="full_float">full_float</a></span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="F754_zero">F754_zero</a></span> (<span class="id">s</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="F754_infinity">F754_infinity</a></span> (<span class="id">s</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="F754_nan">F754_nan</a></span> (<span class="id">s</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">m</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="F754_finite">F754_finite</a></span> (<span class="id">s</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">m</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) (<span class="id">e</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="FF2R">FF2R</a></span> <span class="id">beta</span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_finite">F754_finite</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span> =&gt; <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">s</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m</span>)) <span class="id">e</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; 0%<span class="id">R</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#AnyRadix">AnyRadix</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Binary">Binary</a></span>.<br/>
<br/>
<span class="id">Arguments</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#exist">exist</a></span> {<span class="id">A</span>} {<span class="id">P</span>}.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">prec</span></span> is the number of bits of the mantissa including the implicit one;
    <span class="bracket"><span class="id">emax</span></span> is the exponent of the infinities.
    For instance, binary32 is defined by <span class="bracket"><span class="id">prec</span> = 24</span> and <span class="bracket"><span class="id">emax</span> = 128</span>. </div>
<span class="kwd">Variable</span> <span class="id"><a name="Binary.prec">prec</a></span> <span class="id"><a name="Binary.emax">emax</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id">prec_gt_0_</span> : <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Binary.Hmax">Hmax</a></span> : (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> &lt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>)%<span class="id">Z</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="Binary.emin">emin</a></span> := (3 - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)%<span class="id">Z</span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="Binary.fexp">fexp</a></span> := <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>.<br/>
<span class="kwd">Instance</span> <span class="id"><a name="fexp_correct">fexp_correct</a></span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> := <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp_valid">FLT_exp_valid</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>.<br/>
<span class="kwd">Instance</span> <span class="id"><a name="fexp_monotone">fexp_monotone</a></span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Monotone_exp">Monotone_exp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> := <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp_monotone">FLT_exp_monotone</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="canonical_mantissa">canonical_mantissa</a></span> <span class="id">m</span> <span class="id">e</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zeq_bool">Zeq_bool</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>)) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="bounded">bounded</a></span> <span class="id">m</span> <span class="id">e</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_mantissa">canonical_mantissa</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_bool">Zle_bool</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="nan_pl">nan_pl</a></span> <span class="id">pl</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zlt_bool">Zlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#pl">pl</a></span>)) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="valid_binary">valid_binary</a></span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_finite">F754_finite</a></span> <span class="id">_</span> <span class="id">m</span> <span class="id">e</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="id">m</span> <span class="id">e</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_nan">F754_nan</a></span> <span class="id">_</span> <span class="id">pl</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#nan_pl">nan_pl</a></span> <span class="id">pl</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">Basic type used for representing binary FP numbers.
    Note that there is exactly one such object per FP datum. </div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="binary_float">binary_float</a></span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="B754_zero">B754_zero</a></span> (<span class="id">s</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="B754_infinity">B754_infinity</a></span> (<span class="id">s</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="B754_nan">B754_nan</a></span> (<span class="id">s</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">pl</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#nan_pl">nan_pl</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#pl">pl</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="B754_finite">B754_finite</a></span> (<span class="id">s</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">m</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) (<span class="id">e</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="FF2B">FF2B</a></span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">as</span> <span class="id">x</span> <span class="kwd">return</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_binary">valid_binary</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_finite">F754_finite</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_infinity">F754_infinity</a></span> <span class="id">s</span> =&gt; <span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_zero">F754_zero</a></span> <span class="id">s</span> =&gt; <span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_nan">F754_nan</a></span> <span class="id">b</span> <span class="id">pl</span> =&gt; <span class="kwd">fun</span> <span class="id">H</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">b</span> <span class="id">pl</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#H">H</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="B2FF">B2FF</a></span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_finite">F754_finite</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">s</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_infinity">F754_infinity</a></span> <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">s</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_zero">F754_zero</a></span> <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">b</span> <span class="id">pl</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_nan">F754_nan</a></span> <span class="id">b</span> <span class="id">pl</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="B2R">B2R</a></span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">s</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m</span>)) <span class="id">e</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; 0%<span class="id">R</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="FF2R_B2FF">FF2R_B2FF</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6341')">Proof.</div>
<div class="proofscript" id="proof6341">
<span class="id">now</span> <span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span> <span class="id">Hplx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2FF_FF2B">B2FF_FF2B</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">Hx</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Hx">Hx</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6342')">Proof.</div>
<div class="proofscript" id="proof6342">
<span class="id">now</span> <span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span>] <span class="id">Hx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="valid_binary_B2FF">valid_binary_B2FF</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_binary">valid_binary</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6343')">Proof.</div>
<div class="proofscript" id="proof6343">
<span class="id">now</span> <span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span> <span class="id">Hplx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="FF2B_B2FF">FF2B_B2FF</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">H</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#H">H</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6344')">Proof.</div>
<div class="proofscript" id="proof6344">
<span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span> <span class="id">Hplx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] <span class="id">H</span> ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="id"><a href="compcert.flocq.Core.Zaux.html#eqbool_irrelevance">eqbool_irrelevance</a></span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="id"><a href="compcert.flocq.Core.Zaux.html#eqbool_irrelevance">eqbool_irrelevance</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="FF2B_B2FF_valid">FF2B_B2FF_valid</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_binary_B2FF">valid_binary_B2FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6345')">Proof.</div>
<div class="proofscript" id="proof6345">
<span class="tactic">intros</span> <span class="id">x</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B_B2FF">FF2B_B2FF</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2R_FF2B">B2R_FF2B</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">Hx</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Hx">Hx</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6346')">Proof.</div>
<div class="proofscript" id="proof6346">
<span class="id">now</span> <span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span>] <span class="id">Hx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="match_FF2B">match_FF2B</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">T</span>} <span class="id">fz</span> <span class="id">fi</span> <span class="id">fn</span> <span class="id">ff</span> <span class="id">x</span> <span class="id">Hx</span>,<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Hx">Hx</a></span> <span class="kwd">return</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#T">T</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fz">fz</a></span> <span class="id">sx</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fi">fi</a></span> <span class="id">sx</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">b</span> <span class="id">p</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fn">fn</a></span> <span class="id">b</span> <span class="id">p</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ff">ff</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span> =<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_zero">F754_zero</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fz">fz</a></span> <span class="id">sx</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_infinity">F754_infinity</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fi">fi</a></span> <span class="id">sx</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_nan">F754_nan</a></span> <span class="id">b</span> <span class="id">p</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fn">fn</a></span> <span class="id">b</span> <span class="id">p</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_finite">F754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ff">ff</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6347')">Proof.</div>
<div class="proofscript" id="proof6347">
<span class="id">now</span> <span class="tactic">intros</span> <span class="id">T</span> <span class="id">fz</span> <span class="id">fi</span> <span class="id">fn</span> <span class="id">ff</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span>] <span class="id">Hx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="canonical_canonical_mantissa">canonical_canonical_mantissa</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">sx</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) <span class="id">mx</span> <span class="id">ex</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_mantissa">canonical_mantissa</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>)) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6348')">Proof.</div>
<div class="proofscript" id="proof6348">
<span class="tactic">intros</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">H</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Hx</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zeq_bool_eq">Zeq_bool_eq</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">clear</span> <span class="id">H</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">pattern</span> <span class="id">ex</span> <span class="tactic">at</span> 2 ; <span class="tactic">rewrite</span> &lt;- <span class="id">Hx</span>.<br/>
<span class="tactic">apply</span> (<span class="tactic">f_equal</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#mag_F2R_Zdigits">mag_F2R_Zdigits</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits_abs">Zdigits_abs</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="id">now</span> <span class="tactic">case</span> <span class="id">sx</span>.<br/>
<span class="id">now</span> <span class="tactic">case</span> <span class="id">sx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="generic_format_B2R">generic_format_B2R</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6349')">Proof.</div>
<div class="proofscript" id="proof6349">
<span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span> <span class="id">Hx</span> |<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] ; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_0">generic_format_0</a></span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_canonical">generic_format_canonical</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_canonical_mantissa">canonical_canonical_mantissa</a></span>.<br/>
<span class="id">now</span> <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>) <span class="kwd">as</span> (<span class="id">H</span>, <span class="id">_</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="FLT_format_B2R">FLT_format_B2R</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_format">FLT_format</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6350')">Proof with</div>
<div class="proofscript" id="proof6350">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_format_generic">FLT_format_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#generic_format_B2R">generic_format_B2R</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2FF_inj">B2FF_inj</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6351')">Proof.</div>
<div class="proofscript" id="proof6351">
<span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span> <span class="id">Hplx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] [<span class="id">sy</span>|<span class="id">sy</span>|<span class="id">sy</span> <span class="id">ply</span> <span class="id">Hply</span>|<span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span>] ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="id">now</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="id">now</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="tactic">inversion</span> <span class="id">H</span>.<br/>
<span class="tactic">clear</span> <span class="id">H</span>.<br/>
<span class="id">revert</span> <span class="id">Hplx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H2</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="id"><a href="compcert.flocq.Core.Zaux.html#eqbool_irrelevance">eqbool_irrelevance</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="tactic">inversion</span> <span class="id">H</span>.<br/>
<span class="tactic">clear</span> <span class="id">H</span>.<br/>
<span class="id">revert</span> <span class="id">Hx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H2</span>, <span class="id">H3</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="id"><a href="compcert.flocq.Core.Zaux.html#eqbool_irrelevance">eqbool_irrelevance</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_finite_strict">is_finite_strict</a></span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2R_inj">B2R_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_strict">is_finite_strict</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_strict">is_finite_strict</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6352')">Proof.</div>
<div class="proofscript" id="proof6352">
<span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>| |<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] [<span class="id">sy</span>|<span class="id">sy</span>| |<span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span>] ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heq</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Hs</span>: <span class="id">sx</span> = <span class="id">sy</span>).<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="id">revert</span> <span class="id">Heq</span>. <span class="tactic">clear</span>.<br/>
<span class="tactic">case</span> <span class="id">sx</span> ; <span class="tactic">case</span> <span class="id">sy</span> ; <span class="tactic">try</span> <span class="id">easy</span> ;<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Heq</span> ; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False_ind">False_ind</a></span> ; <span class="id">revert</span> <span class="id">Heq</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_eq">Rlt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rlt_trans">Rlt_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R0">R0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_trans">Rgt_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R0">R0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id">mx</span> = <span class="id">my</span> /\ <span class="id">ex</span> = <span class="id">ey</span>).<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical_unique">canonical_unique</a></span> <span class="id">_</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heq</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id">Hs</span>.<br/>
<span class="id">now</span> <span class="tactic">case</span> <span class="id">sy</span> ; <span class="tactic">intro</span> <span class="id">H</span> ; <span class="tactic">injection</span> <span class="id">H</span> ; <span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_canonical_mantissa">canonical_canonical_mantissa</a></span>.<br/>
<span class="tactic">exact</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_canonical_mantissa">canonical_canonical_mantissa</a></span>.<br/>
<span class="tactic">exact</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hy</span>)).<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="id">revert</span> <span class="id">Hx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hs</span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">H</span>), (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id">H</span>).<br/>
<span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#eqbool_irrelevance">eqbool_irrelevance</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bsign">Bsign</a></span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">s</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">s</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">s</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">s</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sign_FF">sign_FF</a></span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_nan">F754_nan</a></span> <span class="id">s</span> <span class="id">_</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_zero">F754_zero</a></span> <span class="id">s</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_infinity">F754_infinity</a></span> <span class="id">s</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_finite">F754_finite</a></span> <span class="id">s</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bsign_FF2B">Bsign_FF2B</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">H</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#H">H</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sign_FF">sign_FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6353')">Proof.</div>
<div class="proofscript" id="proof6353">
<span class="id">now</span> <span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span>] <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_finite">is_finite</a></span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_finite_FF">is_finite_FF</a></span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_finite">F754_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_zero">F754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="is_finite_FF2B">is_finite_FF2B</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">Hx</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Hx">Hx</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_FF">is_finite_FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6354')">Proof.</div>
<div class="proofscript" id="proof6354">
<span class="id">now</span> <span class="tactic">intros</span> [| | |].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="is_finite_FF_B2FF">is_finite_FF_B2FF</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_FF">is_finite_FF</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6355')">Proof.</div>
<div class="proofscript" id="proof6355">
<span class="id">now</span> <span class="tactic">intros</span> [| |? []|].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2R_Bsign_inj">B2R_Bsign_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6356')">Proof.</div>
<div class="proofscript" id="proof6356">
<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span>, <span class="id">y</span>; <span class="tactic">try</span> (<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_inj">B2R_inj</a></span>; <span class="id">now</span> <span class="tactic">eauto</span>).<br/>
- <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">congruence</span>.<br/>
- <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_integral">Rmult_integral</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>. <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#eq_IZR">eq_IZR</a></span> <span class="id">_</span> 0) <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">destruct</span> <span class="id">s0</span>; <span class="tactic">discriminate</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">e</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_irrefl">Rlt_irrefl</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">destruct</span> <span class="id">H3</span>.<br/>
- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_integral">Rmult_integral</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>. <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#eq_IZR">eq_IZR</a></span> <span class="id">_</span> 0) <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">destruct</span> <span class="id">s</span>; <span class="tactic">discriminate</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">e</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_irrefl">Rlt_irrefl</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">destruct</span> <span class="id">H3</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_nan">is_nan</a></span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_nan_FF">is_nan_FF</a></span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_nan">F754_nan</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="is_nan_FF2B">is_nan_FF2B</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">Hx</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Hx">Hx</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan_FF">is_nan_FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6357')">Proof.</div>
<div class="proofscript" id="proof6357">
<span class="id">now</span> <span class="tactic">intros</span> [| | |].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="is_nan_FF_B2FF">is_nan_FF_B2FF</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan_FF">is_nan_FF</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6358')">Proof.</div>
<div class="proofscript" id="proof6358">
<span class="id">now</span> <span class="tactic">intros</span> [| |? []|].<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="get_nan_pl">get_nan_pl</a></span> (<span class="id">x</span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">pl</span> <span class="id">_</span> =&gt; <span class="id">pl</span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> <span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="build_nan">build_nan</a></span> (<span class="id">x</span> : { <span class="id">x</span> | <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> }) : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6359')">Proof.</div>
<div class="proofscript" id="proof6359">
<span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id">x</span>)) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#get_nan_pl">get_nan_pl</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id">x</span>))).<br/>
<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [<span class="id">x</span> <span class="id">H</span>].<br/>
<span class="tactic">simpl</span>.<br/>
<span class="id">revert</span> <span class="id">H</span>.<br/>
<span class="tactic">assert</span> (<span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#nan_pl">nan_pl</a></span> 1 = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="tactic">by</span> <span class="id">now</span> <span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#nan_pl">nan_pl</a></span> 1).<br/>
<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H</span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span>.<br/>
<span class="tactic">apply</span> <span class="id">e</span>.<br/>
Defined.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="build_nan_correct">build_nan_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> : { <span class="id">x</span> | <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> },<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6360')">Proof.</div>
<div class="proofscript" id="proof6360">
<span class="tactic">intros</span> [<span class="id">x</span> <span class="id">H</span>].<br/>
<span class="id">now</span> <span class="tactic">destruct</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2R_build_nan">B2R_build_nan</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = 0%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6361')">Proof.</div>
<div class="proofscript" id="proof6361">
<span class="id">easy</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="is_finite_build_nan">is_finite_build_nan</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6362')">Proof.</div>
<div class="proofscript" id="proof6362">
<span class="id">easy</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="is_nan_build_nan">is_nan_build_nan</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6363')">Proof.</div>
<div class="proofscript" id="proof6363">
<span class="id">easy</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="erase">erase</a></span> (<span class="id">x</span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span>) : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6364')">Proof.</div>
<div class="proofscript" id="proof6364">
<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [<span class="id">s</span>|<span class="id">s</span>|<span class="id">s</span> <span class="id">pl</span> <span class="id">H</span>|<span class="id">s</span> <span class="id">m</span> <span class="id">e</span> <span class="id">H</span>].<br/>
- <span class="tactic">exact</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">s</span>).<br/>
- <span class="tactic">exact</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">s</span>).<br/>
- <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">s</span> <span class="id">pl</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#nan_pl">nan_pl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> <span class="id">H</span>.<br/>
- <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> <span class="id">H</span>.<br/>
Defined.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="erase_correct">erase_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#erase">erase</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6365')">Proof.</div>
<div class="proofscript" id="proof6365">
<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [<span class="id">s</span>|<span class="id">s</span>|<span class="id">s</span> <span class="id">pl</span> <span class="id">H</span>|<span class="id">s</span> <span class="id">m</span> <span class="id">e</span> <span class="id">H</span>] ; <span class="tactic">try</span> <span class="id">easy</span> ; <span class="tactic">simpl</span>.<br/>
- <span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="id"><a href="compcert.flocq.Core.Zaux.html#eqbool_irrelevance">eqbool_irrelevance</a></span>.<br/>
- <span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="id"><a href="compcert.flocq.Core.Zaux.html#eqbool_irrelevance">eqbool_irrelevance</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Opposite </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bopp">Bopp</a></span> <span class="id">opp_nan</span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#opp_nan">opp_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">sx</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">sx</span>) <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">sx</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bopp_involutive">Bopp_involutive</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">opp_nan</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#opp_nan">opp_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#opp_nan">opp_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6366')">Proof.</div>
<div class="proofscript" id="proof6366">
<span class="id">now</span> <span class="tactic">intros</span> <span class="id">opp_nan</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] ; <span class="tactic">simpl</span> ; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_involutive">Bool.negb_involutive</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2R_Bopp">B2R_Bopp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">opp_nan</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#opp_nan">opp_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = (- <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6367')">Proof.</div>
<div class="proofscript" id="proof6367">
<span class="tactic">intros</span> <span class="id">opp_nan</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span> <span class="id">Hplx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>]; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span> ; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_0">Ropp_0</a></span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_opp">F2R_opp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">case</span> <span class="id">sx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="is_finite_Bopp">is_finite_Bopp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">opp_nan</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#opp_nan">opp_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6368')">Proof.</div>
<div class="proofscript" id="proof6368">
<span class="id">now</span> <span class="tactic">intros</span> <span class="id">opp_nan</span> [| | |].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Bsign_Bopp">Bsign_Bopp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">opp_nan</span> <span class="id">x</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#opp_nan">opp_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6369')">Proof.</div>
<div class="proofscript" id="proof6369">
 <span class="id">now</span> <span class="tactic">intros</span> <span class="id">opp_nan</span> [<span class="id">s</span>|<span class="id">s</span>|<span class="id">s</span> <span class="id">pl</span> <span class="id">H</span>|<span class="id">s</span> <span class="id">m</span> <span class="id">e</span> <span class="id">H</span>]. Qed.</div>
<br/>
<div class="doc">Absolute value </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Babs">Babs</a></span> <span class="id">abs_nan</span> (<span class="id">x</span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span>) : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_nan">abs_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2R_Babs">B2R_Babs</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">abs_nan</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_nan">abs_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6370')">Proof.</div>
<div class="proofscript" id="proof6370">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">abs_nan</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span> <span class="id">Hx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>]; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span> ; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_abs">F2R_abs</a></span>. <span class="id">now</span> <span class="tactic">destruct</span> <span class="id">sx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="is_finite_Babs">is_finite_Babs</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">abs_nan</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_nan">abs_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6371')">Proof.</div>
<div class="proofscript" id="proof6371">
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">intros</span> <span class="id">abs_nan</span> [| | |].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bsign_Babs">Bsign_Babs</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">abs_nan</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_nan">abs_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6372')">Proof.</div>
<div class="proofscript" id="proof6372">
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">intros</span> <span class="id">abs_nan</span> [| | |].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Babs_idempotent">Babs_idempotent</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">abs_nan</span> (<span class="id">x</span>: <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_nan">abs_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_nan">abs_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_nan">abs_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6373')">Proof.</div>
<div class="proofscript" id="proof6373">
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">intros</span> <span class="id">abs_nan</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Babs_Bopp">Babs_Bopp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">abs_nan</span> <span class="id">opp_nan</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_nan">abs_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#opp_nan">opp_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_nan">abs_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6374')">Proof.</div>
<div class="proofscript" id="proof6374">
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">intros</span> <span class="id">abs_nan</span> <span class="id">opp_nan</span> [| | |].<br/>
Qed.</div>
<br/>
<div class="doc">Comparison
<span class="bracket"><span class="id">Some</span> <span class="id">c</span></span> means ordered as per <span class="bracket"><span class="id">c</span></span>; <span class="bracket"><span class="id">None</span></span> means unordered. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bcompare">Bcompare</a></span> (<span class="id">f1</span> <span class="id">f2</span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#comparison">comparison</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f1">f1</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f2">f2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>,<span class="id">_</span> | <span class="id">_</span>,<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">s1</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">s2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="kwd">match</span> <span class="id">s1</span>, <span class="id">s2</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">s</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="kwd">if</span> <span class="id">s</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">s</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="kwd">if</span> <span class="id">s</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">s</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="kwd">if</span> <span class="id">s</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">s</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="kwd">if</span> <span class="id">s</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">s1</span> <span class="id">m1</span> <span class="id">e1</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">s2</span> <span class="id">m2</span> <span class="id">e2</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="kwd">match</span> <span class="id">s1</span>, <span class="id">s2</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.compare">Z.compare</a></span> <span class="id">e1</span> <span class="id">e2</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pcompare">Pcompare</a></span> <span class="id">m1</span> <span class="id">m2</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.compare">Z.compare</a></span> <span class="id">e1</span> <span class="id">e2</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#CompOpp">CompOpp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pcompare">Pcompare</a></span> <span class="id">m1</span> <span class="id">m2</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bcompare_correct">Bcompare_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f1">f1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f2">f2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bcompare">Bcompare</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f1">f1</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f2">f2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare">Rcompare</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f1">f1</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f2">f2</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6375')">Proof.</div>
<div class="proofscript" id="proof6375">
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">apply_Rcompare</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> = <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare">Rcompare</a></span> <span class="id">_</span> <span class="id">_</span> ] =&gt; <span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_Lt">Rcompare_Lt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> = <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare">Rcompare</a></span> <span class="id">_</span> <span class="id">_</span> ] =&gt; <span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_Eq">Rcompare_Eq</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> = <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare">Rcompare</a></span> <span class="id">_</span> <span class="id">_</span> ] =&gt; <span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_Gt">Rcompare_Gt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bcompare">Bcompare</a></span>; <span class="tactic">intros</span> <span class="id">f1</span> <span class="id">f2</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f1</span>, <span class="id">f2</span>; <span class="tactic">try</span> <span class="id">easy</span>; <span class="tactic">apply</span> <span class="tactic">f_equal</span>; <span class="tactic">clear</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_Eq">Rcompare_Eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s0</span> ; <span class="id">apply_Rcompare</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span> ; <span class="id">apply_Rcompare</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="kwd">in</span> <span class="id">e0</span>; <span class="tactic">destruct</span> <span class="id">e0</span>; <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_canonical_mantissa">canonical_canonical_mantissa</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="kwd">in</span> <span class="id">e2</span>; <span class="tactic">destruct</span> <span class="id">e2</span>; <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_canonical_mantissa">canonical_canonical_mantissa</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#Zcompare_spec">Zcompare_spec</a></span> <span class="id">e</span> <span class="id">e1</span>); <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#Fexp">Fexp</a></span> <span class="kwd">in</span> <span class="id">H1</span>, <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">e1</span> <span class="id">e2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m1">m1</a></span>) * <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e1">e1</a></span>)%<span class="id">R</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">y</span> := (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m2">m2</a></span>) * <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e2">e2</a></span>)%<span class="id">R</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> &lt; <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)%<span class="id">Z</span> -&gt; (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> &lt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)%<span class="id">R</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rnot_le_lt">Rnot_le_lt</a></span>; <span class="tactic">intro</span>; <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag_le">mag_le</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span>) <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_not_le">Zlt_not_le</a></span> <span class="kwd">with</span> (1 := <span class="id">H4</span>).<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp_monotone">fexp_monotone</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m2</span>) <span class="id">e2</span>)).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">e1</span> <span class="id">e2</span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (- <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m1">m1</a></span>) * <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e1">e1</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m2">m2</a></span>) * <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e2">e2</a></span>)%<span class="id">R</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rlt_trans">Rlt_trans</a></span> <span class="id">_</span> 0%<span class="id">R</span>).<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">m1</span>) <span class="id">e0</span>)).<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m2</span>) <span class="id">e2</span>)).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#Fexp">Fexp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>, <span class="id">s0</span>; <span class="tactic">try</span> (<span class="id">now</span> <span class="id">apply_Rcompare</span>; <span class="tactic">apply</span> <span class="id">H5</span>); <span class="tactic">inversion</span> <span class="id">H3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">apply_Rcompare</span>; <span class="tactic">apply</span> <span class="id">H4</span>; <span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">assumption</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">apply_Rcompare</span>; <span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#opp_IZR">opp_IZR</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_mult_distr_l_reverse">Ropp_mult_distr_l_reverse</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_lt_contravar">Ropp_lt_contravar</a></span>; <span class="tactic">apply</span> <span class="id">H4</span>; <span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">assumption</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H7</span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_mult_r">Rcompare_mult_r</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_IZR">Rcompare_IZR</a></span> <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>); <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bcompare_swap">Bcompare_swap</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bcompare">Bcompare</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bcompare">Bcompare</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">c</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#CompOpp">CompOpp</a></span> <span class="id">c</span>) | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6376')">Proof.</div>
<div class="proofscript" id="proof6376">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [ ? | [] | ? ? | [] <span class="id">mx</span> <span class="id">ex</span> <span class="id">Bx</span> ];<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">y</span> <span class="kwd">as</span> [ ? | [] | ? ? | [] <span class="id">my</span> <span class="id">ey</span> <span class="id">By</span> ]; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
- <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zcompare.html#Zcompare_antisym">Zcompare_antisym</a></span> <span class="id">ex</span> <span class="id">ey</span>). <span class="tactic">destruct</span> (<span class="id">ex</span> ?= <span class="id">ey</span>)%<span class="id">Z</span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pcompare_antisym">Pcompare_antisym</a></span> <span class="id">mx</span> <span class="id">my</span>).<br/>
- <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zcompare.html#Zcompare_antisym">Zcompare_antisym</a></span> <span class="id">ex</span> <span class="id">ey</span>). <span class="tactic">destruct</span> (<span class="id">ex</span> ?= <span class="id">ey</span>)%<span class="id">Z</span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pcompare_antisym">Pcompare_antisym</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="bounded_lt_emax">bounded_lt_emax</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mx</span> <span class="id">ex</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>) &lt; <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6377')">Proof.</div>
<div class="proofscript" id="proof6377">
<span class="tactic">intros</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>) <span class="kwd">as</span> (<span class="id">H1</span>,<span class="id">H2</span>).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zeq_bool_eq">Zeq_bool_eq</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>). <span class="tactic">clear</span> <span class="id">H1</span>. <span class="tactic">intro</span> <span class="id">H1</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_bool_imp_le">Zle_bool_imp_le</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H2</span>). <span class="tactic">clear</span> <span class="id">H2</span>. <span class="tactic">intro</span> <span class="id">H2</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Float_prop.html#mag_F2R_Zdigits">mag_F2R_Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>))) <span class="kwd">as</span> (<span class="id">e</span>',<span class="id">Ex</span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_val">mag_val</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">e</span>').<br/>
<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zabs">F2R_Zabs</a></span>.<br/>
<span class="tactic">apply</span> <span class="id">Ex</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_le">bpow_le</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H</span>. 2: <span class="tactic">discriminate</span>.<br/>
<span class="id">revert</span> <span class="id">H1</span>. <span class="tactic">clear</span> -<span class="id">H2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>.<br/>
<span class="tactic">intros</span> ; <span class="id">zify</span> ; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="bounded_ge_emin">bounded_ge_emin</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mx</span> <span class="id">ex</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span> &lt;= <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>))%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6378')">Proof.</div>
<div class="proofscript" id="proof6378">
<span class="tactic">intros</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>) <span class="kwd">as</span> [<span class="id">H1</span> <span class="id">_</span>].<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zeq_bool_eq">Zeq_bool_eq</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Float_prop.html#mag_F2R_Zdigits">mag_F2R_Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>))) <span class="kwd">as</span> [<span class="id">e</span>' <span class="id">Ex</span>].<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_val">mag_val</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="tactic">assert</span> (<span class="id">H0</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span> &lt;&gt; 0%<span class="id">Z</span>) <span class="tactic">by</span> <span class="id">easy</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> <span class="kwd">in</span> <span class="id">Ex</span> <span class="tactic">by</span> <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_ge_0">F2R_ge_0</a></span>.<br/>
<span class="tactic">refine</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id">Ex</span> <span class="id">_</span>))).<br/>
2: <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_neq_0">F2R_neq_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_le">bpow_le</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H</span> <span class="tactic">by</span> <span class="id">easy</span>.<br/>
<span class="id">revert</span> <span class="id">H1</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits_gt_0">Zdigits_gt_0</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">H0</span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>.<br/>
<span class="tactic">clear</span> -<span class="id">prec_gt_0_</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>.<br/>
<span class="id">clearbody</span> <span class="id">emin</span>.<br/>
<span class="tactic">intros</span> ; <span class="id">zify</span> ; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="abs_B2R_lt_emax">abs_B2R_lt_emax</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) &lt; <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6379')">Proof.</div>
<div class="proofscript" id="proof6379">
<span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span> <span class="id">Hx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] ; <span class="tactic">simpl</span> ; <span class="tactic">try</span> ( <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span> ; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span> ).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zabs">F2R_Zabs</a></span>, <span class="id"><a href="compcert.flocq.Core.Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded_lt_emax">bounded_lt_emax</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="abs_B2R_ge_emin">abs_B2R_ge_emin</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_strict">is_finite_strict</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span> &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>))%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6380')">Proof.</div>
<div class="proofscript" id="proof6380">
<span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span> <span class="id">Hx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] ; <span class="tactic">simpl</span> ; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
<span class="tactic">intros</span>; <span class="tactic">case</span> <span class="id">sx</span>; <span class="tactic">simpl</span>.<br/>
- <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_mult">Rabs_mult</a></span>, &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#abs_IZR">abs_IZR</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>; [|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>].<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded_ge_emin">bounded_ge_emin</a></span>.<br/>
- <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_mult">Rabs_mult</a></span>, &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#abs_IZR">abs_IZR</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>; [|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>].<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded_ge_emin">bounded_ge_emin</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="bounded_canonical_lt_emax">bounded_canonical_lt_emax</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mx</span> <span class="id">ex</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>) &lt; <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6381')">Proof.</div>
<div class="proofscript" id="proof6381">
<span class="tactic">intros</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Cx</span> <span class="id">Bx</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_true_intro">andb_true_intro</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_mantissa">canonical_mantissa</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#Fexp">Fexp</a></span> <span class="kwd">in</span> <span class="id">Cx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Cx</span> <span class="tactic">at</span> 2.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#mag_F2R_Zdigits">mag_F2R_Zdigits</a></span>. 2: <span class="tactic">discriminate</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zeq_is_eq_bool">Zeq_is_eq_bool</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zle_bool_true">Zle_bool_true</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#Fexp">Fexp</a></span> <span class="kwd">in</span> <span class="id">Cx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Cx</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>))) <span class="kwd">as</span> (<span class="id">e</span>',<span class="id">Ex</span>). <span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_lub">Z.max_lub</a></span>.<br/>
<span class="tactic">cut</span> (<span class="id">e</span>' - 1 &lt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>)%<span class="id">Z</span>. <span class="tactic">clear</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#lt_bpow">lt_bpow</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="kwd">with</span> (2 := <span class="id">Bx</span>).<br/>
<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zabs">F2R_Zabs</a></span>.<br/>
<span class="tactic">apply</span> <span class="id">Ex</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>).<br/>
<span class="tactic">clear</span> -<span class="id">Hmax</span> ; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Truncation </div>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="shr_record">shr_record</a></span> := { <span class="id"><a name="shr_m">shr_m</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> ; <span class="id"><a name="shr_r">shr_r</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> ; <span class="id"><a name="shr_s">shr_s</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> }.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shr_1">shr_1</a></span> <span class="id">mrs</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> <span class="id">m</span> <span class="id">r</span> <span class="id">s</span>) := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mrs">mrs</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">s</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span> <span class="id">r</span> <span class="id">s</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">m</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xO">xO</a></span> <span class="id">p</span>) =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xI">xI</a></span> <span class="id">p</span>) =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xO">xO</a></span> <span class="id">p</span>) =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">p</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xI">xI</a></span> <span class="id">p</span>) =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">p</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="loc_of_shr_record">loc_of_shr_record</a></span> <span class="id">mrs</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mrs">mrs</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Exact">loc_Exact</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Inexact">loc_Inexact</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Inexact">loc_Inexact</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Inexact">loc_Inexact</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shr_record_of_loc">shr_record_of_loc</a></span> <span class="id">m</span> <span class="id">l</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#l">l</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Exact">loc_Exact</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Inexact">loc_Inexact</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Inexact">loc_Inexact</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Inexact">loc_Inexact</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Build_shr_record">Build_shr_record</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="shr_m_shr_record_of_loc">shr_m_shr_record_of_loc</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m">shr_m</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_record_of_loc">shr_record_of_loc</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#l">l</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6382')">Proof.</div>
<div class="proofscript" id="proof6382">
<span class="id">now</span> <span class="tactic">intros</span> <span class="id">m</span> [|[| |]].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="loc_of_shr_record_of_loc">loc_of_shr_record_of_loc</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#loc_of_shr_record">loc_of_shr_record</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_record_of_loc">shr_record_of_loc</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#l">l</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#l">l</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6383')">Proof.</div>
<div class="proofscript" id="proof6383">
<span class="id">now</span> <span class="tactic">intros</span> <span class="id">m</span> [|[| |]].<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shr">shr</a></span> <span class="id">mrs</span> <span class="id">e</span> <span class="id">n</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#n">n</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span> =&gt; (<span class="id"><a href="compcert.flocq.Core.Zaux.html#iter_pos">iter_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_1">shr_1</a></span> <span class="id">p</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mrs">mrs</a></span>, (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span> + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#n">n</a></span>)%<span class="id">Z</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mrs">mrs</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inbetween_shr_1">inbetween_shr_1</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">mrs</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;(0 &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m">shr_m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mrs">mrs</a></span>)%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float">inbetween_float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m">shr_m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mrs">mrs</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#loc_of_shr_record">loc_of_shr_record</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mrs">mrs</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float">inbetween_float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m">shr_m</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_1">shr_1</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mrs">mrs</a></span>)) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span> + 1) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#loc_of_shr_record">loc_of_shr_record</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_1">shr_1</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mrs">mrs</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6384')">Proof.</div>
<div class="proofscript" id="proof6384">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">mrs</span> <span class="id">e</span> <span class="id">Hm</span> <span class="id">Hl</span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Calc.Bracket.html#new_location_even_correct">new_location_even_correct</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m">shr_m</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_1">shr_1</a></span> <span class="id">mrs</span>)) (<span class="id">e</span> + 1))) (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">e</span>) 2 <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> (<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_r">shr_r</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_1">shr_1</a></span> <span class="id">mrs</span>) <span class="kwd">then</span> 1 <span class="kwd">else</span> 0) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#loc_of_shr_record">loc_of_shr_record</a></span> <span class="id">mrs</span>) <span class="id">_</span> <span class="id">_</span>)) ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
2: <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
2: <span class="id">now</span> <span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_r">shr_r</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_1">shr_1</a></span> <span class="id">mrs</span>)) ; <span class="tactic">split</span>.<br/>
<span class="id">change</span> 2%<span class="id">R</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> 1).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_comm">Zplus_comm</a></span> 1), &lt;- (<span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_bpow">F2R_bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id">e</span> + 1)).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float">inbetween_float</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>. <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#plus_IZR">plus_IZR</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_plus_distr_r">Rmult_plus_distr_r</a></span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Calc.Bracket.html#new_location_even">new_location_even</a></span> 2 (<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_r">shr_r</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_1">shr_1</a></span> <span class="id">mrs</span>) <span class="kwd">then</span> 1%<span class="id">Z</span> <span class="kwd">else</span> 0%<span class="id">Z</span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#loc_of_shr_record">loc_of_shr_record</a></span> <span class="id">mrs</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#loc_of_shr_record">loc_of_shr_record</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_1">shr_1</a></span> <span class="id">mrs</span>)).<br/>
<span class="id">easy</span>.<br/>
<span class="tactic">clear</span> -<span class="id">Hm</span>.<br/>
<span class="tactic">destruct</span> <span class="id">mrs</span> <span class="kwd">as</span> (<span class="id">m</span>, <span class="id">r</span>, <span class="id">s</span>).<br/>
<span class="id">now</span> <span class="tactic">destruct</span> <span class="id">m</span> <span class="kwd">as</span> [|[<span class="id">m</span>|<span class="id">m</span>|]|<span class="id">m</span>] ; <span class="tactic">try</span> (<span class="id">now</span> <span class="tactic">elim</span> <span class="id">Hm</span>) ; <span class="tactic">destruct</span> <span class="id">r</span> <span class="kwd">as</span> [|] ; <span class="tactic">destruct</span> <span class="id">s</span> <span class="kwd">as</span> [|].<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_change_exp">F2R_change_exp</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">e</span>).<br/>
2: <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_succ">Zle_succ</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>. <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> &lt;- 2!<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_plus_distr_r">Rmult_plus_distr_r</a></span>, &lt;- 2!<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#plus_IZR">plus_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_assoc">Zplus_assoc</a></span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m">shr_m</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_1">shr_1</a></span> <span class="id">mrs</span>) * 2 ^ (<span class="id">e</span> + 1 - <span class="id">e</span>) + (<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_r">shr_r</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_1">shr_1</a></span> <span class="id">mrs</span>) <span class="kwd">then</span> 1%<span class="id">Z</span> <span class="kwd">else</span> 0%<span class="id">Z</span>))%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m">shr_m</a></span> <span class="id">mrs</span>).<br/>
<span class="tactic">exact</span> <span class="id">Hl</span>.<br/>
<span class="id">ring_simplify</span> (<span class="id">e</span> + 1 - <span class="id">e</span>)%<span class="id">Z</span>.<br/>
<span class="id">change</span> (2^1)%<span class="id">Z</span> <span class="kwd">with</span> 2%<span class="id">Z</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmult_comm">Zmult_comm</a></span>.<br/>
<span class="tactic">clear</span> -<span class="id">Hm</span>.<br/>
<span class="tactic">destruct</span> <span class="id">mrs</span> <span class="kwd">as</span> (<span class="id">m</span>, <span class="id">r</span>, <span class="id">s</span>).<br/>
<span class="id">now</span> <span class="tactic">destruct</span> <span class="id">m</span> <span class="kwd">as</span> [|[<span class="id">m</span>|<span class="id">m</span>|]|<span class="id">m</span>] ; <span class="tactic">try</span> (<span class="id">now</span> <span class="tactic">elim</span> <span class="id">Hm</span>) ; <span class="tactic">destruct</span> <span class="id">r</span> <span class="kwd">as</span> [|] ; <span class="tactic">destruct</span> <span class="id">s</span> <span class="kwd">as</span> [|].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="inbetween_shr">inbetween_shr</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;(0 &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>)%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float">inbetween_float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#l">l</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">mrs</span>, <span class="id">e</span>') := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr">shr</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_record_of_loc">shr_record_of_loc</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#l">l</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#n">n</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float">inbetween_float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m">shr_m</a></span> <span class="id">mrs</span>) <span class="id">e</span>' <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#loc_of_shr_record">loc_of_shr_record</a></span> <span class="id">mrs</span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6385')">Proof.</div>
<div class="proofscript" id="proof6385">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span> <span class="id">n</span> <span class="id">Hm</span> <span class="id">Hl</span>.<br/>
<span class="tactic">destruct</span> <span class="id">n</span> <span class="kwd">as</span> [|<span class="id">n</span>|<span class="id">n</span>].<br/>
<span class="id">now</span> <span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [|[| |]].<br/>
2: <span class="id">now</span> <span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [|[| |]].<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr">shr</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#iter_pos_nat">iter_pos_nat</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Zpos_eq_Z_of_nat_o_nat_of_P">Zpos_eq_Z_of_nat_o_nat_of_P</a></span>.<br/>
<span class="tactic">induction</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#nat_of_P">nat_of_P</a></span> <span class="id">n</span>).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_0_r">Zplus_0_r</a></span>.<br/>
<span class="id">now</span> <span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [|[| |]].<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#iter_nat_S">iter_nat_S</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#inj_S">inj_S</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_assoc">Zplus_assoc</a></span>.<br/>
<span class="id">revert</span> <span class="id">IHn0</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#inbetween_shr_1">inbetween_shr_1</a></span>.<br/>
<span class="tactic">clear</span> -<span class="id">Hm</span>.<br/>
<span class="tactic">induction</span> <span class="id">n0</span>.<br/>
<span class="id">now</span> <span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [|[| |]].<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#iter_nat_S">iter_nat_S</a></span>.<br/>
<span class="id">revert</span> <span class="id">IHn0</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#iter_nat">iter_nat</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_1">shr_1</a></span> <span class="id">n0</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_record_of_loc">shr_record_of_loc</a></span> <span class="id">m</span> <span class="id">l</span>)).<br/>
<span class="tactic">clear</span>.<br/>
<span class="tactic">intros</span> (<span class="id">m</span>, <span class="id">r</span>, <span class="id">s</span>) <span class="id">Hm</span>.<br/>
<span class="id">now</span> <span class="tactic">destruct</span> <span class="id">m</span> <span class="kwd">as</span> [|[<span class="id">m</span>|<span class="id">m</span>|]|<span class="id">m</span>] ; <span class="tactic">try</span> (<span class="id">now</span> <span class="tactic">elim</span> <span class="id">Hm</span>) ; <span class="tactic">destruct</span> <span class="id">r</span> <span class="kwd">as</span> [|] ; <span class="tactic">destruct</span> <span class="id">s</span> <span class="kwd">as</span> [|].<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shr_fexp">shr_fexp</a></span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr">shr</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_record_of_loc">shr_record_of_loc</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#l">l</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits2">Zdigits2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>) - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>).<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="shr_truncate">shr_truncate</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;(0 &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>)%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_fexp">shr_fexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#l">l</a></span> =<br/>
&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">m</span>', <span class="id">e</span>', <span class="id">l</span>') := <span class="id"><a href="compcert.flocq.Calc.Round.html#truncate">truncate</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#l">l</a></span>) <span class="kwd">in</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_record_of_loc">shr_record_of_loc</a></span> <span class="id">m</span>' <span class="id">l</span>', <span class="id">e</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6386')">Proof.</div>
<div class="proofscript" id="proof6386">
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span> <span class="id">Hm</span>.<br/>
<span class="id">case_eq</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#truncate">truncate</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id">m</span>, <span class="id">e</span>, <span class="id">l</span>)).<br/>
<span class="tactic">intros</span> (<span class="id">m</span>', <span class="id">e</span>') <span class="id">l</span>'.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_fexp">shr_fexp</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits2_Zdigits">Zdigits2_Zdigits</a></span>.<br/>
<span class="id">case_eq</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">m</span> + <span class="id">e</span>) - <span class="id">e</span>)%<span class="id">Z</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">He</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Round.html#truncate">truncate</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">He</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="id">now</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">p</span> <span class="id">Hp</span>.<br/>
<span class="tactic">assert</span> (<span class="id">He</span>: (<span class="id">e</span> &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">m</span> + <span class="id">e</span>))%<span class="id">Z</span>).<br/>
<span class="tactic">clear</span> -<span class="id">Hp</span> ; <span class="id">zify</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float_ex">inbetween_float_ex</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span>) <span class="kwd">as</span> (<span class="id">x</span>, <span class="id">Hx</span>).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#inbetween_shr">inbetween_shr</a></span> <span class="id">x</span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">m</span> + <span class="id">e</span>) - <span class="id">e</span>) <span class="id">Hm</span> <span class="id">Hx</span>).<br/>
<span class="tactic">assert</span> (<span class="id">Hx0</span> : (0 &lt;= <span class="id">x</span>)%<span class="id">R</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">m</span> <span class="id">e</span>)).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_ge_0">F2R_ge_0</a></span>.<br/>
<span class="tactic">exact</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float_bounds">inbetween_float_bounds</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>)).<br/>
<span class="id">case_eq</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr">shr</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_record_of_loc">shr_record_of_loc</a></span> <span class="id">m</span> <span class="id">l</span>) <span class="id">e</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">m</span> + <span class="id">e</span>) - <span class="id">e</span>)).<br/>
<span class="tactic">intros</span> <span class="id">mrs</span> <span class="id">e</span>'' <span class="id">H3</span> <span class="id">H4</span> <span class="id">H1</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#truncate_correct">truncate_correct</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">_</span> <span class="id">x</span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span> <span class="id">Hx0</span> <span class="id">Hx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#or_introl">or_introl</a></span> <span class="id">_</span> <span class="id">He</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id">H1</span>.<br/>
<span class="tactic">intros</span> (<span class="id">H2</span>,<span class="id">_</span>).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hp</span>, <span class="id">H3</span>.<br/>
<span class="tactic">assert</span> (<span class="id">e</span>'' = <span class="id">e</span>').<br/>
<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id">mrs</span>, <span class="id">e</span>'') = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id">m</span>',<span class="id">e</span>',<span class="id">l</span>'))).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>, &lt;- <span class="id">H3</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Round.html#truncate">truncate</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hp</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H4</span> |- *.<br/>
<span class="tactic">apply</span> (<span class="tactic">f_equal</span> (<span class="kwd">fun</span> <span class="id">v</span> =&gt; (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#v">v</a></span>, <span class="id">_</span>))).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float_unique">inbetween_float_unique</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H2</span> <span class="id">H4</span>) <span class="kwd">as</span> (<span class="id">H5</span>, <span class="id">H6</span>).<br/>
<span class="tactic">rewrite</span> <span class="id">H5</span>, <span class="id">H6</span>.<br/>
<span class="tactic">case</span> <span class="id">mrs</span>.<br/>
<span class="id">now</span> <span class="tactic">intros</span> <span class="id">m0</span> [|] [|].<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">p</span> <span class="id">Hp</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Round.html#truncate">truncate</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hp</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="id">now</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Rounding modes </div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="mode">mode</a></span> := <span class="id"><a name="mode_NE">mode_NE</a></span> | <span class="id"><a name="mode_ZR">mode_ZR</a></span> | <span class="id"><a name="mode_DN">mode_DN</a></span> | <span class="id"><a name="mode_UP">mode_UP</a></span> | <span class="id"><a name="mode_NA">mode_NA</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="round_mode">round_mode</a></span> <span class="id">m</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span> =&gt; <span class="id"><a href="compcert.flocq.Core.Round_NE.html#ZnearestE">ZnearestE</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_ZR">mode_ZR</a></span> =&gt; <span class="id"><a href="compcert.flocq.Core.Raux.html#Ztrunc">Ztrunc</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_UP">mode_UP</a></span> =&gt; <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NA">mode_NA</a></span> =&gt; <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#ZnearestA">ZnearestA</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="choice_mode">choice_mode</a></span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">lx</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Round.html#cond_incr">cond_incr</a></span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#round_N">round_N</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>)) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#lx">lx</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_ZR">mode_ZR</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Round.html#cond_incr">cond_incr</a></span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#round_sign_DN">round_sign_DN</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#lx">lx</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_UP">mode_UP</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Round.html#cond_incr">cond_incr</a></span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#round_sign_UP">round_sign_UP</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#lx">lx</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NA">mode_NA</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Round.html#cond_incr">cond_incr</a></span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#round_N">round_N</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#lx">lx</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="valid_rnd_round_mode">valid_rnd_round_mode</a></span> : <span class="kwd">forall</span> <span class="id">m</span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_rnd">Valid_rnd</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6387')">Proof.</div>
<div class="proofscript" id="proof6387">
<span class="tactic">destruct</span> <span class="id">m</span> ; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> ; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="overflow_to_inf">overflow_to_inf</a></span> <span class="id">m</span> <span class="id">s</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NA">mode_NA</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_ZR">mode_ZR</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_UP">mode_UP</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="binary_overflow">binary_overflow</a></span> <span class="id">m</span> <span class="id">s</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#overflow_to_inf">overflow_to_inf</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_infinity">F754_infinity</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_finite">F754_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span> (<span class="kwd">match</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> 2 <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - 1)%<span class="id">Z</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span> =&gt; <span class="id">p</span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> <span class="kwd">end</span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="binary_round_aux">binary_round_aux</a></span> <span class="id">mode</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">lx</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">mrs</span>', <span class="id">e</span>') := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_fexp">shr_fexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#lx">lx</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">mrs</span>'', <span class="id">e</span>'') := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_fexp">shr_fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#choice_mode">choice_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode">mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m">shr_m</a></span> <span class="id">mrs</span>') (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#loc_of_shr_record">loc_of_shr_record</a></span> <span class="id">mrs</span>')) <span class="id">e</span>' <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Exact">loc_Exact</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m">shr_m</a></span> <span class="id">mrs</span>'' <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_zero">F754_zero</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_bool">Zle_bool</a></span> <span class="id">e</span>'' (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>) <span class="kwd">then</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_finite">F754_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> <span class="id">m</span> <span class="id">e</span>'' <span class="kwd">else</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode">mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_nan">F754_nan</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> <br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id">binary_round_aux_correct</span>' :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mode</span> <span class="id">x</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">lx</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> &lt;&gt; 0)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float">inbetween_float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#lx">lx</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> &lt;= <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">z</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_aux">binary_round_aux</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode">mode</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> 0) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#lx">lx</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_binary">valid_binary</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode">mode</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)) (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode">mode</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_FF">is_finite_FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\ <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sign_FF">sign_FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> 0<br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode">mode</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> 0).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6388')">Proof with</div>
<div class="proofscript" id="proof6388">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">x</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">lx</span> <span class="id">Px</span> <span class="id">Bx</span> <span class="id">Ex</span> <span class="id">z</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_aux">binary_round_aux</a></span> <span class="kwd">in</span> <span class="id">z</span>.<br/>
<span class="id">revert</span> <span class="id">z</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_truncate">shr_truncate</a></span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id">round_trunc_sign_any_correct</span>' <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id">m</span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#choice_mode">choice_mode</a></span> <span class="id">m</span>) <span class="id">_</span> <span class="id">x</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">lx</span> <span class="id">Bx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#or_introl">or_introl</a></span> <span class="id">_</span> <span class="id">Ex</span>))).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp_abs">cexp_abs</a></span> <span class="kwd">in</span> <span class="id">Ex</span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id">truncate_correct_partial</span>' <span class="id">_</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Bx</span> <span class="id">Ex</span>)).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#truncate">truncate</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id">mx</span>, <span class="id">ex</span>, <span class="id">lx</span>)) <span class="kwd">as</span> ((<span class="id">m1</span>, <span class="id">e1</span>), <span class="id">l1</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#loc_of_shr_record_of_loc">loc_of_shr_record_of_loc</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m_shr_record_of_loc">shr_m_shr_record_of_loc</a></span>.<br/>
<span class="tactic">set</span> (<span class="id">m1</span>' := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#choice_mode">choice_mode</a></span> <span class="id">m</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id">x</span> 0) <span class="id">m1</span> <span class="id">l1</span>).<br/>
<span class="tactic">intros</span> (<span class="id">H1a</span>,<span class="id">H1b</span>) <span class="id">H1c</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H1c</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Hm</span>: (<span class="id">m1</span> &lt;= <span class="id">m1</span>')%<span class="id">Z</span>).<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">unfold</span> <span class="id">m1</span>', <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#choice_mode">choice_mode</a></span>, <span class="id"><a href="compcert.flocq.Calc.Round.html#cond_incr">cond_incr</a></span>.<br/>
<span class="tactic">case</span> <span class="id">m</span> ;<br/>
&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span> ;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- (<span class="id">m1</span> &lt;= <span class="kwd">if</span> ?<span class="id">b</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>)%<span class="id">Z</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">case</span> <span class="id">b</span> ; [ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_succ">Zle_succ</a></span> | <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span> ] <span class="kwd">end</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Hr</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id">m</span>) <span class="id">x</span>) = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">m1</span>' <span class="id">e1</span>)).<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs_eq">Z.abs_eq</a></span> <span class="id">m1</span>').<br/>
<span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> <span class="id">m1</span>') <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id">x</span> 0) <span class="id">m1</span>')).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zabs">F2R_Zabs</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (2 := <span class="id">Hm</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_succ_le">Zlt_succ_le</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#gt_0_F2R">gt_0_F2R</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">e1</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="kwd">with</span> (1 := <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos">Rabs_pos</a></span> <span class="id">x</span>).<br/>
<span class="tactic">exact</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> (<span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float_bounds">inbetween_float_bounds</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1a</span>)).<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">assert</span> (<span class="id">Br</span>: <span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float">inbetween_float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">m1</span>' <span class="id">e1</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id">m</span>) <span class="id">x</span>)) <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Exact">loc_Exact</a></span>).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_Exact">inbetween_Exact</a></span>.<br/>
<span class="tactic">destruct</span> <span class="id">m1</span>' <span class="kwd">as</span> [|<span class="id">m1</span>'|<span class="id">m1</span>'].<br/>
<span class="comment">(*&nbsp;.&nbsp;m1'&nbsp;=&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_truncate">shr_truncate</a></span>. 2: <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#truncate_0">truncate_0</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> <span class="id">e1</span> <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Exact">loc_Exact</a></span>).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#truncate">truncate</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span>, <span class="id">e1</span>, <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Exact">loc_Exact</a></span>)) <span class="kwd">as</span> ((<span class="id">m2</span>, <span class="id">e2</span>), <span class="id">l2</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m_shr_record_of_loc">shr_m_shr_record_of_loc</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">Hm2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hm2</span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> ; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_0">F2R_0</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zabs">F2R_Zabs</a></span>, <span class="id"><a href="compcert.flocq.Core.Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>, <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_0">F2R_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;0&nbsp;&lt;&nbsp;m1'&nbsp;*)</span><br/>
<span class="tactic">assert</span> (<span class="id">He</span>: (<span class="id">e1</span> &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m1</span>') + <span class="id">e1</span>))%<span class="id">Z</span>).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Float_prop.html#mag_F2R_Zdigits">mag_F2R_Zdigits</a></span>, &lt;- <span class="id">Hr</span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_abs">mag_abs</a></span>.<br/>
2: <span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H1b</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp_abs">cexp_abs</a></span>.<br/>
<span class="id">fold</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id">m</span>) <span class="id">x</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp_round_ge">cexp_round_ge</a></span>...<br/>
<span class="tactic">rewrite</span> <span class="id">H1c</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id">x</span> 0).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_eq">Rlt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#truncate_correct_partial">truncate_correct_partial</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Br</span> <span class="id">He</span>)).<br/>
2: <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hr</span> ; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#truncate_correct_format">truncate_correct_format</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m1</span>') <span class="id">e1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">He</span>)).<br/>
2: <span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_truncate">shr_truncate</a></span>. 2: <span class="id">easy</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#truncate">truncate</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m1</span>', <span class="id">e1</span>, <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Exact">loc_Exact</a></span>)) <span class="kwd">as</span> ((<span class="id">m2</span>, <span class="id">e2</span>), <span class="id">l2</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m_shr_record_of_loc">shr_m_shr_record_of_loc</a></span>.<br/>
<span class="tactic">intros</span> (<span class="id">H3</span>,<span class="id">H4</span>) (<span class="id">H2</span>,<span class="id">_</span>).<br/>
<span class="tactic">destruct</span> <span class="id">m2</span> <span class="kwd">as</span> [|<span class="id">m2</span>|<span class="id">m2</span>].<br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span> <span class="kwd">with</span> (2 := <span class="id">H3</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_0">F2R_0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_cond_Zopp">F2R_cond_Zopp</a></span>, <span class="id">H3</span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#abs_cond_Ropp">abs_cond_Ropp</a></span>, &lt;- <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_abs">F2R_abs</a></span>.<br/>
<span class="tactic">simpl</span> <span class="id">Z.abs</span>.<br/>
<span class="id">case_eq</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_bool">Zle_bool</a></span> <span class="id">e2</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)) ; <span class="tactic">intros</span> <span class="id">He2</span>.<br/>
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="id">m2</span> <span class="id">e2</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_true_intro">andb_true_intro</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_mantissa">canonical_mantissa</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zeq_bool_true">Zeq_bool_true</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Float_prop.html#mag_F2R_Zdigits">mag_F2R_Zdigits</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
<span class="tactic">discriminate</span>.<br/>
<span class="tactic">exact</span> <span class="id">He2</span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span> <span class="id">H</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_cond_Zopp">F2R_cond_Zopp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded_lt_emax">bounded_lt_emax</a></span>.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_false">Rlt_bool_false</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>)).<br/>
<span class="tactic">refine</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#refl_equal">refl_equal</a></span> <span class="id">_</span>)).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_overflow">binary_overflow</a></span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#overflow_to_inf">overflow_to_inf</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#refl_equal">refl_equal</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_binary">valid_binary</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_bool_refl">Zle_bool_refl</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">Bool.andb_true_r</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zeq_bool_true">Zeq_bool_true</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="kwd">match</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> 2 <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - 1)%<span class="id">Z</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span> =&gt; <span class="id">p</span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> <span class="kwd">end</span>))) <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>).<br/>
<span class="tactic">clear</span> -<span class="id">Hmax</span> ; <span class="id">zify</span> ; <span class="tactic">omega</span>.<br/>
<span class="id">change</span> 2%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span>).<br/>
<span class="id">case_eq</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - 1)%<span class="id">Z</span>.<br/>
<span class="tactic">simpl</span> <span class="id">Zdigits</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#Zpower_gt_1">Zpower_gt_1</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)).<br/>
<span class="tactic">clear</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">intros</span> <span class="id">p</span> <span class="id">Hp</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_antisym">Zle_antisym</a></span>.<br/>
<span class="tactic">cut</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - 1 &lt; <span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>))%<span class="id">Z</span>. <span class="tactic">clear</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits_gt_Zpower">Zdigits_gt_Zpower</a></span>.<br/>
<span class="tactic">simpl</span> <span class="id">Z.abs</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">Hp</span>.<br/>
<span class="tactic">cut</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - 1) &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)%<span class="id">Z</span>. <span class="tactic">clear</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#lt_IZR">lt_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> 2!<span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span>. 2: <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_le_weak">Zlt_le_weak</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_lt">bpow_lt</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_pred">Zlt_pred</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_0_le_0_pred">Zlt_0_le_0_pred</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits_le_Zpower">Zdigits_le_Zpower</a></span>.<br/>
<span class="tactic">simpl</span> <span class="id">Z.abs</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">Hp</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_pred">Zlt_pred</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">p</span> <span class="id">Hp</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#Zpower_gt_1">Zpower_gt_1</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)).<br/>
<span class="tactic">clear</span> -<span class="id">Hp</span> ; <span class="id">zify</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rnot_lt_le">Rnot_lt_le</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#refl_equal">refl_equal</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="id">m2</span> <span class="id">e2</span>)).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="tactic">at</span> 2.<br/>
<span class="tactic">rewrite</span> <span class="id">He2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">Bool.andb_false_r</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded_canonical_lt_emax">bounded_canonical_lt_emax</a></span> <span class="kwd">with</span> (2 := <span class="id">Hx</span>).<br/>
<span class="tactic">discriminate</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">H3</span>.<br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span> <span class="kwd">with</span> (2 := <span class="id">H3</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rlt_trans">Rlt_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R0">R0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hr</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_abs">generic_format_abs</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="comment">(*&nbsp;.&nbsp;not&nbsp;m1'&nbsp;&lt;&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span> <span class="kwd">with</span> (2 := <span class="id">Hr</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R0">R0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos">Rabs_pos</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_lt">Rabs_pos_lt</a></span>.<br/>
<span class="comment">(*&nbsp;all&nbsp;the&nbsp;modes&nbsp;are&nbsp;valid&nbsp;*)</span><br/>
<span class="tactic">clear</span>. <span class="tactic">case</span> <span class="id">m</span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.Calc.Round.html#inbetween_int_NE_sign">inbetween_int_NE_sign</a></span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.Calc.Round.html#inbetween_int_ZR_sign">inbetween_int_ZR_sign</a></span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.Calc.Round.html#inbetween_int_DN_sign">inbetween_int_DN_sign</a></span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.Calc.Round.html#inbetween_int_UP_sign">inbetween_int_UP_sign</a></span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.Calc.Round.html#inbetween_int_NA_sign">inbetween_int_NA_sign</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float_bounds">inbetween_float_bounds</a></span> <span class="kwd">in</span> <span class="id">Bx</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_succ_le">Zlt_succ_le</a></span>.<br/>
<span class="tactic">eapply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#gt_0_F2R">gt_0_F2R</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="kwd">with</span> (2 := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id">Bx</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos">Rabs_pos</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="binary_round_aux_correct">binary_round_aux_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mode</span> <span class="id">x</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">lx</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float">inbetween_float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#lx">lx</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>) + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>))%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">z</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_aux">binary_round_aux</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode">mode</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> 0) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#lx">lx</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_binary">valid_binary</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode">mode</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)) (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode">mode</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_FF">is_finite_FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\ <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sign_FF">sign_FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> 0<br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode">mode</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> 0).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6389')">Proof with</div>
<div class="proofscript" id="proof6389">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">x</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">lx</span> <span class="id">Bx</span> <span class="id">Ex</span> <span class="id">z</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_aux">binary_round_aux</a></span> <span class="kwd">in</span> <span class="id">z</span>.<br/>
<span class="id">revert</span> <span class="id">z</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_truncate">shr_truncate</a></span>. 2: <span class="id">easy</span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#round_trunc_sign_any_correct">round_trunc_sign_any_correct</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id">m</span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#choice_mode">choice_mode</a></span> <span class="id">m</span>) <span class="id">_</span> <span class="id">x</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span> <span class="id">lx</span> <span class="id">Bx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#or_introl">or_introl</a></span> <span class="id">_</span> <span class="id">Ex</span>))).<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#truncate_correct_partial">truncate_correct_partial</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Bx</span> <span class="id">Ex</span>)).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#truncate">truncate</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>, <span class="id">ex</span>, <span class="id">lx</span>)) <span class="kwd">as</span> ((<span class="id">m1</span>, <span class="id">e1</span>), <span class="id">l1</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#loc_of_shr_record_of_loc">loc_of_shr_record_of_loc</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m_shr_record_of_loc">shr_m_shr_record_of_loc</a></span>.<br/>
<span class="tactic">set</span> (<span class="id">m1</span>' := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#choice_mode">choice_mode</a></span> <span class="id">m</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id">x</span> 0) <span class="id">m1</span> <span class="id">l1</span>).<br/>
<span class="tactic">intros</span> (<span class="id">H1a</span>,<span class="id">H1b</span>) <span class="id">H1c</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H1c</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Hm</span>: (<span class="id">m1</span> &lt;= <span class="id">m1</span>')%<span class="id">Z</span>).<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">unfold</span> <span class="id">m1</span>', <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#choice_mode">choice_mode</a></span>, <span class="id"><a href="compcert.flocq.Calc.Round.html#cond_incr">cond_incr</a></span>.<br/>
<span class="tactic">case</span> <span class="id">m</span> ;<br/>
&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span> ;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- (<span class="id">m1</span> &lt;= <span class="kwd">if</span> ?<span class="id">b</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>)%<span class="id">Z</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">case</span> <span class="id">b</span> ; [ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_succ">Zle_succ</a></span> | <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span> ] <span class="kwd">end</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Hr</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id">m</span>) <span class="id">x</span>) = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">m1</span>' <span class="id">e1</span>)).<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs_eq">Z.abs_eq</a></span> <span class="id">m1</span>').<br/>
<span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> <span class="id">m1</span>') <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id">x</span> 0) <span class="id">m1</span>')).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zabs">F2R_Zabs</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (2 := <span class="id">Hm</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_succ_le">Zlt_succ_le</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#gt_0_F2R">gt_0_F2R</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">e1</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="kwd">with</span> (1 := <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos">Rabs_pos</a></span> <span class="id">x</span>).<br/>
<span class="tactic">exact</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> (<span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float_bounds">inbetween_float_bounds</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1a</span>)).<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">assert</span> (<span class="id">Br</span>: <span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float">inbetween_float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">m1</span>' <span class="id">e1</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id">m</span>) <span class="id">x</span>)) <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Exact">loc_Exact</a></span>).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_Exact">inbetween_Exact</a></span>.<br/>
<span class="tactic">destruct</span> <span class="id">m1</span>' <span class="kwd">as</span> [|<span class="id">m1</span>'|<span class="id">m1</span>'].<br/>
<span class="comment">(*&nbsp;.&nbsp;m1'&nbsp;=&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_truncate">shr_truncate</a></span>. 2: <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#truncate_0">truncate_0</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> <span class="id">e1</span> <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Exact">loc_Exact</a></span>).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#truncate">truncate</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span>, <span class="id">e1</span>, <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Exact">loc_Exact</a></span>)) <span class="kwd">as</span> ((<span class="id">m2</span>, <span class="id">e2</span>), <span class="id">l2</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m_shr_record_of_loc">shr_m_shr_record_of_loc</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">Hm2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hm2</span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> ; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_0">F2R_0</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zabs">F2R_Zabs</a></span>, <span class="id"><a href="compcert.flocq.Core.Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>, <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_0">F2R_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;0&nbsp;&lt;&nbsp;m1'&nbsp;*)</span><br/>
<span class="tactic">assert</span> (<span class="id">He</span>: (<span class="id">e1</span> &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m1</span>') + <span class="id">e1</span>))%<span class="id">Z</span>).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Float_prop.html#mag_F2R_Zdigits">mag_F2R_Zdigits</a></span>, &lt;- <span class="id">Hr</span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_abs">mag_abs</a></span>.<br/>
2: <span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H1b</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp_abs">cexp_abs</a></span>.<br/>
<span class="id">fold</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id">m</span>) <span class="id">x</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp_round_ge">cexp_round_ge</a></span>...<br/>
<span class="tactic">rewrite</span> <span class="id">H1c</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id">x</span> 0).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_eq">Rlt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#truncate_correct_partial">truncate_correct_partial</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Br</span> <span class="id">He</span>)).<br/>
2: <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hr</span> ; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#truncate_correct_format">truncate_correct_format</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m1</span>') <span class="id">e1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">He</span>)).<br/>
2: <span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_truncate">shr_truncate</a></span>. 2: <span class="id">easy</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Round.html#truncate">truncate</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m1</span>', <span class="id">e1</span>, <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Exact">loc_Exact</a></span>)) <span class="kwd">as</span> ((<span class="id">m2</span>, <span class="id">e2</span>), <span class="id">l2</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shr_m_shr_record_of_loc">shr_m_shr_record_of_loc</a></span>.<br/>
<span class="tactic">intros</span> (<span class="id">H3</span>,<span class="id">H4</span>) (<span class="id">H2</span>,<span class="id">_</span>).<br/>
<span class="tactic">destruct</span> <span class="id">m2</span> <span class="kwd">as</span> [|<span class="id">m2</span>|<span class="id">m2</span>].<br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span> <span class="kwd">with</span> (2 := <span class="id">H3</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_0">F2R_0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_cond_Zopp">F2R_cond_Zopp</a></span>, <span class="id">H3</span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#abs_cond_Ropp">abs_cond_Ropp</a></span>, &lt;- <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_abs">F2R_abs</a></span>.<br/>
<span class="tactic">simpl</span> <span class="id">Z.abs</span>.<br/>
<span class="id">case_eq</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_bool">Zle_bool</a></span> <span class="id">e2</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)) ; <span class="tactic">intros</span> <span class="id">He2</span>.<br/>
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="id">m2</span> <span class="id">e2</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_true_intro">andb_true_intro</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_mantissa">canonical_mantissa</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zeq_bool_true">Zeq_bool_true</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Float_prop.html#mag_F2R_Zdigits">mag_F2R_Zdigits</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
<span class="tactic">discriminate</span>.<br/>
<span class="tactic">exact</span> <span class="id">He2</span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span> <span class="id">H</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_cond_Zopp">F2R_cond_Zopp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded_lt_emax">bounded_lt_emax</a></span>.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_false">Rlt_bool_false</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>)).<br/>
<span class="tactic">refine</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#refl_equal">refl_equal</a></span> <span class="id">_</span>)).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_overflow">binary_overflow</a></span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#overflow_to_inf">overflow_to_inf</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#refl_equal">refl_equal</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_binary">valid_binary</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_bool_refl">Zle_bool_refl</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">Bool.andb_true_r</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zeq_bool_true">Zeq_bool_true</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="kwd">match</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> 2 <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - 1)%<span class="id">Z</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span> =&gt; <span class="id">p</span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> <span class="kwd">end</span>))) <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>).<br/>
<span class="tactic">clear</span> -<span class="id">Hmax</span> ; <span class="id">zify</span> ; <span class="tactic">omega</span>.<br/>
<span class="id">change</span> 2%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span>).<br/>
<span class="id">case_eq</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - 1)%<span class="id">Z</span>.<br/>
<span class="tactic">simpl</span> <span class="id">Zdigits</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#Zpower_gt_1">Zpower_gt_1</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)).<br/>
<span class="tactic">clear</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">intros</span> <span class="id">p</span> <span class="id">Hp</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_antisym">Zle_antisym</a></span>.<br/>
<span class="tactic">cut</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - 1 &lt; <span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>))%<span class="id">Z</span>. <span class="tactic">clear</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits_gt_Zpower">Zdigits_gt_Zpower</a></span>.<br/>
<span class="tactic">simpl</span> <span class="id">Z.abs</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">Hp</span>.<br/>
<span class="tactic">cut</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - 1) &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)%<span class="id">Z</span>. <span class="tactic">clear</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#lt_IZR">lt_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> 2!<span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span>. 2: <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_le_weak">Zlt_le_weak</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_lt">bpow_lt</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_pred">Zlt_pred</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_0_le_0_pred">Zlt_0_le_0_pred</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits_le_Zpower">Zdigits_le_Zpower</a></span>.<br/>
<span class="tactic">simpl</span> <span class="id">Z.abs</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">Hp</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_pred">Zlt_pred</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">p</span> <span class="id">Hp</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#Zpower_gt_1">Zpower_gt_1</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)).<br/>
<span class="tactic">clear</span> -<span class="id">Hp</span> ; <span class="id">zify</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rnot_lt_le">Rnot_lt_le</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#refl_equal">refl_equal</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="id">m2</span> <span class="id">e2</span>)).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="tactic">at</span> 2.<br/>
<span class="tactic">rewrite</span> <span class="id">He2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">Bool.andb_false_r</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded_canonical_lt_emax">bounded_canonical_lt_emax</a></span> <span class="kwd">with</span> (2 := <span class="id">Hx</span>).<br/>
<span class="tactic">discriminate</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">H3</span>.<br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span> <span class="kwd">with</span> (2 := <span class="id">H3</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rlt_trans">Rlt_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R0">R0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hr</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_abs">generic_format_abs</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="comment">(*&nbsp;.&nbsp;not&nbsp;m1'&nbsp;&lt;&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span> <span class="kwd">with</span> (2 := <span class="id">Hr</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R0">R0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos">Rabs_pos</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (2 := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.Calc.Bracket.html#inbetween_float_bounds">inbetween_float_bounds</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Bx</span>)).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="comment">(*&nbsp;all&nbsp;the&nbsp;modes&nbsp;are&nbsp;valid&nbsp;*)</span><br/>
<span class="tactic">clear</span>. <span class="tactic">case</span> <span class="id">m</span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.Calc.Round.html#inbetween_int_NE_sign">inbetween_int_NE_sign</a></span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.Calc.Round.html#inbetween_int_ZR_sign">inbetween_int_ZR_sign</a></span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.Calc.Round.html#inbetween_int_DN_sign">inbetween_int_DN_sign</a></span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.Calc.Round.html#inbetween_int_UP_sign">inbetween_int_UP_sign</a></span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.Calc.Round.html#inbetween_int_NA_sign">inbetween_int_NA_sign</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Multiplication </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Bmult_correct_aux">Bmult_correct_aux</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> (<span class="id">Hx</span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> (<span class="id">Hy</span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#my">my</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ey">ey</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>),<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>)) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">y</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sy">sy</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#my">my</a></span>)) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ey">ey</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">z</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_aux">binary_round_aux</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sy">sy</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> * <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#my">my</a></span>)) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ey">ey</a></span>) <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Exact">loc_Exact</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_binary">valid_binary</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> * <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>))) (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> * <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_FF">is_finite_FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\ <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sign_FF">sign_FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sy">sy</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sy">sy</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6390')">Proof.</div>
<div class="proofscript" id="proof6390">
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span> <span class="id">x</span> <span class="id">y</span>.<br/>
<span class="tactic">unfold</span> <span class="id">x</span>, <span class="id">y</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_mult">F2R_mult</a></span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) * <span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) (<span class="id">ex</span> + <span class="id">ey</span>))) 0).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_aux_correct">binary_round_aux_correct</a></span>.<br/>
<span class="id">constructor</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_abs">F2R_abs</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_eq">F2R_eq</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zabs.html#Zabs_Zmult">Zabs_Zmult</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> 2!<span class="id"><a href="compcert.flocq.Core.Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id">mx</span> * <span class="id">my</span>)) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)%<span class="id">Z</span>.<br/>
<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">m</span> <span class="id">e</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>)%<span class="id">Z</span>.<br/>
<span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">m</span> <span class="id">e</span> <span class="id">Hb</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hb</span>) <span class="kwd">as</span> (<span class="id">H</span>,<span class="id">_</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zeq_bool_eq">Zeq_bool_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id">H</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>) (<span class="id">H</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hy</span>).<br/>
<span class="tactic">clear</span> <span class="id">x</span> <span class="id">y</span> <span class="id">sx</span> <span class="id">sy</span> <span class="id">Hx</span> <span class="id">Hy</span> <span class="id">H</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits_mult_ge">Zdigits_mult_ge</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>) <span class="id">_</span> <span class="id">_</span>)) ; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits_gt_0">Zdigits_gt_0</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">_</span>) (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits_gt_0">Zdigits_gt_0</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>) <span class="id">_</span>)) ; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)).<br/>
<span class="tactic">clear</span> -<span class="id">Hmax</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">dx</span> <span class="id">dy</span> <span class="id">dxy</span> <span class="id">Hx</span> <span class="id">Hy</span> <span class="id">Hxy</span>.<br/>
<span class="id">zify</span> ; <span class="tactic">intros</span> ; <span class="tactic">subst</span>.<br/>
<span class="tactic">omega</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">case</span> <span class="id">sx</span> ; <span class="tactic">case</span> <span class="id">sy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_false">Rlt_bool_false</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_ge_0">F2R_ge_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_false">Rlt_bool_false</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_ge_0">F2R_ge_0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bmult">Bmult</a></span> <span class="id">mult_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> | <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bmult_correct_aux">Bmult_correct_aux</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span>))<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bmult_correct">Bmult_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mult_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> * <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>))) (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bmult">Bmult</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> * <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bmult">Bmult</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bmult">Bmult</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bmult">Bmult</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>))<br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bmult">Bmult</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6391')">Proof.</div>
<div class="proofscript" id="proof6391">
<span class="tactic">intros</span> <span class="id">mult_nan</span> <span class="id">m</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span> <span class="id">Hplx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] [<span class="id">sy</span>|<span class="id">sy</span>|<span class="id">sy</span> <span class="id">ply</span> <span class="id">Hply</span>|<span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span>] ;<br/>
&nbsp;&nbsp;<span class="tactic">try</span> ( <span class="tactic">rewrite</span> ?<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_r">Rmult_0_r</a></span>, ?<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span> ; [ <span class="tactic">simpl</span> ; <span class="tactic">try</span> <span class="id">easy</span> ; <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_build_nan">B2R_build_nan</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_build_nan">is_finite_build_nan</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan_build_nan">is_nan_build_nan</a></span> | <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span> | <span class="id">now</span> <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span> ] ).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bmult_correct_aux">Bmult_correct_aux</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">H1</span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span>.<br/>
<span class="tactic">intros</span> (<span class="id">H2</span>, (<span class="id">H3</span>, <span class="id">H4</span>)).<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_FF2B">B2R_FF2B</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_FF2B">is_finite_FF2B</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign_FF2B">Bsign_FF2B</a></span>. <span class="tactic">auto</span>.<br/>
<span class="tactic">intros</span> <span class="id">H2</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF_FF2B">B2FF_FF2B</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Normalization and rounding </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shl_align">shl_align</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ex</span>' :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> (<span class="id">ex</span>' - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>)%<span class="id">Z</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">d</span> =&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#shift_pos">shift_pos</a></span> <span class="id">d</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>, <span class="id">ex</span>')<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="shl_align_correct">shl_align_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ex</span>',<br/>
&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">mx</span>', <span class="id">ex</span>'') := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align">shl_align</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> <span class="id">ex</span>' <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>) = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>') <span class="id">ex</span>'') /\<br/>
&nbsp;&nbsp;(<span class="id">ex</span>'' &lt;= <span class="id">ex</span>')%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6392')">Proof.</div>
<div class="proofscript" id="proof6392">
<span class="tactic">intros</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ex</span>'.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align">shl_align</a></span>.<br/>
<span class="id">case_eq</span> (<span class="id">ex</span>' - <span class="id">ex</span>)%<span class="id">Z</span>.<br/>
<span class="comment">(*&nbsp;d&nbsp;=&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zminus_eq">Zminus_eq</a></span> <span class="kwd">with</span> (1 := <span class="id">H</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span>.<br/>
<span class="comment">(*&nbsp;d&nbsp;&gt;&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">d</span> <span class="id">Hd</span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">replace</span> <span class="id">ex</span>' <span class="kwd">with</span> (<span class="id">ex</span>' - <span class="id">ex</span> + <span class="id">ex</span>)%<span class="id">Z</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hd</span>.<br/>
<span class="tactic">pattern</span> <span class="id">ex</span> <span class="tactic">at</span> 1 ; <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_0_l">Zplus_0_l</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zplus_le_compat_r">Zplus_le_compat_r</a></span>.<br/>
<span class="comment">(*&nbsp;d&nbsp;&lt;&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">d</span> <span class="id">Hd</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#shift_pos_correct">shift_pos_correct</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmult_comm">Zmult_comm</a></span>.<br/>
<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower_pos">Zpower_pos</a></span> 2 <span class="id">d</span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">d</span>)).<br/>
<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">d</span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.opp">Z.opp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">d</span>)).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hd</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">replace</span> (- (<span class="id">ex</span>' - <span class="id">ex</span>))%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id">ex</span> - <span class="id">ex</span>')%<span class="id">Z</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_change_exp">F2R_change_exp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_0_minus_le">Zle_0_minus_le</a></span>.<br/>
<span class="tactic">replace</span> (<span class="id">ex</span> - <span class="id">ex</span>')%<span class="id">Z</span> <span class="kwd">with</span> (- (<span class="id">ex</span>' - <span class="id">ex</span>))%<span class="id">Z</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hd</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="snd_shl_align">snd_shl_align</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ex</span>',<br/>
&nbsp;&nbsp;(<span class="id">ex</span>' &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>)%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align">shl_align</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> <span class="id">ex</span>') = <span class="id">ex</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6393')">Proof.</div>
<div class="proofscript" id="proof6393">
<span class="tactic">intros</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ex</span>' <span class="id">He</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align">shl_align</a></span>.<br/>
<span class="id">case_eq</span> (<span class="id">ex</span>' - <span class="id">ex</span>)%<span class="id">Z</span> ; <span class="tactic">simpl</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zminus_eq">Zminus_eq</a></span> <span class="kwd">with</span> (1 := <span class="id">H</span>).<br/>
<span class="tactic">intros</span> <span class="id">p</span>.<br/>
<span class="tactic">clear</span> -<span class="id">He</span> ; <span class="id">zify</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">intros</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#refl_equal">refl_equal</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shl_align_fexp">shl_align_fexp</a></span> <span class="id">mx</span> <span class="id">ex</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align">shl_align</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>) + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>)).<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="shl_align_fexp_correct">shl_align_fexp_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mx</span> <span class="id">ex</span>,<br/>
&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">mx</span>', <span class="id">ex</span>') := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align_fexp">shl_align_fexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>) = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>') <span class="id">ex</span>') /\<br/>
&nbsp;&nbsp;(<span class="id">ex</span>' &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>') + <span class="id">ex</span>'))%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6394')">Proof.</div>
<div class="proofscript" id="proof6394">
<span class="tactic">intros</span> <span class="id">mx</span> <span class="id">ex</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align_fexp">shl_align_fexp</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align_correct">shl_align_correct</a></span> <span class="id">mx</span> <span class="id">ex</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id">mx</span>) + <span class="id">ex</span>))).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align">shl_align</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">mx</span>' <span class="id">ex</span>' (<span class="id">H1</span>, <span class="id">H2</span>).<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">exact</span> <span class="id">H1</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Float_prop.html#mag_F2R_Zdigits">mag_F2R_Zdigits</a></span>. 2: <span class="id">easy</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#mag_F2R_Zdigits">mag_F2R_Zdigits</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="binary_round">binary_round</a></span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">mz</span>, <span class="id">ez</span>) := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align_fexp">shl_align_fexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> <span class="kwd">in</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_aux">binary_round_aux</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mz</span>) <span class="id">ez</span> <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Exact">loc_Exact</a></span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="binary_round_correct">binary_round_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span>,<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">z</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round">binary_round</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_binary">valid_binary</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>)) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)) (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_FF">is_finite_FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sign_FF">sign_FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6395')">Proof.</div>
<div class="proofscript" id="proof6395">
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round">binary_round</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align_fexp_correct">shl_align_fexp_correct</a></span> <span class="id">mx</span> <span class="id">ex</span>).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align_fexp">shl_align_fexp</a></span> <span class="id">mx</span> <span class="id">ex</span>) <span class="kwd">as</span> (<span class="id">mz</span>, <span class="id">ez</span>).<br/>
<span class="tactic">intros</span> (<span class="id">H1</span>, <span class="id">H2</span>).<br/>
<span class="tactic">set</span> (<span class="id">x</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) <span class="id">ex</span>)).<br/>
<span class="tactic">replace</span> <span class="id">sx</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id">x</span> 0).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_aux_correct">binary_round_aux_correct</a></span>.<br/>
<span class="id">constructor</span>.<br/>
<span class="tactic">unfold</span> <span class="id">x</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zabs">F2R_Zabs</a></span>, <span class="id"><a href="compcert.flocq.Core.Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>.<br/>
<span class="tactic">exact</span> <span class="id">H2</span>.<br/>
<span class="tactic">unfold</span> <span class="id">x</span>.<br/>
<span class="tactic">case</span> <span class="id">sx</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_false">Rlt_bool_false</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_ge_0">F2R_ge_0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="binary_normalize">binary_normalize</a></span> <span class="id">mode</span> <span class="id">m</span> <span class="id">e</span> <span class="id">szero</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#szero">szero</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_correct">binary_round_correct</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode">mode</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">m</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_correct">binary_round_correct</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode">mode</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>))<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="binary_normalize_correct">binary_normalize_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">szero</span>,<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>)))) (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_normalize">binary_normalize</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#szero">szero</a></span>) = <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_normalize">binary_normalize</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#szero">szero</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_normalize">binary_normalize</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#szero">szero</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare">Rcompare</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>)) 0 <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#szero">szero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_normalize">binary_normalize</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#szero">szero</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>)) 0).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6396')">Proof with</div>
<div class="proofscript" id="proof6396">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">mx</span> <span class="id">ez</span> <span class="id">szero</span>.<br/>
<span class="tactic">destruct</span> <span class="id">mx</span> <span class="kwd">as</span> [|<span class="id">mz</span>|<span class="id">mz</span>] ; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_0">F2R_0</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>...<br/>
<span class="tactic">split</span>... <span class="tactic">split</span>...<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_Eq">Rcompare_Eq</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;mz&nbsp;&gt;&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_correct">binary_round_correct</a></span> <span class="id">m</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">mz</span> <span class="id">ez</span>).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_spec">Rlt_bool_spec</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span> (<span class="id">Vz</span>, (<span class="id">Rz</span>, (<span class="id">Rz</span>', <span class="id">Rz</span>''))).<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_FF2B">B2R_FF2B</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_FF2B">is_finite_FF2B</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign_FF2B">Bsign_FF2B</a></span>, <span class="id">Rz</span>''.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_Gt">Rcompare_Gt</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">simpl</span>. <span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hz</span>' (<span class="id">Vz</span>, <span class="id">Rz</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF_FF2B">B2FF_FF2B</a></span>, <span class="id">Rz</span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_false">Rlt_bool_false</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_ge_0">F2R_ge_0</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;mz&nbsp;&lt;&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_correct">binary_round_correct</a></span> <span class="id">m</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">mz</span> <span class="id">ez</span>).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_spec">Rlt_bool_spec</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span> (<span class="id">Vz</span>, (<span class="id">Rz</span>, (<span class="id">Rz</span>', <span class="id">Rz</span>''))).<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_FF2B">B2R_FF2B</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_FF2B">is_finite_FF2B</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign_FF2B">Bsign_FF2B</a></span>, <span class="id">Rz</span>''.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_Lt">Rcompare_Lt</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
<span class="tactic">simpl</span>. <span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hz</span>' (<span class="id">Vz</span>, <span class="id">Rz</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF_FF2B">B2FF_FF2B</a></span>, <span class="id">Rz</span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Addition </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bplus">Bplus</a></span> <span class="id">plus_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> | <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#plus_nan">plus_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#eqb">Bool.eqb</a></span> <span class="id">sx</span> <span class="id">sy</span> <span class="kwd">then</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#plus_nan">plus_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sy</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#eqb">Bool.eqb</a></span> <span class="id">sx</span> <span class="id">sy</span> <span class="kwd">then</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">ez</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id">ex</span> <span class="id">ey</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_normalize">binary_normalize</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus">Zplus</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align">shl_align</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ez">ez</a></span>)))) (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align">shl_align</a></span> <span class="id">my</span> <span class="id">ey</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ez">ez</a></span>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ez">ez</a></span> (<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bplus_correct">Bplus_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">plus_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>))) (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bplus">Bplus</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#plus_nan">plus_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bplus">Bplus</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#plus_nan">plus_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bplus">Bplus</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#plus_nan">plus_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare">Rcompare</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) 0 <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> =&gt; <span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) <span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bplus">Bplus</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#plus_nan">plus_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) /\ <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6397')">Proof with</div>
<div class="proofscript" id="proof6397">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">plus_nan</span> <span class="id">m</span> [<span class="id">sx</span>|<span class="id">sx</span>| |<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] [<span class="id">sy</span>|<span class="id">sy</span>| |<span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span>] <span class="id">Fx</span> <span class="id">Fy</span> ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_0_r">Rplus_0_r</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>...<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_Eq">Rcompare_Eq</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
<span class="tactic">destruct</span> <span class="id">sx</span>, <span class="id">sy</span>; <span class="tactic">try</span> <span class="id">easy</span>; <span class="id">now</span> <span class="tactic">case</span> <span class="id">m</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>...<br/>
<span class="tactic">split</span>... <span class="tactic">split</span>...<br/>
<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>.<br/>
<span class="id">erewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_mult_r">Rcompare_mult_r</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_IZR">Rcompare_IZR</a></span> <span class="kwd">with</span> (<span class="id">y</span>:=0%<span class="id">Z</span>).<br/>
<span class="tactic">destruct</span> <span class="id">sy</span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_B2R_lt_emax">abs_B2R_lt_emax</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#generic_format_B2R">generic_format_B2R</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_0_r">Rplus_0_r</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>...<br/>
<span class="tactic">split</span>... <span class="tactic">split</span>...<br/>
<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>.<br/>
<span class="id">erewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_mult_r">Rcompare_mult_r</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_IZR">Rcompare_IZR</a></span> <span class="kwd">with</span> (<span class="id">y</span>:=0%<span class="id">Z</span>).<br/>
<span class="tactic">destruct</span> <span class="id">sx</span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_B2R_lt_emax">abs_B2R_lt_emax</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#generic_format_B2R">generic_format_B2R</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">clear</span> <span class="id">Fx</span> <span class="id">Fy</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">set</span> (<span class="id">szero</span> := <span class="kwd">match</span> <span class="id">m</span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span>).<br/>
<span class="tactic">set</span> (<span class="id">ez</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id">ex</span> <span class="id">ey</span>).<br/>
<span class="tactic">set</span> (<span class="id">mz</span> := (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align">shl_align</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ez</span>))) + <span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align">shl_align</a></span> <span class="id">my</span> <span class="id">ey</span> <span class="id">ez</span>))))%<span class="id">Z</span>).<br/>
<span class="tactic">assert</span> (<span class="id">Hp</span>: (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) <span class="id">ex</span>) +<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) <span class="id">ey</span>))%<span class="id">R</span> = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">mz</span> <span class="id">ez</span>)).<br/>
<span class="tactic">rewrite</span> 2!<span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_cond_Zopp">F2R_cond_Zopp</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align_correct">shl_align_correct</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ez</span>).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align_correct">shl_align_correct</a></span> <span class="id">my</span> <span class="id">ey</span> <span class="id">ez</span>).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#snd_shl_align">snd_shl_align</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ez</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_min_l">Z.le_min_l</a></span> <span class="id">ex</span> <span class="id">ey</span>)).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#snd_shl_align">snd_shl_align</a></span> <span class="id">my</span> <span class="id">ey</span> <span class="id">ez</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_min_r">Z.le_min_r</a></span> <span class="id">ex</span> <span class="id">ey</span>)).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align">shl_align</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ez</span>) <span class="kwd">as</span> (<span class="id">mx</span>', <span class="id">ex</span>').<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align">shl_align</a></span> <span class="id">my</span> <span class="id">ey</span> <span class="id">ez</span>) <span class="kwd">as</span> (<span class="id">my</span>', <span class="id">ey</span>').<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">intros</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H1</span>, <span class="id">H2</span>.<br/>
<span class="tactic">clear</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
<span class="tactic">intros</span> (<span class="id">H1</span>, <span class="id">_</span>) (<span class="id">H2</span>, <span class="id">_</span>).<br/>
<span class="tactic">rewrite</span> <span class="id">H1</span>, <span class="id">H2</span>.<br/>
<span class="tactic">clear</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
<span class="tactic">rewrite</span> &lt;- 2!<span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_cond_Zopp">F2R_cond_Zopp</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>. <span class="tactic">simpl</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_plus_distr_r">Rmult_plus_distr_r</a></span>, &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#plus_IZR">plus_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hp</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Sz</span>: (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span> &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id">m</span>) (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">mz</span> <span class="id">ez</span>))))%<span class="id">R</span> -&gt; <span class="id">sx</span> = <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">mz</span> <span class="id">ez</span>)) 0 /\ <span class="id">sx</span> = <span class="id">sy</span>).<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hp</span>.<br/>
<span class="tactic">intros</span> <span class="id">Bz</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#bool_dec">Bool.bool_dec</a></span> <span class="id">sx</span> <span class="id">sy</span>) <span class="kwd">as</span> [<span class="id">Hs</span>|<span class="id">Hs</span>].<br/>
<span class="comment">(*&nbsp;..&nbsp;*)</span><br/>
<span class="tactic">refine</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span> <span class="id">_</span> <span class="id">Hs</span>).<br/>
<span class="tactic">rewrite</span> <span class="id">Hs</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">case</span> <span class="id">sy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_0_r">Rplus_0_r</a></span> 0).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_lt_compat">Rplus_lt_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_false">Rlt_bool_false</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_0_r">Rplus_0_r</a></span> 0).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_compat">Rplus_le_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_ge_0">F2R_ge_0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_ge_0">F2R_ge_0</a></span>.<br/>
<span class="comment">(*&nbsp;..&nbsp;*)</span><br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_not_lt">Rle_not_lt</a></span> <span class="kwd">with</span> (1 := <span class="id">Bz</span>).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded_lt_emax">bounded_lt_emax</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded_lt_emax">bounded_lt_emax</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hy</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hy</span>).<br/>
<span class="tactic">intros</span> <span class="id">Bx</span> <span class="id">By</span> (<span class="id">Hx</span>',<span class="id">_</span>) (<span class="id">Hy</span>',<span class="id">_</span>).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_canonical_mantissa">canonical_canonical_mantissa</a></span> <span class="id">sx</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>') (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_canonical_mantissa">canonical_canonical_mantissa</a></span> <span class="id">sy</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hy</span>').<br/>
<span class="tactic">clear</span> -<span class="id">Bx</span> <span class="id">By</span> <span class="id">Hs</span> <span class="id">prec_gt_0_</span>.<br/>
<span class="tactic">intros</span> <span class="id">Cx</span> <span class="id">Cy</span>.<br/>
<span class="tactic">destruct</span> <span class="id">sx</span>.<br/>
<span class="comment">(*&nbsp;...&nbsp;*)</span><br/>
<span class="tactic">destruct</span> <span class="id">sy</span>.<br/>
<span class="id">now</span> <span class="tactic">elim</span> <span class="id">Hs</span>.<br/>
<span class="tactic">clear</span> <span class="id">Hs</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rabs_lt">Rabs_lt</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) <span class="id">ex</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zopp">F2R_Zopp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_lt_contravar">Ropp_lt_contravar</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_ge_generic">round_ge_generic</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_canonical">generic_format_canonical</a></span>.<br/>
<span class="tactic">pattern</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) <span class="id">ex</span>)) <span class="tactic">at</span> 1 ; <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_0_r">Rplus_0_r</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_compat_l">Rplus_le_compat_l</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_ge_0">F2R_ge_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="kwd">with</span> (2 := <span class="id">By</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_le_generic">round_le_generic</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_canonical">generic_format_canonical</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>) <span class="id">ey</span>))).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_compat_r">Rplus_le_compat_r</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_le_0">F2R_le_0</a></span>.<br/>
<span class="comment">(*&nbsp;...&nbsp;*)</span><br/>
<span class="tactic">destruct</span> <span class="id">sy</span>.<br/>
2: <span class="id">now</span> <span class="tactic">elim</span> <span class="id">Hs</span>.<br/>
<span class="tactic">clear</span> <span class="id">Hs</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rabs_lt">Rabs_lt</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) <span class="id">ey</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zopp">F2R_Zopp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_lt_contravar">Ropp_lt_contravar</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_ge_generic">round_ge_generic</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_canonical">generic_format_canonical</a></span>.<br/>
<span class="tactic">pattern</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) <span class="id">ey</span>)) <span class="tactic">at</span> 1 ; <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_compat_r">Rplus_le_compat_r</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_ge_0">F2R_ge_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="kwd">with</span> (2 := <span class="id">Bx</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_le_generic">round_le_generic</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_canonical">generic_format_canonical</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_0_r">Rplus_0_r</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>))).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_compat_l">Rplus_le_compat_l</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_le_0">F2R_le_0</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_normalize_correct">binary_normalize_correct</a></span> <span class="id">m</span> <span class="id">mz</span> <span class="id">ez</span> <span class="id">szero</span>).<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_spec">Rlt_bool_spec</a></span>.<br/>
<span class="tactic">split</span>; <span class="tactic">try</span> <span class="id">easy</span>. <span class="tactic">split</span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_spec">Rcompare_spec</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id">beta</span>:=<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span>) {| <span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Fnum</a></span> := <span class="id">mz</span>; <span class="id">Fexp</span> := <span class="id">ez</span> |}) 0); <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">Hp</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_opp_r_uniq">Rplus_opp_r_uniq</a></span> <span class="kwd">in</span> <span class="id">Hp</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zopp">F2R_Zopp</a></span> <span class="kwd">in</span> <span class="id">Hp</span>.<br/>
<span class="tactic">eapply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical_unique">canonical_unique</a></span> <span class="kwd">in</span> <span class="id">Hp</span>.<br/>
<span class="tactic">inversion</span> <span class="id">Hp</span>. <span class="tactic">destruct</span> <span class="id">sy</span>, <span class="id">sx</span>, <span class="id">m</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span> <span class="id">H3</span>; <span class="id">easy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_canonical_mantissa">canonical_canonical_mantissa</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">Hy</span>. <span class="id">easy</span>.<br/>
<span class="tactic">replace</span> (-<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">mx</span>))%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">sx</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">mx</span>))<br/>
&nbsp;&nbsp;<span class="tactic">by</span> (<span class="tactic">destruct</span> <span class="id">sx</span>; <span class="tactic">auto</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_canonical_mantissa">canonical_canonical_mantissa</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">Hx</span>. <span class="id">easy</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hz</span>' <span class="id">Vz</span>.<br/>
<span class="id">specialize</span> (<span class="id">Sz</span> <span class="id">Hz</span>').<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Vz</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id">Sz</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Subtraction </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bminus">Bminus</a></span> <span class="id">minus_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> | <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#minus_nan">minus_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#eqb">Bool.eqb</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">sy</span>) <span class="kwd">then</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#minus_nan">minus_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sy</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#eqb">Bool.eqb</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">sy</span>) <span class="kwd">then</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">sy</span>) <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">ez</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id">ex</span> <span class="id">ey</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_normalize">binary_normalize</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zminus">Zminus</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align">shl_align</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ez">ez</a></span>)))) (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#shl_align">shl_align</a></span> <span class="id">my</span> <span class="id">ey</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ez">ez</a></span>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ez">ez</a></span> (<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bminus_correct">Bminus_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">minus_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>))) (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bminus">Bminus</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#minus_nan">minus_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bminus">Bminus</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#minus_nan">minus_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bminus">Bminus</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#minus_nan">minus_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare">Rcompare</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) 0 <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> =&gt; <span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)) <span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bminus">Bminus</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#minus_nan">minus_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) /\ <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6398')">Proof with</div>
<div class="proofscript" id="proof6398">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">minus_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Fx</span> <span class="id">Fy</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bplus_correct">Bplus_correct</a></span> <span class="id">minus_nan</span> <span class="id">m</span> <span class="id">x</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> (<span class="kwd">fun</span> <span class="id">n</span> =&gt; <span class="id">minus_nan</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#n">n</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)) <span class="id">y</span>) <span class="id">Fx</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_Bopp">is_finite_Bopp</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_Bopp">B2R_Bopp</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="id">specialize</span> (<span class="id">H</span> <span class="id">Fy</span>).<br/>
<span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id">y</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> (<span class="kwd">fun</span> <span class="id">n</span> =&gt; <span class="id">minus_nan</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#n">n</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)) <span class="id">y</span>)).<br/>
<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [| | |<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>], <span class="id">y</span> <span class="kwd">as</span> [| | |<span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span>] ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bminus">Bminus</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub">Zminus</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp_negb">cond_Zopp_negb</a></span>.<br/>
<span class="id">now</span> <span class="tactic">destruct</span> <span class="id">y</span> <span class="kwd">as</span> [ | | | ].<br/>
Qed.</div>
<br/>
<div class="doc">Fused Multiply-Add </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bfma_szero">Bfma_szero</a></span> <span class="id">m</span> (<span class="id">x</span> <span class="id">y</span> <span class="id">z</span>: <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">s_xy</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) <span class="kwd">in</span>  <br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#eqb">Bool.eqb</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s_xy">s_xy</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>) <span class="kwd">then</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s_xy">s_xy</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bfma">Bfma</a></span> <span class="id">fma_nan</span> <span class="id">m</span> (<span class="id">x</span> <span class="id">y</span> <span class="id">z</span>: <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> | <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fma_nan">fma_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">s</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fma_nan">fma_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sz</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#eqb">Bool.eqb</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span> <span class="id">sz</span> <span class="kwd">then</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fma_nan">fma_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sy</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sy</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fma_nan">fma_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfma_szero">Bfma_szero</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fma_nan">fma_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sz</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">X</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) <span class="id">ex</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">Y</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) <span class="id">ey</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id">_</span> <span class="id">mr</span> <span class="id">er</span>) := <span class="id"><a href="compcert.flocq.Calc.Operations.html#Fmult">Fmult</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#X">X</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Y">Y</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_normalize">binary_normalize</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id">mr</span> <span class="id">er</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfma_szero">Bfma_szero</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sz</span> <span class="id">mz</span> <span class="id">ez</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">X</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) <span class="id">ex</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">Y</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) <span class="id">ey</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">Z</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sz</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mz</span>)) <span class="id">ez</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id">_</span> <span class="id">mr</span> <span class="id">er</span>) := <span class="id"><a href="compcert.flocq.Calc.Operations.html#Fplus">Fplus</a></span> (<span class="id"><a href="compcert.flocq.Calc.Operations.html#Fmult">Fmult</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#X">X</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Y">Y</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Z">Z</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_normalize">binary_normalize</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id">mr</span> <span class="id">er</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfma_szero">Bfma_szero</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bfma_correct">Bfma_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fma_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">res</span> := (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> * <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>)%<span class="id">R</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#res">res</a></span>)) (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfma">Bfma</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fma_nan">fma_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>) = <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#res">res</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfma">Bfma</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fma_nan">fma_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfma">Bfma</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fma_nan">fma_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare">Rcompare</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#res">res</a></span> 0 <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfma_szero">Bfma_szero</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfma">Bfma</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fma_nan">fma_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#res">res</a></span> 0).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6399')">Proof.</div>
<div class="proofscript" id="proof6399">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">pattern</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfma">Bfma</a></span> <span class="id">fma_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- ?<span class="id">p</span> ?<span class="id">x</span> =&gt; <span class="tactic">set</span> (<span class="id">PROP</span> := <span class="id">p</span>) <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">szero</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfma_szero">Bfma_szero</a></span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">BINORM</span>: <span class="kwd">forall</span> <span class="id">mr</span> <span class="id">er</span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mr">mr</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#er">er</a></span>) = <span class="id">res</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PROP</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_normalize">binary_normalize</a></span> <span class="id">m</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mr">mr</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#er">er</a></span> <span class="id">szero</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span> <span class="id">mr</span> <span class="id">er</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_normalize_correct">binary_normalize_correct</a></span> <span class="id">m</span> <span class="id">mr</span> <span class="id">er</span> <span class="id">szero</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> (3 - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>) <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span>. <span class="tactic">rewrite</span> <span class="id">E</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">add_zero</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">z</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id">fma_nan</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sz</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">szero</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">ADDZERO</span>: <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span> = 0%<span class="id">R</span> \/ <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">y</span> = 0%<span class="id">R</span> -&gt; <span class="id">PROP</span> <span class="id">add_zero</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">RES</span>: <span class="id">res</span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">res</span>. <span class="tactic">destruct</span> <span class="id">Z</span> <span class="kwd">as</span> [<span class="id">E</span>|<span class="id">E</span>]; <span class="tactic">rewrite</span> <span class="id">E</span>, ?<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>, ?<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_r">Rmult_0_r</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">PROP</span>, <span class="id">add_zero</span>; <span class="tactic">destruct</span> <span class="id">z</span> <span class="kwd">as</span> [ <span class="id">sz</span> | <span class="id">sz</span> | <span class="id">sz</span> <span class="id">plz</span> | <span class="id">sz</span> <span class="id">mz</span> <span class="id">ez</span> <span class="id">Bz</span>]; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="tactic">rewrite</span> <span class="id">RES</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span> <span class="tactic">by</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_rnd_round_mode">valid_rnd_round_mode</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>. <span class="tactic">split</span>. <span class="tactic">reflexivity</span>. <span class="tactic">split</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_Eq">Rcompare_Eq</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">RES</span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">reflexivity</span>. <span class="tactic">split</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span>. <span class="tactic">destruct</span> <span class="id">sz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_Lt">Rcompare_Lt</a></span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_Gt">Rcompare_Gt</a></span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_B2R_lt_emax">abs_B2R_lt_emax</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_rnd_round_mode">valid_rnd_round_mode</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#generic_format_B2R">generic_format_B2R</a></span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [ <span class="id">sx</span> | <span class="id">sx</span> | <span class="id">sx</span> <span class="id">plx</span> | <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Bx</span>];<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">y</span> <span class="kwd">as</span> [ <span class="id">sy</span> | <span class="id">sy</span> | <span class="id">sy</span> <span class="id">ply</span> | <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">By</span>];<br/>
&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
- <span class="tactic">apply</span> <span class="id">ADDZERO</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">apply</span> <span class="id">ADDZERO</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">apply</span> <span class="id">ADDZERO</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">z</span> <span class="kwd">as</span> [ <span class="id">sz</span> | <span class="id">sz</span> | <span class="id">sz</span> <span class="id">plz</span> | <span class="id">sz</span> <span class="id">mz</span> <span class="id">ez</span> <span class="id">Bz</span>]; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfma">Bfma</a></span>.<br/>
+ <span class="tactic">set</span> (<span class="id">X</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) <span class="id">ex</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Y</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) <span class="id">ey</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Operations.html#Fmult">Fmult</a></span> <span class="id">X</span> <span class="id">Y</span>) <span class="kwd">as</span> [<span class="id">mr</span> <span class="id">er</span>] <span class="id">eqn</span>:<span class="id">FRES</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">BINORM</span>. <span class="tactic">unfold</span> <span class="id">res</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">FRES</span>, <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_mult">F2R_mult</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_0_r">Rplus_0_r</a></span>. <span class="tactic">auto</span>.<br/>
+ <span class="tactic">set</span> (<span class="id">X</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) <span class="id">ex</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Y</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) <span class="id">ey</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Z</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sz</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mz</span>)) <span class="id">ez</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Operations.html#Fplus">Fplus</a></span> (<span class="id"><a href="compcert.flocq.Calc.Operations.html#Fmult">Fmult</a></span> <span class="id">X</span> <span class="id">Y</span>) <span class="id">Z</span>) <span class="kwd">as</span> [<span class="id">mr</span> <span class="id">er</span>] <span class="id">eqn</span>:<span class="id">FRES</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">BINORM</span>. <span class="tactic">unfold</span> <span class="id">res</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">FRES</span>, <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_plus">F2R_plus</a></span>, <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_mult">F2R_mult</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Division </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Fdiv_core_binary">Fdiv_core_binary</a></span> <span class="id">m1</span> <span class="id">e1</span> <span class="id">m2</span> <span class="id">e2</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">d1</span> := <span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits2">Zdigits2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m1">m1</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">d2</span> := <span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits2">Zdigits2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m2">m2</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">e</span>' := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#d1">d1</a></span> + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e1">e1</a></span> - (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#d2">d2</a></span> + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e2">e2</a></span>))) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e1">e1</a></span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e2">e2</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">s</span> := (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e1">e1</a></span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e2">e2</a></span> - <span class="id">e</span>')%<span class="id">Z</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">m</span>' :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">_</span>  =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl">Z.shiftl</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m1">m1</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m1">m1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">q</span>, <span class="id">r</span>) :=  <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zfast_div_eucl">Zfast_div_eucl</a></span> <span class="id">m</span>' <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m2">m2</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;(<span class="id">q</span>, <span class="id">e</span>', <span class="id"><a href="compcert.flocq.Calc.Bracket.html#new_location">new_location</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m2">m2</a></span> <span class="id">r</span> <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Exact">loc_Exact</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Bdiv_correct_aux">Bdiv_correct_aux</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span>,<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>)) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">y</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sy">sy</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#my">my</a></span>)) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ey">ey</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">z</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">mz</span>, <span class="id">ez</span>, <span class="id">lz</span>) := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Fdiv_core_binary">Fdiv_core_binary</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#my">my</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ey">ey</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_aux">binary_round_aux</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sy">sy</a></span>) <span class="id">mz</span> <span class="id">ez</span> <span class="id">lz</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_binary">valid_binary</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> / <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>))) (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> / <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_FF">is_finite_FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\ <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sign_FF">sign_FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sy">sy</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sy">sy</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6400')">Proof.</div>
<div class="proofscript" id="proof6400">
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Fdiv_core_binary">Fdiv_core_binary</a></span>.<br/>
<span class="tactic">rewrite</span> 2!<span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits2_Zdigits">Zdigits2_Zdigits</a></span>.<br/>
<span class="tactic">set</span> (<span class="id">e</span>' := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Calc.Div.html#Fdiv_core_correct">Fdiv_core_correct</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>) <span class="id">ey</span> <span class="id">e</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Div.html#Fdiv_core">Fdiv_core</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zle_bool_true">Zle_bool_true</a></span> <span class="tactic">by</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_min_r">Z.le_min_r</a></span>.<br/>
<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- <span class="id">context</span> [<span class="id"><a href="compcert.flocq.Core.Zaux.html#Zfast_div_eucl">Zfast_div_eucl</a></span> ?<span class="id">m</span> <span class="id">_</span>] =&gt; <span class="tactic">set</span> (<span class="id">mx</span>' := <span class="id">m</span>) <span class="kwd">end</span>.<br/>
<span class="tactic">assert</span> (<span class="id">mx</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id">ex</span> - <span class="id">ey</span> - <span class="id">e</span>'))%<span class="id">Z</span> <span class="kwd">as</span> &lt;-.<br/>
{ <span class="tactic">unfold</span> <span class="id">mx</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">ex</span> - <span class="id">ey</span> - <span class="id">e</span>')%<span class="id">Z</span> <span class="kwd">as</span> [|<span class="id">p</span>|<span class="id">p</span>].<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmult_1_r">Zmult_1_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_mul_pow2">Z.shiftl_mul_pow2</a></span>.<br/>
&nbsp;&nbsp;<span class="id">easy</span>. }<br/>
<span class="id">clearbody</span> <span class="id">mx</span>'.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zfast_div_eucl_correct">Zfast_div_eucl_correct</a></span>.<br/>
<span class="tactic">destruct</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div_eucl">Z.div_eucl</a></span> <span class="kwd">as</span> [<span class="id">q</span> <span class="id">r</span>].<br/>
<span class="tactic">intros</span> <span class="id">Bz</span>.<br/>
<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span> = <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) <span class="id">ex</span>) *<br/>
&nbsp;&nbsp;/ <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) <span class="id">ey</span>)) 0) <span class="kwd">as</span> -&gt;.<br/>
{ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_sym">eq_sym</a></span>.<br/>
<span class="tactic">case</span> <span class="id">sy</span> ; <span class="tactic">simpl</span>.<br/>
<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">my</span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.opp">Z.opp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zopp">F2R_Zopp</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_inv_permute">Ropp_inv_permute</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_mult_distr_r_reverse">Ropp_mult_distr_r_reverse</a></span>.<br/>
<span class="tactic">case</span> <span class="id">sx</span> ; <span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_false">Rlt_bool_false</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_mult_distr_l_reverse">Ropp_mult_distr_l_reverse</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_opp">F2R_opp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_ge_0">F2R_ge_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le">Rlt_le</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rinv_0_lt_compat">Rinv_0_lt_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_0">Ropp_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_lt_contravar">Ropp_lt_contravar</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_lt_0_compat">Rmult_lt_0_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rinv_0_lt_compat">Rinv_0_lt_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">case</span> <span class="id">sx</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zopp">F2R_Zopp</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_mult_distr_l_reverse">Ropp_mult_distr_l_reverse</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_0">Ropp_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_lt_contravar">Ropp_lt_contravar</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_lt_0_compat">Rmult_lt_0_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rinv_0_lt_compat">Rinv_0_lt_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_false">Rlt_bool_false</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_ge_0">F2R_ge_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le">Rlt_le</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rinv_0_lt_compat">Rinv_0_lt_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>. }<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rdiv">Rdiv</a></span>.<br/>
<span class="tactic">apply</span> <span class="id">binary_round_aux_correct</span>'.<br/>
- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_integral_contrapositive_currified">Rmult_integral_contrapositive_currified</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_neq_0">F2R_neq_0</a></span> ; <span class="tactic">case</span> <span class="id">sx</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rinv_neq_0_compat">Rinv_neq_0_compat</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_neq_0">F2R_neq_0</a></span> ; <span class="tactic">case</span> <span class="id">sy</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_mult">Rabs_mult</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_Rinv">Rabs_Rinv</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- 2!<span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zabs">F2R_Zabs</a></span>, 2!<span class="id"><a href="compcert.flocq.Core.Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_neq_0">F2R_neq_0</a></span> ; <span class="tactic">case</span> <span class="id">sy</span>.<br/>
- <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp_abs">cexp_abs</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_mult">Rabs_mult</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_Rinv">Rabs_Rinv</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> 2!<span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_cond_Zopp">F2R_cond_Zopp</a></span>, 2!<span class="id"><a href="compcert.flocq.Core.Raux.html#abs_cond_Ropp">abs_cond_Ropp</a></span>, &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_Rinv">Rabs_Rinv</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_mult">Rabs_mult</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp_abs">cexp_abs</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (1 := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_min_l">Z.le_min_l</a></span> <span class="id">_</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp_monotone">FLT_exp_monotone</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Calc.Div.html#mag_div_F2R">mag_div_F2R</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_neq_0">F2R_neq_0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_neq_0">F2R_neq_0</a></span> ; <span class="tactic">case</span> <span class="id">sy</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bdiv">Bdiv</a></span> <span class="id">div_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> | <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bdiv_correct_aux">Bdiv_correct_aux</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span>))<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bdiv_correct">Bdiv_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">div_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span> &lt;&gt; 0%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> / <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>))) (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bdiv">Bdiv</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> / <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bdiv">Bdiv</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bdiv">Bdiv</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bdiv">Bdiv</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>))<br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bdiv">Bdiv</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#y">y</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6401')">Proof.</div>
<div class="proofscript" id="proof6401">
<span class="tactic">intros</span> <span class="id">div_nan</span> <span class="id">m</span> <span class="id">x</span> [<span class="id">sy</span>|<span class="id">sy</span>|<span class="id">sy</span> <span class="id">ply</span>|<span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span>] <span class="id">Zy</span> ; <span class="tactic">try</span> <span class="id">now</span> <span class="tactic">elim</span> <span class="id">Zy</span>.<br/>
<span class="id">revert</span> <span class="id">x</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rdiv">Rdiv</a></span>.<br/>
<span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span> <span class="id">Hx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] ;<br/>
&nbsp;&nbsp;<span class="tactic">try</span> ( <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span> ; [ <span class="tactic">simpl</span> ; <span class="tactic">try</span> <span class="id">easy</span> ; <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_build_nan">B2R_build_nan</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_build_nan">is_finite_build_nan</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan_build_nan">is_nan_build_nan</a></span> | <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span> | <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span> ] ).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bdiv_correct_aux">Bdiv_correct_aux</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">H1</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rdiv">Rdiv</a></span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span>.<br/>
<span class="tactic">intros</span> (<span class="id">H2</span>, (<span class="id">H3</span>, <span class="id">H4</span>)).<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_FF2B">B2R_FF2B</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_FF2B">is_finite_FF2B</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign_FF2B">Bsign_FF2B</a></span>. <span class="tactic">congruence</span>.<br/>
<span class="tactic">intros</span> <span class="id">H2</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF_FF2B">B2FF_FF2B</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Square root </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Fsqrt_core_binary">Fsqrt_core_binary</a></span> <span class="id">m</span> <span class="id">e</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">d</span> := <span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits2">Zdigits2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">e</span>' := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#d">d</a></span> + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span> + 1))) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">s</span> := (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span> - 2 * <span class="id">e</span>')%<span class="id">Z</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">m</span>' :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl">Z.shiftl</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">q</span>, <span class="id">r</span>) := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sqrtrem">Z.sqrtrem</a></span> <span class="id">m</span>' <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">l</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zeq_bool">Zeq_bool</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#r">r</a></span> 0 <span class="kwd">then</span> <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Exact">loc_Exact</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.flocq.Calc.Bracket.html#loc_Inexact">loc_Inexact</a></span> (<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_bool">Zle_bool</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#r">r</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#q">q</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#q">q</a></span>, <span class="id">e</span>', <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#l">l</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Bsqrt_correct_aux">Bsqrt_correct_aux</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">mx</span> <span class="id">ex</span> (<span class="id">Hx</span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>),<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">z</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">mz</span>, <span class="id">ez</span>, <span class="id">lz</span>) := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Fsqrt_core_binary">Fsqrt_core_binary</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_aux">binary_round_aux</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">mz</span> <span class="id">ez</span> <span class="id">lz</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_binary">valid_binary</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#sqrt">sqrt</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) /\<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_FF">is_finite_FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\ <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sign_FF">sign_FF</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6402')">Proof with</div>
<div class="proofscript" id="proof6402">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Fsqrt_core_binary">Fsqrt_core_binary</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits2_Zdigits">Zdigits2_Zdigits</a></span>.<br/>
<span class="tactic">set</span> (<span class="id">e</span>' := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="tactic">assert</span> (2 * <span class="id">e</span>' &lt;= <span class="id">ex</span>)%<span class="id">Z</span> <span class="kwd">as</span> <span class="id">He</span>.<br/>
{ <span class="tactic">assert</span> (<span class="id">e</span>' &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">ex</span>)%<span class="id">Z</span> <span class="tactic">by</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_min_r">Z.le_min_r</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zeven.html#Zdiv2_odd_eqn">Zdiv2_odd_eqn</a></span> <span class="id">ex</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> ; <span class="tactic">omega</span>. }<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Calc.Sqrt.html#Fsqrt_core_correct">Fsqrt_core_correct</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span> <span class="id">e</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id">He</span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Sqrt.html#Fsqrt_core">Fsqrt_core</a></span>.<br/>
<span class="tactic">set</span> (<span class="id">mx</span>' := <span class="kwd">match</span> (<span class="id">ex</span> - 2 * <span class="id">e</span>')%<span class="id">Z</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> =&gt; <span class="id">_</span> | <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>).<br/>
<span class="tactic">assert</span> (<span class="id">mx</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id">ex</span> - 2 * <span class="id">e</span>'))%<span class="id">Z</span> <span class="kwd">as</span> &lt;-.<br/>
{ <span class="tactic">unfold</span> <span class="id">mx</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">ex</span> - 2 * <span class="id">e</span>')%<span class="id">Z</span> <span class="kwd">as</span> [|<span class="id">p</span>|<span class="id">p</span>].<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmult_1_r">Zmult_1_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_mul_pow2">Z.shiftl_mul_pow2</a></span>.<br/>
&nbsp;&nbsp;<span class="id">easy</span>. }<br/>
<span class="id">clearbody</span> <span class="id">mx</span>'.<br/>
<span class="tactic">destruct</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sqrtrem">Z.sqrtrem</a></span> <span class="kwd">as</span> [<span class="id">mz</span> <span class="id">r</span>].<br/>
<span class="tactic">set</span> (<span class="id">lz</span> := <span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zeq_bool">Zeq_bool</a></span> <span class="id">r</span> 0 <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>).<br/>
<span class="id">clearbody</span> <span class="id">lz</span>.<br/>
<span class="tactic">intros</span> <span class="id">Bz</span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id">binary_round_aux_correct</span>' <span class="id">m</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#sqrt">sqrt</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>))) <span class="id">mz</span> <span class="id">e</span>' <span class="id">lz</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)) ; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#sqrt_lt_R0">sqrt_lt_R0</a></span>, <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> <span class="id">Bz</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#sqrt_ge_0">sqrt_ge_0</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (1 := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_min_l">Z.le_min_l</a></span> <span class="id">_</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp_monotone">FLT_exp_monotone</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Calc.Sqrt.html#mag_sqrt_F2R">mag_sqrt_F2R</a></span> <span class="tactic">by</span> <span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_false">Rlt_bool_false</a></span> <span class="tactic">by</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#sqrt_ge_0">sqrt_ge_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="id">easy</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Prop.Relative.html#relative_error_FLT_ex">relative_error_FLT_ex</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id">m</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#sqrt">sqrt</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>))) <span class="id">_</span>)).<br/>
<span class="id">fold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span>.<br/>
<span class="tactic">intros</span> (<span class="id">eps</span>, (<span class="id">Heps</span>, <span class="id">Hr</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id">Hr</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Heps</span>': (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id">eps</span> &lt; 1)%<span class="id">R</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (1 := <span class="id">Heps</span>).<br/>
<span class="id">fold</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> 0).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_le">bpow_le</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>).<br/>
<span class="tactic">clear</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqr.html#Rsqr_incrst_0">Rsqr_incrst_0</a></span>.<br/>
3: <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqr.html#Rsqr_mult">Rsqr_mult</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#Rsqr_sqrt">Rsqr_sqrt</a></span>.<br/>
2: <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_ge_0">F2R_ge_0</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rsqr">Rsqr</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_ge_0_gt_0_lt_compat">Rmult_ge_0_gt_0_lt_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_ge">Rle_ge</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_0_sqr">Rle_0_sqr</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded_lt_emax">bounded_lt_emax</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> 4%<span class="id">R</span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqr.html#Rsqr_incrst_1">Rsqr_incrst_1</a></span> <span class="id">_</span> 2).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_lt_compat_l">Rplus_lt_compat_l</a></span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rabs_lt_inv">Rabs_lt_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heps</span>').<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_opp_r">Rplus_opp_r</a></span> 1).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_compat_l">Rplus_le_compat_l</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le">Rlt_le</a></span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rabs_lt_inv">Rabs_lt_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heps</span>').<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_le">IZR_le</a></span>.<br/>
<span class="id">change</span> 4%<span class="id">R</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> 2).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_le">bpow_le</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>).<br/>
<span class="tactic">clear</span> -<span class="id">Hmax</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#sqrt_ge_0">sqrt_ge_0</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_opp_r">Rplus_opp_r</a></span> 1).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_compat_l">Rplus_le_compat_l</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le">Rlt_le</a></span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rabs_lt_inv">Rabs_lt_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heps</span>').<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>.<br/>
2: <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#sqrt_ge_0">sqrt_ge_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqr.html#Rsqr_incr_0">Rsqr_incr_0</a></span>.<br/>
2: <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
2: <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#sqrt_ge_0">sqrt_ge_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#Rsqr_sqrt">Rsqr_sqrt</a></span>.<br/>
2: <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_ge_0">F2R_ge_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rsqr">Rsqr</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_le">bpow_le</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>.<br/>
<span class="tactic">clear</span> -<span class="id">Hmax</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_ge_bpow">generic_format_ge_bpow</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span>.<br/>
<span class="tactic">intros</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_max_r">Z.le_max_r</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_gt_0">F2R_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_canonical">generic_format_canonical</a></span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_canonical_mantissa">canonical_canonical_mantissa</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_ge_generic">round_ge_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_0">generic_format_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#sqrt_ge_0">sqrt_ge_0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bsqrt">Bsqrt</a></span> <span class="id">sqrt_nan</span> <span class="id">m</span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">sx</span> <span class="id">plx</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sqrt_nan">sqrt_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sqrt_nan">sqrt_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sqrt_nan">sqrt_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsqrt_correct_aux">Bsqrt_correct_aux</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>))<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bsqrt_correct">Bsqrt_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sqrt_nan</span> <span class="id">m</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsqrt">Bsqrt</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sqrt_nan">sqrt_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#sqrt">sqrt</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)) /\<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsqrt">Bsqrt</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sqrt_nan">sqrt_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span> /\<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsqrt">Bsqrt</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sqrt_nan">sqrt_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsqrt">Bsqrt</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sqrt_nan">sqrt_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6403')">Proof.</div>
<div class="proofscript" id="proof6403">
<span class="tactic">intros</span> <span class="id">sqrt_nan</span> <span class="id">m</span> [<span class="id">sx</span>|[|]|<span class="id">sx</span> <span class="id">plx</span> <span class="id">Hplx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] ;<br/>
&nbsp;&nbsp;<span class="tactic">try</span> ( <span class="tactic">simpl</span> ; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#sqrt_0">sqrt_0</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span>, ?<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_build_nan">B2R_build_nan</a></span>, ?<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_build_nan">is_finite_build_nan</a></span>, ?<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan_build_nan">is_nan_build_nan</a></span> ; <span class="tactic">intuition</span> <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span> ; <span class="id">easy</span>).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsqrt_correct_aux">Bsqrt_correct_aux</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">H1</span> (<span class="id">H2</span>, (<span class="id">H3</span>, <span class="id">H4</span>)).<br/>
<span class="tactic">case</span> <span class="id">sx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_build_nan">B2R_build_nan</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_build_nan">is_finite_build_nan</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_nan_build_nan">is_nan_build_nan</a></span>.<br/>
<span class="tactic">refine</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#refl_equal">refl_equal</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="id">_</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#sqrt">sqrt</a></span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rcase_abs">Rcase_abs</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span>.<br/>
<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rge_not_lt">Rge_not_lt</a></span> <span class="kwd">with</span> (1 := <span class="id">H</span>).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_lt_0">F2R_lt_0</a></span>.<br/>
<span class="id">easy</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_FF2B">B2R_FF2B</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_FF2B">is_finite_FF2B</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign_FF2B">Bsign_FF2B</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">A few values </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bone">Bone</a></span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_correct">binary_round_correct</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> 1 0)).<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bone_correct">Bone_correct</a></span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone">Bone</a></span> = 1%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6404')">Proof.</div>
<div class="proofscript" id="proof6404">
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone">Bone</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">set</span> (<span class="id">Hr</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_correct">binary_round_correct</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="tactic">unfold</span> <span class="id">Hr</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_FF2B">B2R_FF2B</a></span>.<br/>
<span class="tactic">destruct</span> <span class="id">Hr</span> <span class="kwd">as</span> (<span class="id">Vz</span>, <span class="id">Hr</span>).<br/>
<span class="id">revert</span> <span class="id">Hr</span>.<br/>
<span class="id">fold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#valid_rnd_N">valid_rnd_N</a></span>|].<br/>
- <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_1_r">Rmult_1_r</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
&nbsp;&nbsp;+ <span class="id">now</span> <span class="tactic">intros</span> (<span class="id">Hr</span>, <span class="id">Hr</span>'); <span class="tactic">rewrite</span> <span class="id">Hr</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>; [|<span class="id">lra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> 1%<span class="id">R</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> 0); <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_lt">bpow_lt</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>.<br/>
- <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_F2R">generic_format_F2R</a></span>; <span class="tactic">intros</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_1_r">Rmult_1_r</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_1">mag_1</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_finite_Bone">is_finite_Bone</a></span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone">Bone</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6405')">Proof.</div>
<div class="proofscript" id="proof6405">
<span class="tactic">generalize</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone_correct">Bone_correct</a></span>; <span class="tactic">case</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone">Bone</a></span>; <span class="tactic">simpl</span>;<br/>
&nbsp;<span class="tactic">try</span> (<span class="tactic">intros</span>; <span class="tactic">reflexivity</span>); <span class="tactic">intros</span>; <span class="id">exfalso</span>; <span class="id">lra</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Bsign_Bone">Bsign_Bone</a></span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone">Bone</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6406')">Proof.</div>
<div class="proofscript" id="proof6406">
<span class="tactic">generalize</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone_correct">Bone_correct</a></span>; <span class="tactic">case</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone">Bone</a></span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">intros</span>; <span class="id">exfalso</span>; <span class="id">lra</span>); <span class="tactic">intros</span> <span class="id">s</span>' <span class="id">m</span> <span class="id">e</span> <span class="id">_</span>.<br/>
<span class="tactic">case</span> <span class="id">s</span>'; [|<span class="id">now</span> <span class="tactic">intro</span>]; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">intro</span> <span class="id">H</span>; <span class="id">exfalso</span>; <span class="id">revert</span> <span class="id">H</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_eq">Rlt_not_eq</a></span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="id">_</span> 0); [|<span class="id">lra</span>].<br/>
<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_0">Ropp_0</a></span>, &lt;-(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_involutive">Ropp_involutive</a></span> (<span class="id">_</span> * <span class="id">_</span>)); <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_le_contravar">Ropp_le_contravar</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_mult_distr_l">Ropp_mult_distr_l</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>].<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span>; <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#INR_IPR">INR_IPR</a></span>; <span class="tactic">generalize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#INR_pos">INR_pos</a></span> <span class="id">m</span>); <span class="id">lra</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Bmax_float_proof">Bmax_float_proof</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_binary">valid_binary</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_finite">F754_finite</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#shift_pos">shift_pos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_pos">Z.to_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>) 1 - 1) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>))<br/>
&nbsp;&nbsp;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6407')">Proof.</div>
<div class="proofscript" id="proof6407">
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_binary">valid_binary</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_true_intro">andb_true_intro</a></span>; <span class="tactic">split</span>.<br/>
- <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_mantissa">canonical_mantissa</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zeq_bool_true">Zeq_bool_true</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">p</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">H</span> : <span class="id">p</span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">p</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Pos2Z.inj_sub">Pos2Z.inj_sub</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#shift_pos_correct">shift_pos_correct</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_1_r">Z.mul_1_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">P2pm1</span> : (0 &lt;= 2 ^ <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - 1)%<span class="id">Z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zplus_le_reg_r">Zplus_le_reg_r</a></span> <span class="id">_</span> <span class="id">_</span> 1); <span class="id">ring_simplify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> 1%<span class="id">Z</span> <span class="kwd">with</span> (2 ^ 0)%<span class="id">Z</span>; <span class="id">change</span> 2%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zpower_le">Zpower_le</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits_unique">Zdigits_unique</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos_fold">Z.pow_pos_fold</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z2Pos.id">Z2Pos.id</a></span>; [|<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec_gt_0_">prec_gt_0_</a></span>]; <span class="tactic">simpl</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs_eq">Z.abs_eq</a></span> <span class="id">_</span> <span class="id">P2pm1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - 1 + 1)%<span class="id">Z</span> <span class="tactic">at</span> 2 <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zpower_plus">Zpower_plus</a></span>; [| <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>|<span class="id">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (1 &lt;= 2 ^ (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - 1))%<span class="id">Z</span>; [|<span class="id">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> 1%<span class="id">Z</span> <span class="kwd">with</span> (2 ^ 0)%<span class="id">Z</span>; <span class="id">change</span> 2%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zpower_le">Zpower_le</a></span>; <span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs_eq">Z.abs_eq</a></span>; [<span class="id">lia</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">change</span> (<span class="id">_</span> &lt; <span class="id">_</span>)%<span class="id">positive</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> 1 &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#shift_pos">shift_pos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_pos">Z.to_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>) 1))%<span class="id">Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#shift_pos_correct">shift_pos_correct</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_1_r">Z.mul_1_r</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos_fold">Z.pow_pos_fold</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z2Pos.id">Z2Pos.id</a></span>; [|<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec_gt_0_">prec_gt_0_</a></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> 1%<span class="id">Z</span> <span class="kwd">with</span> (2 ^ 0)%<span class="id">Z</span>; <span class="id">change</span> 2%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zpower_lt">Zpower_lt</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>; <span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_l">Z.max_l</a></span>; [<span class="tactic">ring</span>|].<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>; <span class="id">lia</span>.<br/>
- <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zle_bool_true">Zle_bool_true</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bmax_float">Bmax_float</a></span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> <span class="id">_</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bmax_float_proof">Bmax_float_proof</a></span>.<br/>
<br/>
<div class="doc">Extraction/modification of mantissa/exponent </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bnormfr_mantissa">Bnormfr_mantissa</a></span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">_</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.eqb">Z.eqb</a></span> <span class="id">ex</span> (-<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)%<span class="id">Z</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Npos">Npos</a></span> <span class="id">mx</span> <span class="kwd">else</span> 0%<span class="id">N</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; 0%<span class="id">N</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bldexp">Bldexp</a></span> <span class="id">mode</span> <span class="id">f</span> <span class="id">e</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_correct">binary_round_correct</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode">mode</a></span> <span class="id">sx</span> <span class="id">mx</span> (<span class="id">ex</span>+<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bldexp_correct">Bldexp_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> (<span class="id">f</span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_float">binary_float</a></span>) <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> * <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bldexp">Bldexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> * <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>))%<span class="id">R</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bldexp">Bldexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bldexp">Bldexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bldexp">Bldexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6408')">Proof.</div>
<div class="proofscript" id="proof6408">
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">f</span> <span class="id">e</span>.<br/>
<span class="tactic">case</span> <span class="id">f</span>.<br/>
- <span class="tactic">intro</span> <span class="id">s</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span>; [|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_rnd_round_mode">valid_rnd_round_mode</a></span>].<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>].<br/>
- <span class="tactic">intro</span> <span class="id">s</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span>; [|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_rnd_round_mode">valid_rnd_round_mode</a></span>].<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>].<br/>
- <span class="tactic">intro</span> <span class="id">s</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span>; [|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_rnd_round_mode">valid_rnd_round_mode</a></span>].<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>].<br/>
- <span class="tactic">intros</span> <span class="id">s</span> <span class="id">mf</span> <span class="id">ef</span> <span class="id">Hmef</span>.<br/>
&nbsp;&nbsp;<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_spec">Rlt_bool_spec</a></span> <span class="id">_</span> <span class="id">_</span>); <span class="tactic">intro</span> <span class="id">Hover</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bldexp">Bldexp</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_FF2B">B2R_FF2B</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_FF2B">is_finite_FF2B</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign_FF2B">Bsign_FF2B</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>, &lt;-<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_correct">binary_round_correct</a></span> <span class="id">m</span> <span class="id">s</span> <span class="id">mf</span> (<span class="id">ef</span> + <span class="id">e</span>)) <span class="kwd">as</span> (<span class="id">Hf</span>, <span class="id">Hr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span> <span class="kwd">in</span> <span class="id">Hr</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hr</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span> <span class="kwd">in</span> <span class="id">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">now</span> <span class="tactic">destruct</span> <span class="id">Hr</span> <span class="kwd">as</span> (<span class="id">Hr</span>, (<span class="id">Hfr</span>, <span class="id">Hsr</span>)); <span class="tactic">rewrite</span> <span class="id">Hr</span>, <span class="id">Hfr</span>, <span class="id">Hsr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">now</span> <span class="id">revert</span> <span class="id">Hover</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bldexp">Bldexp</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF_FF2B">B2FF_FF2B</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#binary_round_correct">binary_round_correct</a></span> <span class="id">m</span> <span class="id">s</span> <span class="id">mf</span> (<span class="id">ef</span> + <span class="id">e</span>)) <span class="kwd">as</span> (<span class="id">Hf</span>, <span class="id">Hr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span> <span class="kwd">in</span> <span class="id">Hr</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hr</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_false">Rlt_bool_false</a></span> <span class="kwd">in</span> <span class="id">Hr</span>; [<span class="tactic">exact</span> <span class="id">Hr</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">now</span> <span class="id">revert</span> <span class="id">Hover</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">This hypothesis is needed to implement Bfrexp
    (otherwise, we have emin &gt; - prec
     and Bfrexp cannot fit the mantissa in interval <span class="bracket">0.5, 1)) *)
<span class="kwd">Hypothesis</span> <span class="id"><a name="Binary.Hemax">Hemax</a></span> : (3 &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>)%<span class="id">Z</span>.

<span class="kwd">Definition</span> <span class="id"><a name="Ffrexp_core_binary">Ffrexp_core_binary</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span> :=
  <span class="kwd">if</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_pos">Z.to_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> &lt;=? <span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>)%<span class="id">positive</span> <span class="kwd">then</span>
    (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_finite">F754_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span> (-<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>), (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span> + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)%<span class="id">Z</span>)
  <span class="kwd">else</span>
    <span class="kwd">let</span> <span class="id">d</span> := (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>))%<span class="id">Z</span> <span class="kwd">in</span>
    (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_finite">F754_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#s">s</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#shift_pos">shift_pos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_pos">Z.to_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#d">d</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#m">m</a></span>) (-<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>), (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span> + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#d">d</a></span>)%<span class="id">Z</span>).

<span class="kwd">Lemma</span> <span class="id"><a name="Bfrexp_correct_aux">Bfrexp_correct_aux</a></span> :
  <span class="kwd">forall</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> (<span class="id">Hx</span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>),
  <span class="kwd">let</span> <span class="id">x</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span>)) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>) <span class="kwd">in</span>
  <span class="kwd">let</span> <span class="id">z</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Ffrexp_core_binary">Ffrexp_core_binary</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>) <span class="kwd">in</span>
  <span class="kwd">let</span> <span class="id">e</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Ffrexp_core_binary">Ffrexp_core_binary</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#ex">ex</a></span>) <span class="kwd">in</span>
  <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_binary">valid_binary</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\
  (/2 &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>) &lt; 1)%<span class="id">R</span> /\
  (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> * <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>)%<span class="id">R</span>.
<span class="kwd">Proof</span>.
<span class="tactic">intros</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Bx</span>.
<span class="tactic">set</span> (<span class="id">x</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id">_</span>).
<span class="tactic">set</span> (<span class="id">z</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">_</span>).
<span class="tactic">set</span> (<span class="id">e</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">_</span>); <span class="tactic">simpl</span>.
<span class="tactic">assert</span> (<span class="id">Dmx_le_prec</span> : (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id">mx</span>) &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)%<span class="id">Z</span>).
{ <span class="id">revert</span> <span class="id">Bx</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span>.
  <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_mantissa">canonical_mantissa</a></span>; <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zeq_is_eq_bool">Zeq_is_eq_bool</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>.
  <span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_spec">Z.max_spec</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id">mx</span>) + <span class="id">ex</span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span>); <span class="id">lia</span>. }
<span class="tactic">assert</span> (<span class="id">Dmx_le_prec</span>' : (<span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id">mx</span> &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_pos">Z.to_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)%<span class="id">positive</span>).
{ <span class="id">change</span> (<span class="id">_</span> &lt;= <span class="id">_</span>)%<span class="id">positive</span>
    <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id">mx</span>) &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_pos">Z.to_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>))%<span class="id">Z</span>.
  <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z2Pos.id">Z2Pos.id</a></span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec_gt_0_">prec_gt_0_</a></span>]. }
<span class="tactic">unfold</span> <span class="id">z</span>, <span class="id">e</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Ffrexp_core_binary">Ffrexp_core_binary</a></span>.
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.leb_spec">Pos.leb_spec</a></span> <span class="id">_</span> <span class="id">_</span>); <span class="tactic">simpl</span>; <span class="tactic">intro</span> <span class="id">Dmx</span>.
- <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.
  <span class="tactic">assert</span> (<span class="id">Dmx</span>' : <span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id">mx</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_pos">Z.to_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>).
  { <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.le_antisym">Pos.le_antisym</a></span>. }
  <span class="tactic">assert</span> (<span class="id">Dmx</span>'' : <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id">mx</span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>).
  { <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Dmx</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z2Pos.id">Z2Pos.id</a></span>; [|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec_gt_0_">prec_gt_0_</a></span>]. }
  <span class="tactic">split</span>; [|<span class="tactic">split</span>].
  + <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_true_intro">andb_true_intro</a></span>.
    <span class="tactic">split</span>; [|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zle_bool_true">Zle_bool_true</a></span>; <span class="id">lia</span>].
    <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zeq_bool_true">Zeq_bool_true</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>.
    <span class="tactic">rewrite</span> <span class="id">Dmx</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z2Pos.id">Z2Pos.id</a></span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec_gt_0_">prec_gt_0_</a></span>].
    <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_l">Z.max_l</a></span>; [<span class="tactic">ring</span>|<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>; <span class="id">lia</span>].
  + <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_mult">Rabs_mult</a></span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id">_</span> <span class="id">_</span>)); [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>].
    <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#abs_IZR">abs_IZR</a></span>, <span class="id"><a href="compcert.flocq.Core.Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>; <span class="tactic">simpl</span>; <span class="tactic">split</span>.
    * <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_reg_r">Rmult_le_reg_r</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)); [<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>|].
      <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>, &lt;-<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_opp_diag_l">Z.add_opp_diag_l</a></span>; <span class="tactic">simpl</span>.
      <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_1_r">Rmult_1_r</a></span>.
      <span class="id">change</span> (/ 2)%<span class="id">R</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (- 1)); <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.
      <span class="tactic">rewrite</span> &lt;-<span class="id">Dmx</span>'', <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_comm">Z.add_comm</a></span>, <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>, <span class="id"><a href="compcert.flocq.Core.Float_prop.html#Zdigits_mag">Zdigits_mag</a></span>; [|<span class="id">lia</span>].
      <span class="tactic">set</span> (<span class="id">b</span> := <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id">_</span> <span class="id">_</span>).
      <span class="tactic">rewrite</span> &lt;-(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id">_</span>)); [|<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_le">IZR_le</a></span>; <span class="id">lia</span>].
      <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_mag_le">bpow_mag_le</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_neq">IZR_neq</a></span>; <span class="id">lia</span>.
    * <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_lt_reg_r">Rmult_lt_reg_r</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)); [<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>|].
      <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>, &lt;-<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_opp_diag_l">Z.add_opp_diag_l</a></span>; <span class="tactic">simpl</span>.
      <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_1_l">Rmult_1_l</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_1_r">Rmult_1_r</a></span>.
      <span class="tactic">rewrite</span> &lt;-<span class="id">Dmx</span>'', <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>, <span class="id"><a href="compcert.flocq.Core.Float_prop.html#Zdigits_mag">Zdigits_mag</a></span>; [|<span class="id">lia</span>].
      <span class="tactic">set</span> (<span class="id">b</span> := <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id">_</span> <span class="id">_</span>).
      <span class="tactic">rewrite</span> &lt;-(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id">_</span>)); [|<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_le">IZR_le</a></span>; <span class="id">lia</span>].
      <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_mag_gt">bpow_mag_gt</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_neq">IZR_neq</a></span>; <span class="id">lia</span>.
  + <span class="tactic">unfold</span> <span class="id">x</span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>, &lt;-<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.
    <span class="id">now</span> <span class="tactic">replace</span> (<span class="id">_</span> + <span class="id">_</span>)%<span class="id">Z</span> <span class="kwd">with</span> <span class="id">ex</span> <span class="tactic">by</span> <span class="tactic">ring</span>.
- <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.
  <span class="tactic">assert</span> (<span class="id">Dmx</span>' : (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id">mx</span>) &lt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)%<span class="id">Z</span>).
  { <span class="id">now</span> <span class="tactic">rewrite</span> &lt;-(<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z2Pos.id">Z2Pos.id</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>); [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec_gt_0_">prec_gt_0_</a></span>]. }
  <span class="tactic">split</span>; [|<span class="tactic">split</span>].
  + <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_true_intro">andb_true_intro</a></span>.
    <span class="tactic">split</span>; [|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zle_bool_true">Zle_bool_true</a></span>; <span class="id">lia</span>].
    <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#Zeq_bool_true">Zeq_bool_true</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>.
    <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#shift_pos_correct">shift_pos_correct</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos_fold">Z.pow_pos_fold</a></span>.
    <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z2Pos.id">Z2Pos.id</a></span>; [|<span class="id">lia</span>].
    <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_comm">Z.mul_comm</a></span>; <span class="id">change</span> 2%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>).
    <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zdigits_mult_Zpower">Zdigits_mult_Zpower</a></span>; [|<span class="id">lia</span>|<span class="id">lia</span>].
    <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>; <span class="tactic">replace</span> (<span class="id">_</span> - <span class="id">_</span>)%<span class="id">Z</span> <span class="kwd">with</span> (- <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)%<span class="id">Z</span> <span class="tactic">by</span> <span class="tactic">ring</span>.
    <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_l">Z.max_l</a></span>; [|<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>; <span class="id">lia</span>].
  + <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_mult">Rabs_mult</a></span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id">_</span> <span class="id">_</span>)); [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>].
    <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#abs_IZR">abs_IZR</a></span>, <span class="id"><a href="compcert.flocq.Core.Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>; <span class="tactic">simpl</span>.
    <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#shift_pos_correct">shift_pos_correct</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#mult_IZR">mult_IZR</a></span>.
    <span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> <span class="id">_</span> <span class="id">_</span>))
      <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_pos">Z.to_pos</a></span> ((<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id">mx</span>)))))).
    <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z2Pos.id">Z2Pos.id</a></span>; [|<span class="id">lia</span>].
    <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_comm">Rmult_comm</a></span>, &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>, &lt;-<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.
    <span class="tactic">set</span> (<span class="id">d</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id">mx</span>)).
    <span class="tactic">replace</span> (<span class="id">_</span> + <span class="id">_</span>)%<span class="id">Z</span> <span class="kwd">with</span> (- <span class="id">d</span>)%<span class="id">Z</span> <span class="tactic">by</span> <span class="tactic">ring</span>; <span class="tactic">split</span>.
    * <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_reg_l">Rmult_le_reg_l</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">d</span>)); [<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>|].
      <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>, &lt;-<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_opp_diag_r">Z.add_opp_diag_r</a></span>.
      <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_1_l">Rmult_1_l</a></span>.
      <span class="id">change</span> (/ 2)%<span class="id">R</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (- 1)); <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.
      <span class="tactic">rewrite</span> &lt;-(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id">_</span>)); [|<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_le">IZR_le</a></span>; <span class="id">lia</span>].
      <span class="tactic">unfold</span> <span class="id">d</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>, <span class="id"><a href="compcert.flocq.Core.Float_prop.html#Zdigits_mag">Zdigits_mag</a></span>; [|<span class="id">lia</span>].
      <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_mag_le">bpow_mag_le</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_neq">IZR_neq</a></span>; <span class="id">lia</span>.
    * <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_lt_reg_l">Rmult_lt_reg_l</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">d</span>)); [<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>|].
      <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>, &lt;-<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_opp_diag_r">Z.add_opp_diag_r</a></span>.
      <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_1_l">Rmult_1_l</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_1_r">Rmult_1_r</a></span>.
      <span class="tactic">rewrite</span> &lt;-(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id">_</span>)); [|<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_le">IZR_le</a></span>; <span class="id">lia</span>].
      <span class="tactic">unfold</span> <span class="id">d</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>, <span class="id"><a href="compcert.flocq.Core.Float_prop.html#Zdigits_mag">Zdigits_mag</a></span>; [|<span class="id">lia</span>].
      <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_mag_gt">bpow_mag_gt</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_neq">IZR_neq</a></span>; <span class="id">lia</span>.
  + <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>, &lt;-<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#shift_pos_correct">shift_pos_correct</a></span>.
    <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_cond_Zopp">IZR_cond_Zopp</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#mult_IZR">mult_IZR</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#cond_Ropp_mult_r">cond_Ropp_mult_r</a></span>, &lt;-<span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_cond_Zopp">IZR_cond_Zopp</a></span>.
    <span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> <span class="id">_</span> <span class="id">_</span>))
      <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_pos">Z.to_pos</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="compcert.flocq.Core.Digits.html#digits2_pos">digits2_pos</a></span> <span class="id">mx</span>))))).
    <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z2Pos.id">Z2Pos.id</a></span>; [|<span class="id">lia</span>].
    <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_comm">Rmult_comm</a></span>, &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>, &lt;-<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.
    <span class="id">now</span> <span class="tactic">replace</span> (<span class="id">_</span> + <span class="id">_</span>)%<span class="id">Z</span> <span class="kwd">with</span> <span class="id">ex</span> <span class="tactic">by</span> <span class="tactic">ring</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_comm">Rmult_comm</a></span>.
<span class="kwd">Qed</span>.

<span class="kwd">Definition</span> <span class="id"><a name="Bfrexp">Bfrexp</a></span> <span class="id">f</span> :=
  <span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> <span class="kwd">with</span>
  | <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span> <span class="id">H</span> =&gt;
    <span class="kwd">let</span> <span class="id">e</span>' := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Ffrexp_core_binary">Ffrexp_core_binary</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span>) <span class="kwd">in</span>
    (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#FF2B">FF2B</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfrexp_correct_aux">Bfrexp_correct_aux</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span> <span class="id">H</span>)), <span class="id">e</span>')
  | <span class="id">_</span> =&gt; (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span>, (-2*<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>-<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)%<span class="id">Z</span>)
  <span class="kwd">end</span>.

<span class="kwd">Theorem</span> <span class="id"><a name="Bfrexp_correct">Bfrexp_correct</a></span> :
  <span class="kwd">forall</span> <span class="id">f</span>,
  <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_strict">is_finite_strict</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;
  <span class="kwd">let</span> <span class="id">x</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span> <span class="kwd">in</span>
  <span class="kwd">let</span> <span class="id">z</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfrexp">Bfrexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span>) <span class="kwd">in</span>
  <span class="kwd">let</span> <span class="id">e</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfrexp">Bfrexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#f">f</a></span>) <span class="kwd">in</span>
  (/2 &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span>) &lt; 1)%<span class="id">R</span> /\
  (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#z">z</a></span> * <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span>)%<span class="id">R</span> /\
  <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#e">e</a></span> = <span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>.
<span class="kwd">Proof</span>.
<span class="tactic">intro</span> <span class="id">f</span>; <span class="tactic">case</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rtopology.html#f">f</a></span>; <span class="tactic">intro</span> <span class="id">s</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">intros</span> <span class="id">m</span> <span class="id">e</span> <span class="id">Hf</span> <span class="id">_</span>.
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfrexp_correct_aux">Bfrexp_correct_aux</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span> <span class="id">Hf</span>).
<span class="tactic">intros</span> (<span class="id">_</span>, (<span class="id">Hb</span>, <span class="id">Heq</span>)); <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_FF2B">B2R_FF2B</a></span>.
<span class="tactic">split</span>; [<span class="id">now</span> <span class="tactic">simpl</span>|]; <span class="tactic">split</span>; [<span class="id">now</span> <span class="tactic">simpl</span>|].
<span class="tactic">rewrite</span> <span class="id">Heq</span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_mult_bpow">mag_mult_bpow</a></span>.
- <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_reg_l">Z.add_reg_l</a></span> (- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Ffrexp_core_binary">Ffrexp_core_binary</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span>)))).
  <span class="id">now</span> <span class="id">ring_simplify</span>; <span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_unique">mag_unique</a></span>.
- <span class="tactic">intro</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">Hb</span> <span class="kwd">as</span> (<span class="id">Hb</span>, <span class="id">_</span>); <span class="id">revert</span> <span class="id">Hb</span>; <span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>; <span class="id">lra</span>.
<span class="kwd">Qed</span>.

(** <span class="id">Ulp</span> *)

<span class="kwd">Definition</span> <span class="id"><a name="Bulp">Bulp</a></span> <span class="id">x</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bldexp">Bldexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone">Bone</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfrexp">Bfrexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>))).

<span class="kwd">Theorem</span> <span class="id"><a name="Bulp_correct">Bulp_correct</a></span> :
  <span class="kwd">forall</span> <span class="id">x</span>,
  <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;
  <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bulp">Bulp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) /\
  <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bulp">Bulp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\
  <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bulp">Bulp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.
<span class="kwd">Proof</span>.
<span class="tactic">intro</span> <span class="id">x</span>; <span class="tactic">case</span> <span class="id">x</span>.
- <span class="tactic">intros</span> <span class="id">s</span> <span class="id">_</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bulp">Bulp</a></span>.
  <span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> <span class="id">_</span>) <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span>.
  + <span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bldexp_correct">Bldexp_correct</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone">Bone</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span>).
    <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone_correct">Bone_correct</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_1_l">Rmult_1_l</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>;
      [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#valid_rnd_N">valid_rnd_N</a></span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_bpow">generic_format_bpow</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>;
        <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_r">Z.max_r</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>].
    <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.
    * <span class="tactic">intros</span> (<span class="id">Hr</span>, (<span class="id">Hf</span>, <span class="id">Hs</span>)); <span class="tactic">rewrite</span> <span class="id">Hr</span>, <span class="id">Hf</span>, <span class="id">Hs</span>.
      <span class="tactic">split</span>; [|<span class="id">now</span> <span class="tactic">split</span>; [<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_Bone">is_finite_Bone</a></span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign_Bone">Bsign_Bone</a></span>]].
      <span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool_true">Req_bool_true</a></span>; [|<span class="tactic">reflexivity</span>].
      <span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#negligible_exp_FLT">negligible_exp_FLT</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>) <span class="kwd">as</span> (<span class="id">n</span>, (<span class="id">Hn</span>, <span class="id">Hn</span>')).
      <span class="id">change</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>); <span class="tactic">rewrite</span> <span class="id">Hn</span>.
      <span class="id">now</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_r">Z.max_r</a></span>;
        [|<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>].
    * <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>]; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_lt">bpow_lt</a></span>.
      <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>.
  + <span class="tactic">simpl</span>; <span class="id">change</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> <span class="id">_</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (-2 * <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span> - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)).
    <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_r">Z.max_r</a></span>; [<span class="tactic">reflexivity</span>|].
    <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>.
- <span class="tactic">intro</span>; <span class="tactic">discriminate</span>.
- <span class="tactic">intros</span> <span class="id">s</span> <span class="id">pl</span> <span class="id">Hpl</span>; <span class="tactic">discriminate</span>.
- <span class="tactic">intros</span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span> <span class="id">Hme</span> <span class="id">_</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bulp">Bulp</a></span>, <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>.
  <span class="tactic">set</span> (<span class="id">f</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>).
  <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool_false">Req_bool_false</a></span>.
  + <span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfrexp_correct">Bfrexp_correct</a></span> <span class="id">f</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id">_</span>)) <span class="kwd">as</span> (<span class="id">Hfr1</span>, (<span class="id">Hfr2</span>, <span class="id">Hfr3</span>)).
    <span class="tactic">rewrite</span> <span class="id">Hfr3</span>.
    <span class="tactic">set</span> (<span class="id">e</span>' := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> <span class="id">_</span>).
    <span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bldexp_correct">Bldexp_correct</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone">Bone</a></span> <span class="id">e</span>').
    <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone_correct">Bone_correct</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_1_l">Rmult_1_l</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#valid_rnd_N">valid_rnd_N</a></span>|].
    { <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.
      - <span class="tactic">intros</span> (<span class="id">Hr</span>, (<span class="id">Hf</span>, <span class="id">Hs</span>)); <span class="tactic">rewrite</span> <span class="id">Hr</span>, <span class="id">Hf</span>, <span class="id">Hs</span>.
        <span class="id">now</span> <span class="tactic">split</span>; [|<span class="tactic">split</span>; [<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_Bone">is_finite_Bone</a></span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign_Bone">Bsign_Bone</a></span>]].
      - <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>].
        <span class="tactic">unfold</span> <span class="id">e</span>', <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>.
        <span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_spec">Z.max_spec</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">f</span>) - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span>)
          <span class="kwd">as</span> [(<span class="id">_</span>, <span class="id">Hm</span>)|(<span class="id">_</span>, <span class="id">Hm</span>)]; <span class="tactic">rewrite</span> <span class="id">Hm</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_lt">bpow_lt</a></span>;
          [<span class="id">now</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>|].
        <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zplus_lt_reg_r">Zplus_lt_reg_r</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>); <span class="id">ring_simplify</span>.
        <span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">f</span>) &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>)%<span class="id">Z</span>;
          [|<span class="id">now</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>].
        <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_le_bpow">mag_le_bpow</a></span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_B2R_lt_emax">abs_B2R_lt_emax</a></span>].
        <span class="id">now</span> <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rtopology.html#f">f</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_neq_0">F2R_neq_0</a></span>; <span class="tactic">case</span> <span class="id">s</span>. }
    <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_bpow">generic_format_bpow</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_lub">Z.max_lub</a></span>.
    * <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>.
    * <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_max_r">Z.le_max_r</a></span>.
  + <span class="id">now</span> <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rtopology.html#f">f</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_neq_0">F2R_neq_0</a></span>; <span class="tactic">case</span> <span class="id">s</span>.
<span class="kwd">Qed</span>.

(** <span class="id">Successor</span> (<span class="id">and</span> <span class="id">predecessor</span>) *)

<span class="kwd">Definition</span> <span class="id"><a name="Bpred_pos">Bpred_pos</a></span> <span class="id">pred_pos_nan</span> <span class="id">x</span> :=
  <span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">with</span>
  | <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">_</span> <span class="id">mx</span> <span class="id">_</span> <span class="id">_</span> =&gt;
    <span class="kwd">let</span> <span class="id">d</span> :=
      <span class="kwd">if</span> (<span class="id">mx</span>~0 =? <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#shift_pos">shift_pos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_pos">Z.to_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>) 1)%<span class="id">positive</span> <span class="kwd">then</span>
        <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bldexp">Bldexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone">Bone</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfrexp">Bfrexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) - 1))
      <span class="kwd">else</span>
        <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bulp">Bulp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">in</span>
    <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bminus">Bminus</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#pred_pos_nan">pred_pos_nan</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#d">d</a></span>
  | <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>
  <span class="kwd">end</span>.

<span class="kwd">Theorem</span> <span class="id"><a name="Bpred_pos_correct">Bpred_pos_correct</a></span> :
  <span class="kwd">forall</span> <span class="id">pred_pos_nan</span> <span class="id">x</span>,
  (0 &lt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)%<span class="id">R</span> -&gt;
  <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bpred_pos">Bpred_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#pred_pos_nan">pred_pos_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Core.Ulp.html#pred_pos">pred_pos</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) /\
  <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bpred_pos">Bpred_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#pred_pos_nan">pred_pos_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\
  <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bpred_pos">Bpred_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#pred_pos_nan">pred_pos_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.
<span class="kwd">Proof</span>.
<span class="tactic">intros</span> <span class="id">pred_pos_nan</span> <span class="id">x</span>.
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfrexp_correct">Bfrexp_correct</a></span> <span class="id">x</span>).
<span class="tactic">case</span> <span class="id">x</span>.
- <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">s</span> <span class="id">_</span> <span class="id">Bx</span>; <span class="id">exfalso</span>; <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_irrefl">Rlt_irrefl</a></span> <span class="id">_</span> <span class="id">Bx</span>).
- <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">s</span> <span class="id">_</span> <span class="id">Bx</span>; <span class="id">exfalso</span>; <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_irrefl">Rlt_irrefl</a></span> <span class="id">_</span> <span class="id">Bx</span>).
- <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">s</span> <span class="id">pl</span> <span class="id">Hpl</span> <span class="id">_</span> <span class="id">Bx</span>; <span class="id">exfalso</span>; <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_irrefl">Rlt_irrefl</a></span> <span class="id">_</span> <span class="id">Bx</span>).
- <span class="tactic">intros</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hmex</span> <span class="id">Hfrexpx</span> <span class="id">Px</span>.
  <span class="tactic">assert</span> (<span class="id">Hsx</span> : <span class="id">sx</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).
  { <span class="id">revert</span> <span class="id">Px</span>; <span class="tactic">case</span> <span class="id">sx</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; [|<span class="id">now</span> <span class="tactic">intro</span>].
    <span class="tactic">intro</span> <span class="id">Px</span>; <span class="id">exfalso</span>; <span class="id">revert</span> <span class="id">Px</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_not_lt">Rle_not_lt</a></span>.
    <span class="tactic">rewrite</span> &lt;-(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">ex</span>)).
    <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_compat_r">Rmult_le_compat_r</a></span>; [<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>|<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_le">IZR_le</a></span>; <span class="id">lia</span>]. }
  <span class="tactic">clear</span> <span class="id">Px</span>; <span class="tactic">rewrite</span> <span class="id">Hsx</span> <span class="kwd">in</span> <span class="id">Hfrexpx</span> |- *; <span class="tactic">clear</span> <span class="id">Hsx</span> <span class="id">sx</span>.
  <span class="id">specialize</span> (<span class="id">Hfrexpx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id">_</span>)).
  <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hfrexpx</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_FF2B">B2R_FF2B</a></span> <span class="kwd">in</span> <span class="id">Hfrexpx</span>.
  <span class="tactic">destruct</span> <span class="id">Hfrexpx</span> <span class="kwd">as</span> (<span class="id">Hfrexpx_bounds</span>, (<span class="id">Hfrexpx_eq</span>, <span class="id">Hfrexpx_exp</span>)).
  <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bpred_pos">Bpred_pos</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bfrexp">Bfrexp</a></span>.
  <span class="tactic">simpl</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id">_</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">_</span>)).
  <span class="tactic">rewrite</span> <span class="id">Hfrexpx_exp</span>.
  <span class="tactic">set</span> (<span class="id">x</span>' := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>).
  <span class="tactic">set</span> (<span class="id">xr</span> := <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id">_</span>).
  <span class="tactic">assert</span> (<span class="id">Nzxr</span> : <span class="id">xr</span> &lt;&gt; 0%<span class="id">R</span>).
  { <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rgeom.html#xr">xr</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.
    <span class="tactic">rewrite</span> &lt;-(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">ex</span>)); <span class="tactic">intro</span> <span class="id">H</span>.
    <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_eq_reg_r">Rmult_eq_reg_r</a></span> <span class="kwd">in</span> <span class="id">H</span>; [|<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>].
    <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#eq_IZR">eq_IZR</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">lia</span>. }
  <span class="tactic">assert</span> (<span class="id">Hulp</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bulp_correct">Bulp_correct</a></span> <span class="id">x</span>').
  <span class="id">specialize</span> (<span class="id">Hulp</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id">_</span>)).
  <span class="tactic">assert</span> (<span class="id">Hldexp</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bldexp_correct">Bldexp_correct</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone">Bone</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">xr</span> - 1))).
  <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone_correct">Bone_correct</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_1_l">Rmult_1_l</a></span> <span class="kwd">in</span> <span class="id">Hldexp</span>.
  <span class="tactic">assert</span> (<span class="id">Fbpowxr</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span>
                      (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">xr</span> - 1)))).
  { <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_bpow">generic_format_bpow</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_lub">Z.max_lub</a></span>.
    - <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>.
    - <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_max_r">Z.le_max_r</a></span>. }
  <span class="tactic">assert</span> (<span class="id">H</span> : <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span>
               (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span>)
                  (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">xr</span> - 1)))))
              (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>); [|<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">Hldexp</span>; <span class="tactic">clear</span> <span class="id">H</span>].
  { <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>;
      [|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#valid_rnd_round_mode">valid_rnd_round_mode</a></span>|<span class="tactic">apply</span> <span class="id">Fbpowxr</span>].
    <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>; [|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>]; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_lt">bpow_lt</a></span>.
    <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_lub_lt">Z.max_lub_lt</a></span>; [|<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>].
    <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zplus_lt_reg_r">Zplus_lt_reg_r</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> + 1)); <span class="id">ring_simplify</span>.
    <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_1_r">Z.add_1_r</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_lt_succ">Zle_lt_succ</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_le_bpow">mag_le_bpow</a></span>.
    - <span class="tactic">exact</span> <span class="id">Nzxr</span>.
    - <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>)).
      + <span class="id">change</span> <span class="id">xr</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>'); <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_B2R_lt_emax">abs_B2R_lt_emax</a></span>.
      + <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_le">bpow_le</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>. }
  <span class="tactic">set</span> (<span class="id">d</span> := <span class="kwd">if</span> (<span class="id">mx</span>~0 =? <span class="id">_</span>)%<span class="id">positive</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>).
  <span class="tactic">set</span> (<span class="id">minus_nan</span> := <span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">_</span>).
  <span class="tactic">assert</span> (<span class="id">Hminus</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bminus_correct">Bminus_correct</a></span> <span class="id">minus_nan</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span> <span class="id">x</span>' <span class="id">d</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id">_</span>)).
  <span class="tactic">assert</span> (<span class="id">Fd</span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id">d</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).
  { <span class="tactic">unfold</span> <span class="id">d</span>; <span class="tactic">case</span> (<span class="id">_</span> =? <span class="id">_</span>)%<span class="id">positive</span>.
    - <span class="id">now</span> <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id">Hldexp</span>)), <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_Bone">is_finite_Bone</a></span>.
    - <span class="id">now</span> <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id">Hulp</span>)). }
  <span class="id">specialize</span> (<span class="id">Hminus</span> <span class="id">Fd</span>).
  <span class="tactic">assert</span> (<span class="id">Px</span> : (0 &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>')%<span class="id">R</span>).
  { <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span>, <span class="id">x</span>', <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.
    <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>; [<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_le">IZR_le</a></span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>]. }
  <span class="tactic">assert</span> (<span class="id">Pd</span> : (0 &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">d</span>)%<span class="id">R</span>).
  { <span class="tactic">unfold</span> <span class="id">d</span>; <span class="tactic">case</span> (<span class="id">_</span> =? <span class="id">_</span>)%<span class="id">positive</span>.
    - <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">Hldexp</span>).
      <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>; [<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#valid_rnd_N">valid_rnd_N</a></span>|].
    - <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">Hulp</span>); <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp_ge_0">ulp_ge_0</a></span>. }
  <span class="tactic">assert</span> (<span class="id">Hdlex</span> : (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">d</span> &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>')%<span class="id">R</span>).
  { <span class="tactic">unfold</span> <span class="id">d</span>; <span class="tactic">case</span> (<span class="id">_</span> =? <span class="id">_</span>)%<span class="id">positive</span>.
    - <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">Hldexp</span>).
      <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#valid_rnd_N">valid_rnd_N</a></span>|<span class="id">now</span> <span class="tactic">simpl</span>].
      <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">xr</span> - 1))).
      + <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_le">bpow_le</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_lub">Z.max_lub</a></span>.
        * <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>.
        * <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zplus_le_reg_r">Zplus_le_reg_r</a></span> <span class="id">_</span> <span class="id">_</span> 1); <span class="id">ring_simplify</span>.
          <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_ge_bpow">mag_ge_bpow</a></span>.
          <span class="tactic">replace</span> (<span class="id">_</span> - 1)%<span class="id">Z</span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span> <span class="tactic">by</span> <span class="tactic">ring</span>.
          <span class="id">now</span> <span class="id">change</span> <span class="id">xr</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>'); <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_B2R_ge_emin">abs_B2R_ge_emin</a></span>.
      + <span class="tactic">rewrite</span> &lt;-(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> <span class="id">_</span> <span class="id">Px</span>).
        <span class="id">now</span> <span class="id">change</span> <span class="id">xr</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>'); <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_mag_le">bpow_mag_le</a></span>.
    - <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">Hulp</span>); <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp_le_id">ulp_le_id</a></span>.
      + <span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>' &lt;&gt; 0%<span class="id">R</span>); [<span class="tactic">exact</span> <span class="id">Nzxr</span>|<span class="id">lra</span>].
      + <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#generic_format_B2R">generic_format_B2R</a></span>. }
  <span class="tactic">assert</span> (<span class="id">H</span> : <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span>
            (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span>
               (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span>
                  (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span>) (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>' - <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">d</span>)))
            (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>); [|<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">Hminus</span>; <span class="tactic">clear</span> <span class="id">H</span>].
  { <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.
    <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="compcert.flocq.Core.Round_NE.html#round_NE_abs">round_NE_abs</a></span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp_valid">FLT_exp_valid</a></span>].
    <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>; [|<span class="id">lra</span>].
    <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>')).
    - <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_le_generic">round_le_generic</a></span>;
        [<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp_valid">FLT_exp_valid</a></span>|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#valid_rnd_N">valid_rnd_N</a></span>| |<span class="id">lra</span>].
      <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#generic_format_B2R">generic_format_B2R</a></span>.
    - <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rle_abs">Rle_abs</a></span> <span class="id">_</span>)), <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#abs_B2R_lt_emax">abs_B2R_lt_emax</a></span>. }
  <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">Hminus</span>).
  <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id">Hminus</span>)).
  <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id">Hminus</span>)).
  <span class="tactic">split</span>; [|<span class="tactic">split</span>; [<span class="tactic">reflexivity</span>|<span class="id">now</span> <span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_spec">Rcompare_spec</a></span> <span class="id">_</span> <span class="id">_</span>); [<span class="id">lra</span>| |]]].
  <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#pred_pos">pred_pos</a></span>, <span class="id">d</span>.
  <span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.eqb_spec">Pos.eqb_spec</a></span> <span class="id">_</span> <span class="id">_</span>); <span class="tactic">intro</span> <span class="id">Hd</span>; <span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool_spec">Req_bool_spec</a></span> <span class="id">_</span> <span class="id">_</span>); <span class="tactic">intro</span> <span class="id">Hpred</span>.
  + <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">Hldexp</span>).
    <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Fbpowxr</span>).
    <span class="id">change</span> <span class="id">xr</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>').
    <span class="tactic">replace</span> (<span class="id">_</span> - <span class="id">_</span>)%<span class="id">R</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Ulp.html#pred_pos">pred_pos</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>')).
    * <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>; [<span class="tactic">reflexivity</span>|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#valid_rnd_N">valid_rnd_N</a></span>|].
      <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#generic_format_pred_pos">generic_format_pred_pos</a></span>;
        [<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp_valid">FLT_exp_valid</a></span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#generic_format_B2R">generic_format_B2R</a></span>|].
      <span class="id">change</span> <span class="id">xr</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>') <span class="kwd">in</span> <span class="id">Nzxr</span>; <span class="id">lra</span>.
    * <span class="id">now</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#pred_pos">pred_pos</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool_true">Req_bool_true</a></span>.
  + <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">Hpred</span>.
    <span class="tactic">assert</span> (<span class="id">Hmx</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">mx</span>) = <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span> - 1)).
    { <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_eq_reg_l">Rmult_eq_reg_l</a></span> 2); [|<span class="id">lra</span>]; <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#mult_IZR">mult_IZR</a></span>.
      <span class="id">change</span> (2 * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">mx</span>)%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">mx</span>~0); <span class="tactic">rewrite</span> <span class="id">Hd</span>.
      <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#shift_pos_correct">shift_pos_correct</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_1_r">Z.mul_1_r</a></span>.
      <span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> <span class="id">_</span> <span class="id">_</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_pos">Z.to_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>))).
      <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z2Pos.id">Z2Pos.id</a></span>; [|<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec_gt_0_">prec_gt_0_</a></span>].
      <span class="id">change</span> 2%<span class="id">R</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> 1); <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.
      <span class="tactic">f_equal</span>; <span class="tactic">ring</span>. }
    <span class="tactic">unfold</span> <span class="id">x</span>' <span class="tactic">at</span> 1; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="tactic">at</span> 1; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.
    <span class="tactic">rewrite</span> <span class="id">Hmx</span>, &lt;-<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>; <span class="tactic">f_equal</span>.
    <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_reg_l">Z.add_reg_l</a></span> 1); <span class="id">ring_simplify</span>; <span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_unique_pos">mag_unique_pos</a></span>.
    <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">Hmx</span>, &lt;-<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>; <span class="tactic">split</span>.
    * <span class="id">right</span>; <span class="tactic">f_equal</span>; <span class="tactic">ring</span>.
    * <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_lt">bpow_lt</a></span>; <span class="id">lia</span>.
  + <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">Hulp</span>).
    <span class="tactic">assert</span> (<span class="id">H</span> : <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>')
                = <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>') - 1)));
      [|<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">clear</span> <span class="id">H</span>].
    { <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool_false">Req_bool_false</a></span>; [|<span class="id">now</span> <span class="tactic">simpl</span>].
      <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>; <span class="tactic">f_equal</span>.
      <span class="tactic">assert</span> (<span class="id">H</span> : (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>') &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span> + <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>)%<span class="id">Z</span>).
      { <span class="tactic">assert</span> (<span class="id">Hcm</span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_mantissa">canonical_mantissa</a></span> <span class="id">mx</span> <span class="id">ex</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).
        { <span class="id">now</span> <span class="tactic">generalize</span> <span class="id">Hmex</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#bounded">bounded</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span>. }
        <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#canonical_canonical_mantissa">canonical_canonical_mantissa</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="kwd">in</span> <span class="id">Hcm</span>.
        <span class="id">revert</span> <span class="id">Hcm</span>; <span class="id">fold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>; <span class="tactic">simpl</span>.
        <span class="id">change</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id">_</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>'); <span class="tactic">intro</span> <span class="id">Hex</span>.
        <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.nlt_ge">Z.nlt_ge</a></span>; <span class="tactic">intro</span> <span class="id">H</span>'; <span class="tactic">apply</span> <span class="id">Hd</span>.
        <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Pos2Z.inj_pos">Pos2Z.inj_pos</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#shift_pos_correct">shift_pos_correct</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_1_r">Z.mul_1_r</a></span>.
        <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#eq_IZR">eq_IZR</a></span>; <span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> <span class="id">_</span> <span class="id">_</span>))
          <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_pos">Z.to_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>))).
        <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z2Pos.id">Z2Pos.id</a></span>; [|<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec_gt_0_">prec_gt_0_</a></span>].
        <span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">mx</span>~0) <span class="kwd">with</span> (2 * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">mx</span>)%<span class="id">Z</span>.
        <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_comm">Z.mul_comm</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#mult_IZR">mult_IZR</a></span>.
        <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_eq_reg_r">Rmult_eq_reg_r</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> (<span class="id">ex</span> - 1)));
          [|<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>].
        <span class="id">change</span> 2%<span class="id">R</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> 1); <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>, &lt;-!<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.
        <span class="tactic">replace</span> (1 + <span class="id">_</span>)%<span class="id">Z</span> <span class="kwd">with</span> <span class="id">ex</span> <span class="tactic">by</span> <span class="tactic">ring</span>.
        <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="tactic">at</span> 1, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="kwd">in</span> <span class="id">Hpred</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hpred</span>; <span class="tactic">rewrite</span> <span class="id">Hpred</span>.
        <span class="id">change</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id">_</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>'); <span class="tactic">rewrite</span> <span class="id">Hex</span>.
        <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_l">Z.max_l</a></span>; [<span class="tactic">f_equal</span>; <span class="tactic">ring</span>|<span class="id">lia</span>]. }
      <span class="id">now</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>; <span class="tactic">do</span> 2 (<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_r">Z.max_r</a></span>; [|<span class="id">lia</span>]). }
    <span class="tactic">replace</span> (<span class="id">_</span> - <span class="id">_</span>)%<span class="id">R</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Ulp.html#pred_pos">pred_pos</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>')).
    * <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>; [<span class="tactic">reflexivity</span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#valid_rnd_N">valid_rnd_N</a></span>|].
      <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#generic_format_pred_pos">generic_format_pred_pos</a></span>;
        [<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp_valid">FLT_exp_valid</a></span>| |<span class="id">change</span> <span class="id">xr</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>') <span class="kwd">in</span> <span class="id">Nzxr</span>; <span class="id">lra</span>].
      <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#generic_format_B2R">generic_format_B2R</a></span>.
    * <span class="id">now</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#pred_pos">pred_pos</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool_true">Req_bool_true</a></span>.
  + <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">Hulp</span>).
    <span class="tactic">replace</span> (<span class="id">_</span> - <span class="id">_</span>)%<span class="id">R</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Ulp.html#pred_pos">pred_pos</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>')).
    * <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>; [<span class="tactic">reflexivity</span>|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#valid_rnd_N">valid_rnd_N</a></span>|].
      <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#generic_format_pred_pos">generic_format_pred_pos</a></span>;
        [<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp_valid">FLT_exp_valid</a></span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#generic_format_B2R">generic_format_B2R</a></span>|].
      <span class="id">change</span> <span class="id">xr</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>') <span class="kwd">in</span> <span class="id">Nzxr</span>; <span class="id">lra</span>.
    * <span class="id">now</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#pred_pos">pred_pos</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool_false">Req_bool_false</a></span>.
<span class="kwd">Qed</span>.

<span class="kwd">Definition</span> <span class="id"><a name="Bsucc">Bsucc</a></span> <span class="id">succ_nan</span> <span class="id">x</span> :=
  <span class="kwd">match</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> <span class="kwd">with</span>
  | <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bldexp">Bldexp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone">Bone</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span>
  | <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>
  | <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#succ_nan">succ_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bmax_float">Bmax_float</a></span>
  | <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#build_nan">build_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#succ_nan">succ_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)
  | <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt;
    <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bplus">Bplus</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#succ_nan">succ_nan</a></span>) <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bulp">Bulp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)
  | <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt;
    <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#succ_nan">succ_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bpred_pos">Bpred_pos</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#succ_nan">succ_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#succ_nan">succ_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>))
  <span class="kwd">end</span>.

<span class="kwd">Lemma</span> <span class="id"><a name="Bsucc_correct">Bsucc_correct</a></span> :
  <span class="kwd">forall</span> <span class="id">succ_nan</span> <span class="id">x</span>,
  <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;
  <span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="compcert.flocq.Core.Ulp.html#succ">succ</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)) (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) <span class="kwd">then</span>
    <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsucc">Bsucc</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#succ_nan">succ_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Core.Ulp.html#succ">succ</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) /\
    <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsucc">Bsucc</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#succ_nan">succ_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\
    (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsucc">Bsucc</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#succ_nan">succ_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> &amp;&amp; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_strict">is_finite_strict</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)%<span class="id">bool</span>
  <span class="kwd">else</span>
    <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsucc">Bsucc</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#succ_nan">succ_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_infinity">F754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.
<span class="kwd">Proof</span>.
<span class="tactic">assert</span> (<span class="id">Hsucc</span> : <span class="id"><a href="compcert.flocq.Core.Ulp.html#succ">succ</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> 0 = <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span>).
{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#succ">succ</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rle_bool_true">Rle_bool_true</a></span>; [|<span class="id">now</span> <span class="id">right</span>]; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span>.
  <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool_true">Req_bool_true</a></span>; [|<span class="id">now</span> <span class="tactic">simpl</span>].
  <span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#negligible_exp_FLT">negligible_exp_FLT</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.prec">prec</a></span>) <span class="kwd">as</span> (<span class="id">n</span>, (<span class="id">Hne</span>, <span class="id">Hn</span>)).
  <span class="id">now</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>; <span class="tactic">rewrite</span> <span class="id">Hne</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_r">Z.max_r</a></span>;
    [|<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>]. }
<span class="tactic">intros</span> <span class="id">succ_nan</span> [<span class="id">s</span>|<span class="id">s</span>|<span class="id">s</span> <span class="id">pl</span> <span class="id">Hpl</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hmex</span>]; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">intros</span> <span class="id">_</span>.
- <span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bldexp_correct">Bldexp_correct</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone">Bone</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span>); <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsucc">Bsucc</a></span>; <span class="tactic">simpl</span>.
  <span class="tactic">assert</span> (<span class="id">Hbemin</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Round_NE.html#ZnearestE">ZnearestE</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span>)
                   = <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emin">emin</a></span>).
  { <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>; [<span class="tactic">reflexivity</span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#valid_rnd_N">valid_rnd_N</a></span>|].
    <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_bpow">generic_format_bpow</a></span>.
    <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_r">Z.max_r</a></span>; [<span class="id">now</span> <span class="tactic">simpl</span>|].
    <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>. }
  <span class="tactic">rewrite</span> <span class="id">Hsucc</span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.
  + <span class="tactic">intros</span> (<span class="id">Hr</span>, (<span class="id">Hf</span>, <span class="id">Hs</span>)); <span class="tactic">rewrite</span> <span class="id">Hr</span>, <span class="id">Hf</span>, <span class="id">Hs</span>.
    <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone_correct">Bone_correct</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_1_l">Rmult_1_l</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_Bone">is_finite_Bone</a></span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign_Bone">Bsign_Bone</a></span>.
    <span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_spec">Rlt_bool_spec</a></span>; <span class="tactic">intro</span> <span class="id">Hover</span>.
    * <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">Bool.andb_false_r</a></span>.
    * <span class="id">exfalso</span>; <span class="id">revert</span> <span class="id">Hover</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_le">Rlt_not_le</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_lt">bpow_lt</a></span>.
      <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>.
  + <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bone_correct">Bone_correct</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_1_l">Rmult_1_l</a></span>, <span class="id">Hbemin</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>; [|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>].
    <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_lt">bpow_lt</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>.
- <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsucc">Bsucc</a></span>; <span class="tactic">case</span> <span class="id">sx</span>.
  + <span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_spec">Rlt_bool_spec</a></span>; <span class="tactic">intro</span> <span class="id">Hover</span>.
    * <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_Bopp">B2R_Bopp</a></span>; <span class="tactic">simpl</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)).
      <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_Bopp">is_finite_Bopp</a></span>.
      <span class="tactic">set</span> (<span class="id">ox</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hmex</span>).
      <span class="tactic">assert</span> (<span class="id">Hpred</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bpred_pos_correct">Bpred_pos_correct</a></span> <span class="id">succ_nan</span> <span class="id">ox</span>).
      <span class="tactic">assert</span> (<span class="id">Hox</span> : (0 &lt; <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">ox</span>)%<span class="id">R</span>); [|<span class="id">specialize</span> (<span class="id">Hpred</span> <span class="id">Hox</span>); <span class="tactic">clear</span> <span class="id">Hox</span>].
      { <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_lt_0_compat">Rmult_lt_0_compat</a></span>; [<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_lt">IZR_lt</a></span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>]. }
      <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">Hpred</span>), (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id">Hpred</span>)).
      <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#succ">succ</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rle_bool_false">Rle_bool_false</a></span>; [<span class="tactic">split</span>; [|<span class="tactic">split</span>]|].
      { <span class="id">now</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>, <span class="id">ox</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_mult_distr_l">Ropp_mult_distr_l</a></span>, &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#opp_IZR">opp_IZR</a></span>. }
      { <span class="id">now</span> <span class="tactic">simpl</span>. }
      { <span class="tactic">simpl</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)); <span class="tactic">simpl</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> &amp;&amp; <span class="id">_</span>)%<span class="id">bool</span>.
        <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign_Bopp">Bsign_Bopp</a></span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id">Hpred</span>)); [<span class="id">now</span> <span class="tactic">simpl</span>|].
        <span class="id">now</span> <span class="tactic">destruct</span> <span class="id">Hpred</span> <span class="kwd">as</span> (<span class="id">_</span>, (<span class="id">H</span>, <span class="id">_</span>)); <span class="id">revert</span> <span class="id">H</span>; <span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bpred_pos">Bpred_pos</a></span> <span class="id">_</span> <span class="id">_</span>). }
      <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.neg">Z.neg</a></span> <span class="id">mx</span>) <span class="kwd">with</span> (- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">mx</span>)%<span class="id">Z</span>.
      <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#opp_IZR">opp_IZR</a></span>, &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_mult_distr_l">Ropp_mult_distr_l</a></span>, &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_0">Ropp_0</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_lt_contravar">Ropp_lt_contravar</a></span>.
      <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_lt_0_compat">Rmult_lt_0_compat</a></span>; [<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_lt">IZR_lt</a></span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>].
    * <span class="id">exfalso</span>; <span class="id">revert</span> <span class="id">Hover</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_le">Rlt_not_le</a></span>.
      <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Ulp.html#succ">succ</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> 0)).
      { <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#succ_le">succ_le</a></span>; [<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp_valid">FLT_exp_valid</a></span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#generic_format_B2R">generic_format_B2R</a></span>|
                        <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_0">generic_format_0</a></span>|].
        <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.neg">Z.neg</a></span> <span class="id">mx</span>) <span class="kwd">with</span> (- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">mx</span>)%<span class="id">Z</span>.
        <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#opp_IZR">opp_IZR</a></span>, &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_mult_distr_l">Ropp_mult_distr_l</a></span>, &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_0">Ropp_0</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_le_contravar">Ropp_le_contravar</a></span>.
        <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>; [<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_le">IZR_le</a></span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>]. }
      <span class="tactic">rewrite</span> <span class="id">Hsucc</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_lt">bpow_lt</a></span>.
      <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#emin">emin</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="id">lia</span>.
  + <span class="tactic">set</span> (<span class="id">x</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B754_finite">B754_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>).
    <span class="tactic">set</span> (<span class="id">plus_nan</span> := <span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">succ_nan</span>).
    <span class="tactic">assert</span> (<span class="id">Hulp</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bulp_correct">Bulp_correct</a></span> <span class="id">x</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id">_</span>)).
    <span class="tactic">assert</span> (<span class="id">Hplus</span> := <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bplus_correct">Bplus_correct</a></span> <span class="id">plus_nan</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#mode_NE">mode_NE</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bulp">Bulp</a></span> <span class="id">x</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id">_</span>)).
    <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id">Hulp</span>)) <span class="kwd">in</span> <span class="id">Hplus</span>; <span class="id">specialize</span> (<span class="id">Hplus</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id">_</span>)).
    <span class="tactic">assert</span> (<span class="id">Px</span> : (0 &lt;= <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>)%<span class="id">R</span>).
    { <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>; [<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_le">IZR_le</a></span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>]. }
    <span class="tactic">assert</span> (<span class="id">Hsucc</span>' : (<span class="id"><a href="compcert.flocq.Core.Ulp.html#succ">succ</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>)
                      = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span> + <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>))%<span class="id">R</span>).
    { <span class="id">now</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#succ">succ</a></span>; <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rle_bool_true">Rle_bool_true</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Px</span>). }
    <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">Hulp</span>), &lt;- <span class="id">Hsucc</span>' <span class="kwd">in</span> <span class="id">Hplus</span>.
    <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span> <span class="kwd">in</span> <span class="id">Hplus</span>;
      [|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#valid_rnd_N">valid_rnd_N</a></span>| <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#generic_format_succ">generic_format_succ</a></span>;
                           [<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp_valid">FLT_exp_valid</a></span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#generic_format_B2R">generic_format_B2R</a></span>]].
    <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> <span class="kwd">in</span> <span class="id">Hplus</span>; [|<span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Px</span>), <span class="id"><a href="compcert.flocq.Core.Ulp.html#succ_ge_id">succ_ge_id</a></span>].
    <span class="id">revert</span> <span class="id">Hplus</span>; <span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_spec">Rlt_bool_spec</a></span>; <span class="tactic">intros</span> <span class="id">Hover</span> <span class="id">Hplus</span>.
    * <span class="tactic">split</span>; [<span class="id">now</span> <span class="tactic">simpl</span>|<span class="tactic">split</span>; [<span class="id">now</span> <span class="tactic">simpl</span>|]].
      <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id">Hplus</span>)); <span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_spec">Rcompare_spec</a></span>.
      { <span class="tactic">intro</span> <span class="id">H</span>; <span class="id">exfalso</span>; <span class="id">revert</span> <span class="id">H</span>.
        <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_not_lt">Rle_not_lt</a></span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Px</span>), <span class="id"><a href="compcert.flocq.Core.Ulp.html#succ_ge_id">succ_ge_id</a></span>. }
      { <span class="tactic">intro</span> <span class="id">H</span>; <span class="id">exfalso</span>; <span class="id">revert</span> <span class="id">H</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_gt">Rlt_gt</a></span>.
        <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>)); [|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#succ_ge_id">succ_ge_id</a></span>].
        <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_lt_0_compat">Rmult_lt_0_compat</a></span>; [<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_lt">IZR_lt</a></span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>]. }
      <span class="id">now</span> <span class="tactic">simpl</span>.
    * <span class="id">now</span> <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">Hplus</span>).
<span class="kwd">Qed</span>.

<span class="kwd">Definition</span> <span class="id"><a name="Bpred">Bpred</a></span> <span class="id">pred_nan</span> <span class="id">x</span> :=
  <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#pred_nan">pred_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsucc">Bsucc</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#pred_nan">pred_nan</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#pred_nan">pred_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)).

<span class="kwd">Lemma</span> <span class="id"><a name="Bpred_correct">Bpred_correct</a></span> :
  <span class="kwd">forall</span> <span class="id">pred_nan</span> <span class="id">x</span>,
  <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;
  <span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> (- <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.emax">emax</a></span>) (<span class="id"><a href="compcert.flocq.Core.Ulp.html#pred">pred</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>)) <span class="kwd">then</span>
    <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bpred">Bpred</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#pred_nan">pred_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Core.Ulp.html#pred">pred</a></span> <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) /\
    <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bpred">Bpred</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#pred_nan">pred_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\
    (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bpred">Bpred</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#pred_nan">pred_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span> || <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_strict">is_finite_strict</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>))%<span class="id">bool</span>
  <span class="kwd">else</span>
    <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bpred">Bpred</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#pred_nan">pred_nan</a></span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#F754_infinity">F754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.
<span class="kwd">Proof</span>.
<span class="tactic">intros</span> <span class="id">pred_nan</span> <span class="id">x</span> <span class="id">Fx</span>.
<span class="tactic">assert</span> (<span class="id">Fox</span> : <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id">pred_nan</span> <span class="id">x</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).
{ <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_Bopp">is_finite_Bopp</a></span>. }
<span class="tactic">rewrite</span> &lt;-(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_involutive">Ropp_involutive</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">x</span>)), &lt;-(<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_Bopp">B2R_Bopp</a></span> <span class="id">pred_nan</span>).
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#pred_opp">pred_opp</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool_opp">Rlt_bool_opp</a></span>.
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsucc_correct">Bsucc_correct</a></span> <span class="id">pred_nan</span> <span class="id">_</span> <span class="id">Fox</span>).
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id">_</span> <span class="id">_</span>).
- <span class="tactic">intros</span> (<span class="id">HR</span>, (<span class="id">HF</span>, <span class="id">HS</span>)); <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bpred">Bpred</a></span>.
  <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#B2R_Bopp">B2R_Bopp</a></span>, <span class="id">HR</span>, <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_Bopp">is_finite_Bopp</a></span>.
  <span class="tactic">rewrite</span> &lt;-(<span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_involutive">Bool.negb_involutive</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id">x</span>)), &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_andb">Bool.negb_andb</a></span>.
  <span class="tactic">split</span>; [<span class="tactic">reflexivity</span>|<span class="tactic">split</span>; [<span class="tactic">exact</span> <span class="id">HF</span>|]].
  <span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_strict">is_finite_strict</a></span> <span class="id">x</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#is_finite_strict">is_finite_strict</a></span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id">pred_nan</span> <span class="id">x</span>));
    [|<span class="id">now</span> <span class="tactic">case</span> <span class="id">x</span>; <span class="tactic">try</span> <span class="id">easy</span>; <span class="tactic">intros</span> <span class="id">s</span> <span class="id">pl</span> <span class="id">Hpl</span>; <span class="tactic">simpl</span>;
        <span class="tactic">rewrite</span> <span class="id">is_finite_strict_build_nan</span>].
  <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign_Bopp">Bsign_Bopp</a></span>, &lt;-(<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsign_Bopp">Bsign_Bopp</a></span> <span class="id">pred_nan</span> <span class="id">x</span>), <span class="id">HS</span>.
  + <span class="id">now</span> <span class="tactic">simpl</span>.
  + <span class="id">now</span> <span class="id">revert</span> <span class="id">Fx</span>; <span class="tactic">case</span> <span class="id">x</span>.
  + <span class="id">now</span> <span class="id">revert</span> <span class="id">HF</span>; <span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsucc">Bsucc</a></span> <span class="id">_</span> <span class="id">_</span>).
- <span class="id">now</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bpred">Bpred</a></span>; <span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Bsucc">Bsucc</a></span> <span class="id">_</span> <span class="id">_</span>); <span class="tactic">intro</span> <span class="id">s</span>; <span class="tactic">case</span> <span class="id">s</span>.
<span class="kwd">Qed</span>.

<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.IEEE754.Binary.html#Binary">Binary</a></span>.
</span></div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
