
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module SmallstepLinking</title>
<meta name="description" content="Documentation of Coq module SmallstepLinking" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module SmallstepLinking</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Events.html">Events</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.LanguageInterface.html">LanguageInterface</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Smallstep.html">Smallstep</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Linking.html">Linking</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical.html">Classical</a></span>.<br/>
<br/>
<div class="doc">NB: we assume that all components are deterministic and that their
  domains are disjoint. </div>
<br/>
<span class="kwd">Ltac</span> <span class="id">subst_dep</span> :=<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id">lazymatch</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#existT">existT</a></span> ?<span class="id">P</span> ?<span class="id">x</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#existT">existT</a></span> ?<span class="id">P</span> ?<span class="id">x</span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2">inj_pair2</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">subst_dep</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="LINK">LINK</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">li</span>} (<span class="id">L</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#li">li</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#li">li</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="LINK.I">I</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<br/>
<h1> Definition </h1>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="LINK.WITH_SE">WITH_SE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> (<span class="id">se</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.symtbl">Genv.symtbl</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Variant</span> <span class="id"><a name="frame">frame</a></span> := <span class="id"><a name="st">st</a></span> (<span class="id">i</span>: <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.I">I</a></span>) (<span class="id">s</span>: <span class="id"><a href="compcert.common.Smallstep.html#state">Smallstep.state</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Notation</span> <span class="id"><a name="state">state</a></span> := (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#frame">frame</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="step">step</a></span>: <span class="id"><a href="compcert.common.SmallstepLinking.html#state">state</a></span> -&gt; <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> -&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#state">state</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="step_internal">step_internal</a></span> <span class="id">i</span> <span class="id">s</span> <span class="id">t</span> <span class="id">s</span>' <span class="id">k</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Step</span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.WITH_SE.se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#t">t</a></span> <span class="id">s</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#step">step</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k">k</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#t">t</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id">s</span>' :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="step_push">step_push</a></span> <span class="id">i</span> <span class="id">j</span> <span class="id">s</span> <span class="id">q</span> <span class="id">s</span>' <span class="id">k</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#at_external">Smallstep.at_external</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.WITH_SE.se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#q">q</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#valid_query">valid_query</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#j">j</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.WITH_SE.se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#initial_state">Smallstep.initial_state</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#j">j</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.WITH_SE.se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#q">q</a></span> <span class="id">s</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#step">step</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k">k</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#j">j</a></span> <span class="id">s</span>' :: <span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="step_pop">step_pop</a></span> <span class="id">i</span> <span class="id">j</span> <span class="id">s</span> <span class="id">sk</span> <span class="id">r</span> <span class="id">s</span>' <span class="id">k</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#final_state">Smallstep.final_state</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.WITH_SE.se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#r">r</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#after_external">Smallstep.after_external</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#j">j</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.WITH_SE.se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#sk">sk</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#r">r</a></span> <span class="id">s</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#step">step</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> :: <span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#j">j</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#sk">sk</a></span> :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k">k</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#j">j</a></span> <span class="id">s</span>' :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k">k</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="initial_state">initial_state</a></span> (<span class="id">q</span>: <span class="id"><a href="compcert.common.LanguageInterface.html#query">query</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.li">li</a></span>): <span class="id"><a href="compcert.common.SmallstepLinking.html#state">state</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="initial_state_intro">initial_state_intro</a></span> <span class="id">i</span> <span class="id">s</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#valid_query">valid_query</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.WITH_SE.se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#initial_state">Smallstep.initial_state</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.WITH_SE.se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#q">q</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#q">q</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="at_external">at_external</a></span>: <span class="id"><a href="compcert.common.SmallstepLinking.html#state">state</a></span> -&gt; <span class="id"><a href="compcert.common.LanguageInterface.html#query">query</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.li">li</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="at_external_intro">at_external_intro</a></span> <span class="id">i</span> <span class="id">s</span> <span class="id">q</span> <span class="id">k</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#at_external">Smallstep.at_external</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.WITH_SE.se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#q">q</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">j</span>, <span class="id"><a href="compcert.common.Smallstep.html#valid_query">valid_query</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#j">j</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.WITH_SE.se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#at_external">at_external</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k">k</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#q">q</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="after_external">after_external</a></span>: <span class="id"><a href="compcert.common.SmallstepLinking.html#state">state</a></span> -&gt; <span class="id"><a href="compcert.common.LanguageInterface.html#reply">reply</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.li">li</a></span> -&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#state">state</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="after_external_intro">after_external_intro</a></span> <span class="id">i</span> <span class="id">s</span> <span class="id">r</span> <span class="id">s</span>' <span class="id">k</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#after_external">Smallstep.after_external</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.WITH_SE.se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#r">r</a></span> <span class="id">s</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#after_external">after_external</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k">k</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#r">r</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id">s</span>' :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k">k</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="final_state">final_state</a></span>: <span class="id"><a href="compcert.common.SmallstepLinking.html#state">state</a></span> -&gt; <span class="id"><a href="compcert.common.LanguageInterface.html#reply">reply</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.li">li</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="final_state_intro">final_state_intro</a></span> <span class="id">i</span> <span class="id">s</span> <span class="id">r</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#final_state">Smallstep.final_state</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.WITH_SE.se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#r">r</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#final_state">final_state</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#r">r</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="valid_query">valid_query</a></span> <span class="id">q</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#valid_query">valid_query</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.WITH_SE.se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#q">q</a></span> || <span class="id"><a href="compcert.common.Smallstep.html#valid_query">valid_query</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.WITH_SE.se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#q">q</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.WITH_SE">WITH_SE</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> (<span class="id">sk</span>: <span class="id"><a href="compcert.common.AST.html#program">AST.program</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="semantics">semantics</a></span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.li">li</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.li">li</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#Build_semantics">activate</a></span> <span class="id">se</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#Build_lts">Smallstep.step</a></span> <span class="id">ge</span> := <span class="id"><a href="compcert.common.SmallstepLinking.html#step">step</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#se">se</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Smallstep.valid_query</span> := <span class="id"><a href="compcert.common.SmallstepLinking.html#valid_query">valid_query</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#se">se</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Smallstep.initial_state</span> := <span class="id"><a href="compcert.common.SmallstepLinking.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#se">se</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Smallstep.at_external</span> := <span class="id"><a href="compcert.common.SmallstepLinking.html#at_external">at_external</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#se">se</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Smallstep.after_external</span> := <span class="id"><a href="compcert.common.SmallstepLinking.html#after_external">after_external</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#se">se</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Smallstep.final_state</span> := <span class="id"><a href="compcert.common.SmallstepLinking.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#se">se</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Smallstep.globalenv</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">skel</span> := <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.sk">sk</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>
<br/>
<h1> Properties </h1>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="star_internal">star_internal</a></span> <span class="id">se</span> <span class="id">i</span> <span class="id">s</span> <span class="id">t</span> <span class="id">s</span>' <span class="id">k</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Star</span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#t">t</a></span> <span class="id">s</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#step">step</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#se">se</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k">k</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#t">t</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id">s</span>' :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k">k</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2248')">Proof.</div>
<div class="proofscript" id="proof2248">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 1; [<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span> | <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_step">star_step</a></span>]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="plus_internal">plus_internal</a></span> <span class="id">se</span> <span class="id">i</span> <span class="id">s</span> <span class="id">t</span> <span class="id">s</span>' <span class="id">k</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Plus</span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#t">t</a></span> <span class="id">s</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#step">step</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#se">se</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s">s</a></span> :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k">k</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#t">t</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id">s</span>' :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k">k</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2249')">Proof.</div>
<div class="proofscript" id="proof2249">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> 1; <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#step_internal">step_internal</a></span>, <span class="id"><a href="compcert.common.SmallstepLinking.html#star_internal">star_internal</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h1> Receptiveness and determinacy </h1>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="semantics_receptive">semantics_receptive</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="compcert.common.Smallstep.html#receptive">receptive</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#receptive">receptive</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#semantics">semantics</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2250')">Proof.</div>
<div class="proofscript" id="proof2250">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">HL</span> <span class="id">se</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Smallstep.html#receptive">receptive</a></span> <span class="kwd">in</span> <span class="id">HL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="id">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> <span class="id">s</span> <span class="id">t1</span> <span class="id">s1</span> <span class="id">t2</span> <span class="id">STEP</span> <span class="id">Ht</span>. <span class="tactic">destruct</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">edestruct</span> @<span class="id"><a href="compcert.common.Smallstep.html#sr_receptive">sr_receptive</a></span>; <span class="tactic">eauto</span>. <span class="id">eexists</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#step_internal">step_internal</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">inversion</span> <span class="id">Ht</span>; <span class="tactic">clear</span> <span class="id">Ht</span>; <span class="tactic">subst</span>. <span class="id">eexists</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#step_push">step_push</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">inversion</span> <span class="id">Ht</span>; <span class="tactic">clear</span> <span class="id">Ht</span>; <span class="tactic">subst</span>. <span class="id">eexists</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#step_pop">step_pop</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> <span class="id">s</span> <span class="id">t</span> <span class="id">s</span>' <span class="id">STEP</span>. <span class="tactic">destruct</span> <span class="id">STEP</span>; <span class="id">cbn</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sr_traces">sr_traces</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="LINK.valid_query_excl">valid_query_excl</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span> <span class="id">se</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#valid_query">Smallstep.valid_query</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#valid_query">Smallstep.valid_query</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#j">j</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#se">se</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> = <span class="id"><a href="compcert.common.SmallstepLinking.html#j">j</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="semantics_determinate">semantics_determinate</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="compcert.common.Smallstep.html#determinate">determinate</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#LINK.L">L</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#determinate">determinate</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#semantics">semantics</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2251')">Proof.</div>
<div class="proofscript" id="proof2251">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">HL</span> <span class="id">se</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Smallstep.html#determinate">determinate</a></span> <span class="kwd">in</span> <span class="id">HL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="id">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> 1; <span class="tactic">inversion</span> 1; <span class="id">subst_dep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">edestruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_determ">sd_determ</a></span> (<span class="id">HL</span> <span class="id">i</span> <span class="id">se</span>) <span class="id">s</span> <span class="id">t</span> <span class="id">s</span>' <span class="id">t2</span> <span class="id">s</span>'0); <span class="tactic">intuition</span> <span class="tactic">eauto</span>; <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eelim</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_at_external_nostep">sd_at_external_nostep</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eelim</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_final_nostep">sd_final_nostep</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eelim</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_at_external_nostep">sd_at_external_nostep</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_at_external_determ">sd_at_external_determ</a></span> (<span class="id">HL</span> <span class="id">i</span> <span class="id">se</span>) <span class="id">s</span> <span class="id">q</span> <span class="id">q0</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">j0</span> = <span class="id">j</span>) <span class="tactic">by</span> <span class="tactic">eauto</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_initial_determ">sd_initial_determ</a></span> (<span class="id">HL</span> <span class="id">j</span> <span class="id">se</span>) <span class="id">q</span> <span class="id">s</span>' <span class="id">s</span>'0); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intuition</span> <span class="tactic">auto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eelim</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_final_noext">sd_final_noext</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eelim</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_final_nostep">sd_final_nostep</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eelim</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_final_noext">sd_final_noext</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">edestruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_final_determ">sd_final_determ</a></span> (<span class="id">HL</span> <span class="id">i</span> <span class="id">se</span>) <span class="id">s</span> <span class="id">r</span> <span class="id">r0</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_after_external_determ">sd_after_external_determ</a></span> (<span class="id">HL</span> <span class="id">j</span> <span class="id">se</span>) <span class="id">sk0</span> <span class="id">r</span> <span class="id">s</span>' <span class="id">s</span>'0); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intuition</span> <span class="tactic">auto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> <span class="id">s</span> <span class="id">t</span> <span class="id">s</span>' <span class="id">STEP</span>. <span class="tactic">destruct</span> <span class="id">STEP</span>; <span class="id">cbn</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_traces">sd_traces</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> 1; <span class="tactic">inversion</span> 1; <span class="tactic">subst</span>. <span class="tactic">assert</span> (<span class="id">i0</span> = <span class="id">i</span>) <span class="tactic">by</span> <span class="tactic">eauto</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_initial_determ">sd_initial_determ</a></span> (<span class="id">HL</span> <span class="id">i</span> <span class="id">se</span>) <span class="id">q</span> <span class="id">s</span> <span class="id">s0</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> 1. <span class="tactic">inversion</span> 1; <span class="id">subst_dep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_at_external_nostep">sd_at_external_nostep</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">edestruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_at_external_determ">sd_at_external_determ</a></span> (<span class="id">HL</span> <span class="id">i</span> <span class="id">se</span>) <span class="id">s</span> <span class="id">q</span> <span class="id">q0</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H0</span> <span class="id">j</span>). <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_final_noext">sd_final_noext</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> 1. <span class="tactic">inversion</span> 1; <span class="id">subst_dep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_at_external_determ">sd_at_external_determ</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> 1. <span class="tactic">inversion</span> 1; <span class="id">subst_dep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_after_external_determ">sd_after_external_determ</a></span> (<span class="id">HL</span> <span class="id">i</span> <span class="id">se</span>) <span class="id">s</span> <span class="id">r</span> <span class="id">s</span>' <span class="id">s</span>'0); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> 1. <span class="tactic">inversion</span> 1; <span class="id">subst_dep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_final_nostep">sd_final_nostep</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_final_noext">sd_final_noext</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> 1. <span class="tactic">inversion</span> 1; <span class="id">subst_dep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_final_noext">sd_final_noext</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> 1. <span class="tactic">inversion</span> 1; <span class="id">subst_dep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_final_determ">sd_final_determ</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#LINK">LINK</a></span>.<br/>
<br/>
<h1> Compatibility with forward simulations </h1>
<br/>
<h2> Simulation relation </h2>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="FSIM">FSIM</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">li1</span> <span class="id">li2</span>} (<span class="id">cc</span>: <span class="id"><a href="compcert.common.LanguageInterface.html#callconv">callconv</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#li1">li1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#li2">li2</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Notation</span> <span class="id"><a name="I">I</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> (<span class="id">L1</span> : <span class="id"><a href="compcert.common.SmallstepLinking.html#I">I</a></span> -&gt; <span class="id"><a href="compcert.common.Smallstep.html#semantics">Smallstep.semantics</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.li1">li1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.li1">li1</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> (<span class="id">L2</span> : <span class="id"><a href="compcert.common.SmallstepLinking.html#I">I</a></span> -&gt; <span class="id"><a href="compcert.common.Smallstep.html#semantics">Smallstep.semantics</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.li2">li2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.li2">li2</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> (<span class="id">HL</span> : <span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="compcert.common.Smallstep.html#fsim_components">fsim_components</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.cc">cc</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L1">L1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span>) (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L2">L2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span>)).<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> (<span class="id">se1</span> <span class="id">se2</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.symtbl">Genv.symtbl</a></span>) (<span class="id">w</span> : <span class="id"><a href="compcert.common.LanguageInterface.html#ccworld">ccworld</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.cc">cc</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> (<span class="id">Hse</span>: <span class="id"><a href="compcert.common.LanguageInterface.html#match_senv">match_senv</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.w">w</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se2">se2</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> (<span class="id">Hse1</span>: <span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.valid_for">Genv.valid_for</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#skel">skel</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L1">L1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span>)) <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Notation</span> <span class="id"><a name="index">index</a></span> := {<span class="id">i</span> &amp; <span class="id"><a href="compcert.common.Smallstep.html#fsim_index">fsim_index</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.HL">HL</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span>)}.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="match_topframes">match_topframes</a></span> <span class="id">wk</span>: <span class="id"><a href="compcert.common.SmallstepLinking.html#index">index</a></span> -&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#frame">frame</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L1">L1</a></span> -&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#frame">frame</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L2">L2</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="match_topframes_intro">match_topframes_intro</a></span> <span class="id">i</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">idx</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.LanguageInterface.html#match_senv">match_senv</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#wk">wk</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se2">se2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.valid_for">Genv.valid_for</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#skel">skel</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L1">L1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span>)) <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_states">fsim_match_states</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.HL">HL</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se2">se2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#wk">wk</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#idx">idx</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s1">s1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s2">s2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#match_topframes">match_topframes</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#wk">wk</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#existT">existT</a></span> <span class="id">_</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#idx">idx</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L1">L1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s1">s1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L2">L2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s2">s2</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="match_contframes">match_contframes</a></span> <span class="id">wk</span> <span class="id">wk</span>': <span class="id"><a href="compcert.common.SmallstepLinking.html#frame">frame</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L1">L1</a></span> -&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#frame">frame</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L2">L2</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="match_contframes_intro">match_contframes_intro</a></span> <span class="id">i</span> <span class="id">s1</span> <span class="id">s2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.LanguageInterface.html#match_senv">match_senv</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.cc">cc</a></span> <span class="id">wk</span>' <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se2">se2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">s1</span>', <span class="id"><a href="compcert.common.LanguageInterface.html#match_reply">match_reply</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#wk">wk</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#r1">r1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#r2">r2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#after_external">Smallstep.after_external</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L1">L1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#s1">s1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#r1">r1</a></span> <span class="id">s1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">idx</span> <span class="id">s2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#after_external">Smallstep.after_external</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L2">L2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se2">se2</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#s2">s2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#r2">r2</a></span> <span class="id">s2</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_states">fsim_match_states</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.HL">HL</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se2">se2</a></span> <span class="id">wk</span>' <span class="id"><a href="compcert.common.SmallstepLinking.html#idx">idx</a></span> <span class="id">s1</span>' <span class="id">s2</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#match_contframes">match_contframes</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#wk">wk</a></span> <span class="id">wk</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L1">L1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s1">s1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L2">L2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s2">s2</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="match_states">match_states</a></span>: <span class="id"><a href="compcert.common.SmallstepLinking.html#index">index</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#frame">frame</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L1">L1</a></span>) -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#frame">frame</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L2">L2</a></span>) -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="match_states_cons">match_states_cons</a></span> <span class="id">wk</span> <span class="id">idx</span> <span class="id">f1</span> <span class="id">f2</span> <span class="id">k1</span> <span class="id">k2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#match_topframes">match_topframes</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#wk">wk</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#idx">idx</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#f1">f1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#f2">f2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#wk">wk</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#k1">k1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#k2">k2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#match_states">match_states</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#idx">idx</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#f1">f1</a></span> :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k1">k1</a></span>) (<span class="id"><a href="compcert.common.SmallstepLinking.html#f2">f2</a></span> :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k2">k2</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="match_cont">match_cont</a></span>: <span class="id"><a href="compcert.common.LanguageInterface.html#ccworld">ccworld</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.cc">cc</a></span> -&gt; <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="match_cont_cons">match_cont_cons</a></span> <span class="id">wk</span> <span class="id">wk</span>' <span class="id">f1</span> <span class="id">f2</span> <span class="id">k1</span> <span class="id">k2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#match_contframes">match_contframes</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#wk">wk</a></span> <span class="id">wk</span>' <span class="id"><a href="compcert.common.SmallstepLinking.html#f1">f1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#f2">f2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#match_cont">match_cont</a></span> <span class="id">wk</span>' <span class="id"><a href="compcert.common.SmallstepLinking.html#k1">k1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#k2">k2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#wk">wk</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#f1">f1</a></span> :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k1">k1</a></span>) (<span class="id"><a href="compcert.common.SmallstepLinking.html#f2">f2</a></span> :: <span class="id"><a href="compcert.common.SmallstepLinking.html#k2">k2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="match_cont_nil">match_cont_nil</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.w">w</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="order">order</a></span>: <span class="id"><a href="compcert.common.SmallstepLinking.html#index">index</a></span> -&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#index">index</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="order_intro">order_intro</a></span> <span class="id">i</span> <span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.common.Smallstep.html#fsim_order">fsim_order</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.HL">HL</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span>) <span class="id"><a href="compcert.common.SmallstepLinking.html#x">x</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#order">order</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#existT">existT</a></span> <span class="id">_</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#x">x</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#existT">existT</a></span> <span class="id">_</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#y">y</a></span>).<br/>
<br/>
<h2> Simulation properties </h2>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="step_simulation">step_simulation</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">idx</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">t</span> <span class="id">s1</span>', <span class="id"><a href="compcert.common.SmallstepLinking.html#match_states">match_states</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#idx">idx</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s1">s1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s2">s2</a></span> -&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#step">step</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L1">L1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s1">s1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#t">t</a></span> <span class="id">s1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">idx</span>' <span class="id">s2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#step">step</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L2">L2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se2">se2</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s2">s2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#t">t</a></span> <span class="id">s2</span>' \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#step">step</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L2">L2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se2">se2</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s2">s2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#t">t</a></span> <span class="id">s2</span>' /\ <span class="id"><a href="compcert.common.SmallstepLinking.html#order">order</a></span> <span class="id">idx</span>' <span class="id"><a href="compcert.common.SmallstepLinking.html#idx">idx</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#match_states">match_states</a></span> <span class="id">idx</span>' <span class="id">s1</span>' <span class="id">s2</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2252')">Proof.</div>
<div class="proofscript" id="proof2252">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">idx</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">t</span> <span class="id">s1</span>' <span class="id">Hs</span> <span class="id">Hs1</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hs1</span>'; <span class="id">inv</span> <span class="id">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;internal&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>; <span class="id">subst_dep</span>. <span class="tactic">clear</span> <span class="id">idx0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> @<span class="id"><a href="compcert.common.Smallstep.html#fsim_simulation">fsim_simulation</a></span> <span class="kwd">as</span> (<span class="id">idx</span>' &amp; <span class="id">s2</span>' &amp; <span class="id">Hs2</span>' &amp; <span class="id">Hs</span>'); <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_lts">fsim_lts</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#existT">existT</a></span> <span class="id">_</span> <span class="id">i</span> <span class="id">idx</span>'), <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">destruct</span> <span class="id">Hs2</span>'; [<span class="id">left</span> | <span class="id">right</span>]; <span class="tactic">intuition</span> <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#star_internal">star_internal</a></span>, <span class="id"><a href="compcert.common.SmallstepLinking.html#plus_internal">plus_internal</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;cross-component&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H5</span>; <span class="id">subst_dep</span>. <span class="tactic">clear</span> <span class="id">idx0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> @<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_external">fsim_match_external</a></span> <span class="kwd">as</span> (<span class="id">wx</span> &amp; <span class="id">qx2</span> &amp; <span class="id">Hqx2</span> &amp; <span class="id">Hqx</span> &amp; <span class="id">Hsex</span> &amp; <span class="id">Hrx</span>); <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_lts">fsim_lts</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_lts">fsim_lts</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.HL">HL</a></span> <span class="id">j</span>) <span class="id">_</span> <span class="id">_</span> <span class="id">Hsex</span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.Hse1">Hse1</a></span> <span class="id">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> @<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_initial_states">fsim_match_initial_states</a></span> <span class="kwd">as</span> (<span class="id">idx</span>' &amp; <span class="id">s2</span>' &amp; <span class="id">Hs2</span>' &amp; <span class="id">Hs</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#existT">existT</a></span> <span class="id">_</span> <span class="id">j</span> <span class="id">idx</span>'), <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">left</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#step_push">step_push</a></span>; <span class="tactic">eauto</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_match_valid_query">fsim_match_valid_query</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> (<span class="id">econstructor</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;cross-component&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">subst_dep</span>. <span class="tactic">clear</span> <span class="id">idx0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_lts">fsim_lts</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.HL">HL</a></span> <span class="id">i</span>) <span class="id">_</span> <span class="id">_</span> <span class="id">H3</span> <span class="id">H7</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> @<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_final_states">fsim_match_final_states</a></span> <span class="kwd">as</span> (<span class="id">r2</span> &amp; <span class="id">Hr2</span> &amp; <span class="id">Hr</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H8</span>; <span class="id">subst_dep</span>. <span class="id">edestruct</span> <span class="id">H10</span> <span class="kwd">as</span> (<span class="id">idx</span>' &amp; <span class="id">s2</span>' &amp; <span class="id">Hs2</span>'&amp; <span class="id">Hs</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#existT">existT</a></span> <span class="id">_</span> <span class="id">j</span> <span class="id">idx</span>'), <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">left</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#step_pop">step_pop</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> (<span class="id">econstructor</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="initial_states_simulation">initial_states_simulation</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">q1</span> <span class="id">q2</span> <span class="id">s1</span>, <span class="id"><a href="compcert.common.LanguageInterface.html#match_query">match_query</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.w">w</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#q1">q1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#q2">q2</a></span> -&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L1">L1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#q1">q1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s1">s1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">idx</span> <span class="id">s2</span>, <span class="id"><a href="compcert.common.SmallstepLinking.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L2">L2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se2">se2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#q2">q2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s2">s2</a></span> /\ <span class="id"><a href="compcert.common.SmallstepLinking.html#match_states">match_states</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#idx">idx</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s1">s1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s2">s2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2253')">Proof.</div>
<div class="proofscript" id="proof2253">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">q1</span> <span class="id">q2</span> <span class="id">_</span> <span class="id">Hq</span> [<span class="id">i</span> <span class="id">s1</span> <span class="id">Hq1</span> <span class="id">Hs1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_lts">fsim_lts</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.HL">HL</a></span> <span class="id">i</span>) <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.Hse">Hse</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.Hse1">Hse1</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> @<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_initial_states">fsim_match_initial_states</a></span> <span class="kwd">as</span> (<span class="id">idx</span> &amp; <span class="id">s2</span> &amp; <span class="id">Hs2</span> &amp; <span class="id">Hs</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#existT">existT</a></span> <span class="id">_</span> <span class="id">i</span> <span class="id">idx</span>), (<span class="id"><a href="compcert.common.SmallstepLinking.html#st">st</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L2">L2</a></span> <span class="id">i</span> <span class="id">s2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">erewrite</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_match_valid_query">fsim_match_valid_query</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="final_states_simulation">final_states_simulation</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">idx</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">r1</span>, <span class="id"><a href="compcert.common.SmallstepLinking.html#match_states">match_states</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#idx">idx</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s1">s1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s2">s2</a></span> -&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L1">L1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s1">s1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#r1">r1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">r2</span>, <span class="id"><a href="compcert.common.SmallstepLinking.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L2">L2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se2">se2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s2">s2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#r2">r2</a></span> /\ <span class="id"><a href="compcert.common.LanguageInterface.html#match_reply">match_reply</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.w">w</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#r1">r1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#r2">r2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2254')">Proof.</div>
<div class="proofscript" id="proof2254">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">idx</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">r1</span> <span class="id">Hs</span> <span class="id">Hr1</span>. <span class="tactic">destruct</span> <span class="id">Hr1</span> <span class="kwd">as</span> [<span class="id">i</span> <span class="id">s1</span> <span class="id">r1</span> <span class="id">Hr1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hs</span>. <span class="id">inv</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="id">subst_dep</span>. <span class="tactic">clear</span> <span class="id">idx0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_lts">fsim_lts</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.HL">HL</a></span> <span class="id">i</span>) <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span> <span class="id">H4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> @<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_final_states">fsim_match_final_states</a></span> <span class="kwd">as</span> (<span class="id">r2</span> &amp; <span class="id">Hr2</span> &amp; <span class="id">Hr</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">r2</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="external_simulation">external_simulation</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">idx</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">qx1</span>, <span class="id"><a href="compcert.common.SmallstepLinking.html#match_states">match_states</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#idx">idx</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s1">s1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s2">s2</a></span> -&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#at_external">at_external</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L1">L1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s1">s1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#qx1">qx1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">wx</span> <span class="id">qx2</span>, <span class="id"><a href="compcert.common.SmallstepLinking.html#at_external">at_external</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L2">L2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se2">se2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s2">s2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#qx2">qx2</a></span> /\ <span class="id"><a href="compcert.common.LanguageInterface.html#match_query">match_query</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#wx">wx</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#qx1">qx1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#qx2">qx2</a></span> /\ <span class="id"><a href="compcert.common.LanguageInterface.html#match_senv">match_senv</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#wx">wx</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se2">se2</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rx1</span> <span class="id">rx2</span> <span class="id">s1</span>', <span class="id"><a href="compcert.common.LanguageInterface.html#match_reply">match_reply</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#wx">wx</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#rx1">rx1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#rx2">rx2</a></span> -&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#after_external">after_external</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L1">L1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s1">s1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#rx1">rx1</a></span> <span class="id">s1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">idx</span>' <span class="id">s2</span>', <span class="id"><a href="compcert.common.SmallstepLinking.html#after_external">after_external</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L2">L2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se2">se2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#s2">s2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#rx2">rx2</a></span> <span class="id">s2</span>' /\ <span class="id"><a href="compcert.common.SmallstepLinking.html#match_states">match_states</a></span> <span class="id">idx</span>' <span class="id">s1</span>' <span class="id">s2</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2255')">Proof.</div>
<div class="proofscript" id="proof2255">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">HL</span> <span class="id">Hse1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">idx</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">q1</span> <span class="id">Hs</span> <span class="id">Hq1</span>. <span class="tactic">destruct</span> <span class="id">Hq1</span> <span class="kwd">as</span> [<span class="id">i</span> <span class="id">s1</span> <span class="id">qx1</span> <span class="id">k1</span> <span class="id">Hqx1</span> <span class="id">Hvld</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hs</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="id">subst_dep</span>. <span class="tactic">clear</span> <span class="id">idx0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_lts">fsim_lts</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.HL">HL</a></span> <span class="id">i</span>) <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span> <span class="id">H5</span>) <span class="kwd">as</span> <span class="id">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> @<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_external">fsim_match_external</a></span> <span class="kwd">as</span> (<span class="id">wx</span> &amp; <span class="id">qx2</span> &amp; <span class="id">Hqx2</span> &amp; <span class="id">Hqx</span> &amp; <span class="id">Hsex</span> &amp; <span class="id">H</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">wx</span>, <span class="id">qx2</span>. <span class="tactic">intuition</span> <span class="id">idtac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">constructor</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">j</span>. <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_lts">fsim_lts</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.HL">HL</a></span> <span class="id">j</span>) <span class="id">_</span> <span class="id">_</span> <span class="id">Hsex</span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.Hse1">Hse1</a></span> <span class="id">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_match_valid_query">fsim_match_valid_query</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H2</span>; <span class="id">subst_dep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">idx</span>' &amp; <span class="id">s2</span>' &amp; <span class="id">Hs2</span>' &amp; <span class="id">Hs</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#existT">existT</a></span> <span class="id">_</span> <span class="id">i</span> <span class="id">idx</span>'), <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">repeat</span> (<span class="id">econstructor</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="semantics_simulation">semantics_simulation</a></span> <span class="id">sk1</span> <span class="id">sk2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#fsim_properties">fsim_properties</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se2">se2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.w">w</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.SmallstepLinking.html#semantics">semantics</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L1">L1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#sk1">sk1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se1">se1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.SmallstepLinking.html#semantics">semantics</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.L2">L2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#sk2">sk2</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.se2">se2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#index">index</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#order">order</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#match_states">match_states</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2256')">Proof.</div>
<div class="proofscript" id="proof2256">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#valid_query">valid_query</a></span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_lts">fsim_lts</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.HL">HL</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_lts">fsim_lts</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM.HL">HL</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#initial_states_simulation">initial_states_simulation</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#final_states_simulation">final_states_simulation</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#external_simulation">external_simulation</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#step_simulation">step_simulation</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#FSIM">FSIM</a></span>.<br/>
<br/>
<h1> Linking operator </h1>
<br/>
<span class="kwd">Local</span> <span class="kwd">Unset</span> <span class="kwd">Program</span> <span class="id">Cases</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="compose">compose</a></span> {<span class="id">li</span>} (<span class="id">La</span> <span class="id">Lb</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">Smallstep.semantics</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#li">li</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#li">li</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">L</span> <span class="id">i</span> := <span class="kwd">match</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#La">La</a></span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="compcert.common.SmallstepLinking.html#Lb">Lb</a></span> <span class="kwd">end</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#semantics">semantics</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#L">L</a></span>) (<span class="id"><a href="compcert.common.Linking.html#link">link</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#skel">skel</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#La">La</a></span>) (<span class="id"><a href="compcert.common.Smallstep.html#skel">skel</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#Lb">Lb</a></span>)).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compose_simulation">compose_simulation</a></span> {<span class="id">li1</span> <span class="id">li2</span>} (<span class="id">cc</span>: <span class="id"><a href="compcert.common.LanguageInterface.html#callconv">callconv</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#li1">li1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#li2">li2</a></span>) <span class="id">L1a</span> <span class="id">L1b</span> <span class="id">L1</span> <span class="id">L2a</span> <span class="id">L2b</span> <span class="id">L2</span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#L1a">L1a</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#L2a">L2a</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#L1b">L1b</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#L2b">L2b</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#compose">compose</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#L1a">L1a</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#L1b">L1b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#L1">L1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.SmallstepLinking.html#compose">compose</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#L2a">L2a</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#L2b">L2b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#L2">L2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#cc">cc</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#L1">L1</a></span> <span class="id"><a href="compcert.common.SmallstepLinking.html#L2">L2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2257')">Proof.</div>
<div class="proofscript" id="proof2257">
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">Ha</span>] [<span class="id">Hb</span>] <span class="id">H1</span> <span class="id">H2</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#compose">compose</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Linking.html#link">link</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#skel">skel</a></span> <span class="id">L1a</span>) (<span class="id"><a href="compcert.common.Smallstep.html#skel">skel</a></span> <span class="id">L1b</span>)) <span class="kwd">as</span> [<span class="id">sk1</span>|] <span class="id">eqn</span>:<span class="id">Hsk1</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Linking.html#link">link</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#skel">skel</a></span> <span class="id">L2a</span>) (<span class="id"><a href="compcert.common.Smallstep.html#skel">skel</a></span> <span class="id">L2b</span>)) <span class="kwd">as</span> [<span class="id">sk2</span>|] <span class="id">eqn</span>:<span class="id">Hsk2</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">L1</span> := <span class="kwd">fun</span> <span class="id">i</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="kwd">then</span> <span class="id">L1a</span> <span class="kwd">else</span> <span class="id">L1b</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">L2</span> := <span class="kwd">fun</span> <span class="id">i</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span> <span class="kwd">then</span> <span class="id">L2a</span> <span class="kwd">else</span> <span class="id">L2b</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HL</span>: <span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="compcert.common.Smallstep.html#fsim_components">fsim_components</a></span> <span class="id">cc</span> <span class="id">cc</span> (<span class="id">L1</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span>) (<span class="id">L2</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#i">i</a></span>)) <span class="tactic">by</span> (<span class="tactic">intros</span> [|]; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#Forward_simulation">Forward_simulation</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.common.SmallstepLinking.html#order">order</a></span> <span class="id">cc</span> <span class="id">L1</span> <span class="id">L2</span> <span class="id">HL</span>) (<span class="id"><a href="compcert.common.SmallstepLinking.html#match_states">match_states</a></span> <span class="id">cc</span> <span class="id">L1</span> <span class="id">L2</span> <span class="id">HL</span>).<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">Ha</span>, <span class="id">Hb</span>. <span class="id">cbn</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">intros</span> <span class="id">se1</span> <span class="id">se2</span> <span class="id">w</span> <span class="id">Hse</span> <span class="id">Hse1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SmallstepLinking.html#semantics_simulation">semantics_simulation</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.common.Linking.html#link_linkorder">link_linkorder</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hsk1</span>) <span class="kwd">as</span> [<span class="id">Hsk1a</span> <span class="id">Hsk1b</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [|]; <span class="id">cbn</span>; <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.valid_for_linkorder">Genv.valid_for_linkorder</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">clear</span> - <span class="id">HL</span>. <span class="tactic">intros</span> [<span class="id">i</span> <span class="id">x</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_order_wf">fsim_order_wf</a></span> (<span class="id">HL</span> <span class="id">i</span>) <span class="id">x</span>) <span class="kwd">as</span> [<span class="id">x</span> <span class="id">Hx</span> <span class="id">IHx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">intros</span> <span class="id">z</span> <span class="id">Hxz</span>. <span class="id">inv</span> <span class="id">Hxz</span>; <span class="id">subst_dep</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
