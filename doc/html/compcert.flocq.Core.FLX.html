
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module FLX</title>
<meta name="description" content="Documentation of Coq module FLX" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module FLX</h1>
<div class="coq">
<br/>
<h1> Floating-point format without underflow </h1>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Core.Raux.html">Raux</a></span> <span class="id"><a href="compcert.flocq.Core.Defs.html">Defs</a></span> <span class="id"><a href="compcert.flocq.Core.Round_pred.html">Round_pred</a></span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html">Generic_fmt</a></span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html">Float_prop</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Core.FIX.html">FIX</a></span> <span class="id"><a href="compcert.flocq.Core.Ulp.html">Ulp</a></span> <span class="id"><a href="compcert.flocq.Core.Round_NE.html">Round_NE</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.micromega.Psatz.html">Psatz</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="RND_FLX">RND_FLX</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="RND_FLX.beta">beta</a></span> : <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix">radix</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="bpow">bpow</a></span> <span class="id">e</span> := (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id">e</span>).<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="RND_FLX.prec">prec</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<br/>
<span class="kwd">Class</span> <span class="id"><a name="Prec_gt_0">Prec_gt_0</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="prec_gt_0">prec_gt_0</a></span> : (0 &lt; <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span>)%<span class="id">Z</span>.<br/>
<br/>
<span class="kwd">Context</span> { <span class="id">prec_gt_0_</span> : <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> }.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="FLX_format">FLX_format</a></span> (<span class="id">x</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="FLX_spec">FLX_spec</a></span> (<span class="id">f</span> : <span class="id"><a href="compcert.flocq.Core.Defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#f">f</a></span> -&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#f">f</a></span>) &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span>)%<span class="id">Z</span> -&gt; <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_format">FLX_format</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="FLX_exp">FLX_exp</a></span> (<span class="id">e</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) := (<span class="id"><a href="compcert.flocq.Core.FLX.html#e">e</a></span> - <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span>)%<span class="id">Z</span>.<br/>
<br/>
<div class="doc">Properties of the FLX format </div>
<br/>
<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="FLX_exp_valid">FLX_exp_valid</a></span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5712')">Proof.</div>
<div class="proofscript" id="proof5712">
<span class="tactic">intros</span> <span class="id">k</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>.<br/>
<span class="tactic">generalize</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#prec_gt_0">prec_gt_0</a></span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span> ; <span class="tactic">intros</span> ; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="FIX_format_FLX">FIX_format_FLX</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#e">e</a></span> - 1) &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#e">e</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_format">FLX_format</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.FIX.html#FIX_format">FIX_format</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#e">e</a></span> - <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5713')">Proof.</div>
<div class="proofscript" id="proof5713">
<span class="tactic">clear</span> <span class="id">prec_gt_0_</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">e</span> <span class="id">Hx</span> [[<span class="id">xm</span> <span class="id">xe</span>] <span class="id">H1</span> <span class="id">H2</span>].<br/>
<span class="tactic">rewrite</span> <span class="id">H1</span>, (<span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_prec_normalize">F2R_prec_normalize</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id">xm</span> <span class="id">xe</span> <span class="id">e</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span>).<br/>
<span class="id">now</span> <span class="id">eexists</span>.<br/>
<span class="tactic">exact</span> <span class="id">H2</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="FLX_format_generic">FLX_format_generic</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_format">FLX_format</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5714')">Proof.</div>
<div class="proofscript" id="proof5714">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">H</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
<span class="id">eexists</span> ; <span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#lt_IZR">lt_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#abs_IZR">abs_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa_generic">scaled_mantissa_generic</a></span> <span class="kwd">with</span> (1 := <span class="id">H</span>).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa_abs">scaled_mantissa_abs</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_lt_reg_r">Rmult_lt_reg_r</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id">x</span>))).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa_mult_bpow">scaled_mantissa_mult_bpow</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span>, &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
2: <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_le_weak">Zlt_le_weak</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>.<br/>
<span class="id">ring_simplify</span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span> + (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id">x</span>) - <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span>))%<span class="id">Z</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_abs">mag_abs</a></span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_dec">Req_dec</a></span> <span class="id">x</span> 0) <span class="kwd">as</span> [<span class="id">Hx</span>|<span class="id">Hx</span>].<br/>
<span class="tactic">rewrite</span> <span class="id">Hx</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id">x</span>) <span class="kwd">as</span> (<span class="id">ex</span>, <span class="id">Ex</span>).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">Ex</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="generic_format_FLX">generic_format_FLX</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_format">FLX_format</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5715')">Proof.</div>
<div class="proofscript" id="proof5715">
<span class="tactic">clear</span> <span class="id">prec_gt_0_</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> [[<span class="id">mx</span> <span class="id">ex</span>] <span class="id">H1</span> <span class="id">H2</span>].<br/>
<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H1</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_F2R">generic_format_F2R</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">Zmx</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#mag_F2R">mag_F2R</a></span> <span class="kwd">with</span> (1 := <span class="id">Zmx</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zplus_le_reg_r">Zplus_le_reg_r</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span> - <span class="id">ex</span>)%<span class="id">Z</span>.<br/>
<span class="id">ring_simplify</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_le_Zpower">mag_le_Zpower</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="FLX_format_satisfies_any">FLX_format_satisfies_any</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Round_pred.html#satisfies_any">satisfies_any</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_format">FLX_format</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5716')">Proof.</div>
<div class="proofscript" id="proof5716">
<span class="tactic">refine</span> (<span class="id"><a href="compcert.flocq.Core.Round_pred.html#satisfies_any_eq">satisfies_any_eq</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_satisfies_any">generic_format_satisfies_any</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>)).<br/>
<span class="tactic">intros</span> <span class="id">x</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_format_generic">FLX_format_generic</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#generic_format_FLX">generic_format_FLX</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="FLX_format_FIX">FLX_format_FIX</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#e">e</a></span> - 1) &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#e">e</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.FIX.html#FIX_format">FIX_format</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#e">e</a></span> - <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_format">FLX_format</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5717')">Proof with</div>
<div class="proofscript" id="proof5717">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">e</span> <span class="id">Hx</span> <span class="id">Fx</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_format_generic">FLX_format_generic</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FIX.html#generic_format_FIX">generic_format_FIX</a></span> <span class="kwd">in</span> <span class="id">Fx</span>.<br/>
<span class="id">revert</span> <span class="id">Fx</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_inclusion">generic_inclusion</a></span> <span class="kwd">with</span> (<span class="id">e</span> := <span class="id">e</span>)...<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">unbounded floating-point format with normal mantissas </div>
<span class="kwd">Inductive</span> <span class="id"><a name="FLXN_format">FLXN_format</a></span> (<span class="id">x</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="FLXN_spec">FLXN_spec</a></span> (<span class="id">f</span> : <span class="id"><a href="compcert.flocq.Core.Defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> &lt;&gt; 0%<span class="id">R</span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span> - 1) &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#f">f</a></span>) &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span>)%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.FLX.html#FLXN_format">FLXN_format</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="generic_format_FLXN">generic_format_FLXN</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.flocq.Core.FLX.html#FLXN_format">FLXN_format</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5718')">Proof.</div>
<div class="proofscript" id="proof5718">
<span class="tactic">intros</span> <span class="id">x</span> [[<span class="id">xm</span> <span class="id">ex</span>] <span class="id">H1</span> <span class="id">H2</span>].<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_dec">Req_dec</a></span> <span class="id">x</span> 0) <span class="kwd">as</span> [<span class="id">Zx</span>|<span class="id">Zx</span>].<br/>
<span class="tactic">rewrite</span> <span class="id">Zx</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_0">generic_format_0</a></span>.<br/>
<span class="id">specialize</span> (<span class="id">H2</span> <span class="id">Zx</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#generic_format_FLX">generic_format_FLX</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H1</span>.<br/>
<span class="id">eexists</span> ; <span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id">H2</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="FLXN_format_generic">FLXN_format_generic</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Core.FLX.html#FLXN_format">FLXN_format</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5719')">Proof.</div>
<div class="proofscript" id="proof5719">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">Hx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hx</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="id">eexists</span>. <span class="id">easy</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hx</span>.<br/>
<span class="tactic">intros</span> <span class="id">Zx</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#le_IZR">le_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span>.<br/>
2: <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_0_le_0_pred">Zlt_0_le_0_pred</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#abs_IZR">abs_IZR</a></span>, &lt;- <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa_generic">scaled_mantissa_generic</a></span> <span class="kwd">with</span> (1 := <span class="id">Hx</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_reg_r">Rmult_le_reg_r</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa_abs">scaled_mantissa_abs</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp_abs">cexp_abs</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa_mult_bpow">scaled_mantissa_mult_bpow</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_abs">mag_abs</a></span>.<br/>
<span class="id">ring_simplify</span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span> - 1 + (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id">x</span> - <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span>))%<span class="id">Z</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id">x</span>) <span class="kwd">as</span> (<span class="id">ex</span>,<span class="id">Ex</span>).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">Ex</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#lt_IZR">lt_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span>.<br/>
2: <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_le_weak">Zlt_le_weak</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#abs_IZR">abs_IZR</a></span>, &lt;- <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa_generic">scaled_mantissa_generic</a></span> <span class="kwd">with</span> (1 := <span class="id">Hx</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_lt_reg_r">Rmult_lt_reg_r</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa_abs">scaled_mantissa_abs</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp_abs">cexp_abs</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa_mult_bpow">scaled_mantissa_mult_bpow</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_abs">mag_abs</a></span>.<br/>
<span class="id">ring_simplify</span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span> + (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id">x</span> - <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span>))%<span class="id">Z</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id">x</span>) <span class="kwd">as</span> (<span class="id">ex</span>,<span class="id">Ex</span>).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">Ex</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="FLXN_format_satisfies_any">FLXN_format_satisfies_any</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Round_pred.html#satisfies_any">satisfies_any</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLXN_format">FLXN_format</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5720')">Proof.</div>
<div class="proofscript" id="proof5720">
<span class="tactic">refine</span> (<span class="id"><a href="compcert.flocq.Core.Round_pred.html#satisfies_any_eq">satisfies_any_eq</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_satisfies_any">generic_format_satisfies_any</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>)).<br/>
<span class="tactic">split</span> ; <span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLXN_format_generic">FLXN_format_generic</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#generic_format_FLXN">generic_format_FLXN</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="negligible_exp_FLX">negligible_exp_FLX</a></span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Ulp.html#negligible_exp">negligible_exp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5721')">Proof.</div>
<div class="proofscript" id="proof5721">
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Ulp.html#negligible_exp_spec">negligible_exp_spec</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>).<br/>
<span class="tactic">intros</span> <span class="id">_</span>; <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">intros</span> <span class="id">n</span> <span class="id">H2</span>; <span class="id">contradict</span> <span class="id">H2</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="generic_format_FLX_1">generic_format_FLX_1</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> 1.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5722')">Proof.</div>
<div class="proofscript" id="proof5722">
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_1_l">Rmult_1_l</a></span>, (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag_unique">mag_unique</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> 1 1).<br/>
{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span>; [|<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="tactic">omega</span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Ztrunc_IZR">Ztrunc_IZR</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span>; [|<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="kwd">in</span> <span class="id">prec_gt_0_</span>; <span class="tactic">omega</span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">replace</span> (<span class="id">_</span> + <span class="id">_</span>)%<span class="id">Z</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> <span class="tactic">by</span> <span class="tactic">ring</span>. }<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R1">Rabs_R1</a></span>; <span class="tactic">simpl</span>; <span class="tactic">split</span>; [<span class="id">now</span> <span class="id">right</span>|].<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmult_1_r">Zmult_1_r</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_lt">IZR_lt</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id">H</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_bool_imp_le">Zle_bool_imp_le</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix_prop">radix_prop</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span>)); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="ulp_FLX_0">ulp_FLX_0</a></span>: (<span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> 0 = 0)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5723')">Proof.</div>
<div class="proofscript" id="proof5723">
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool_true">Req_bool_true</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#negligible_exp_FLX">negligible_exp_FLX</a></span>; <span class="id">easy</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ulp_FLX_1">ulp_FLX_1</a></span> : <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> 1 = <span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> (-<span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span> + 1).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5724')">Proof.</div>
<div class="proofscript" id="proof5724">
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool_false">Req_bool_false</a></span>; [|<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#R1_neq_R0">R1_neq_R0</a></span>].<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_1">mag_1</a></span>; <span class="tactic">f_equal</span>; <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="succ_FLX_1">succ_FLX_1</a></span> : (<span class="id"><a href="compcert.flocq.Core.Ulp.html#succ">succ</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> 1 = 1 + <span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> (-<span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span> + 1))%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5725')">Proof.</div>
<div class="proofscript" id="proof5725">
<span class="id">now</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#succ">succ</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rle_bool_true">Rle_bool_true</a></span>; [|<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_0_1">Rle_0_1</a></span>]; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#ulp_FLX_1">ulp_FLX_1</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eq_0_round_0_FLX">eq_0_round_0_FLX</a></span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rnd</span> {<span class="id">Vr</span>: <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_rnd">Valid_rnd</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#rnd">rnd</a></span>} <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#rnd">rnd</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> = 0%<span class="id">R</span> -&gt; <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> = 0%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5726')">Proof.</div>
<div class="proofscript" id="proof5726">
<span class="tactic">intros</span> <span class="id">rnd</span> <span class="id">Hr</span> <span class="id">x</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#eq_0_round_0_negligible_exp">eq_0_round_0_negligible_exp</a></span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp_valid">FLX_exp_valid</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#negligible_exp_FLX">negligible_exp_FLX</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="gt_0_round_gt_0_FLX">gt_0_round_gt_0_FLX</a></span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rnd</span> {<span class="id">Vr</span>: <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_rnd">Valid_rnd</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#rnd">rnd</a></span>} <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(0 &lt; <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span>)%<span class="id">R</span> -&gt; (0 &lt; <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#rnd">rnd</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5727')">Proof with</div>
<div class="proofscript" id="proof5727">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">rnd</span> <span class="id">Hr</span> <span class="id">x</span> <span class="id">Hx</span>.<br/>
<span class="tactic">assert</span> (<span class="id">K</span>: (0 &lt;= <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id">rnd</span> <span class="id">x</span>)%<span class="id">R</span>).<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id">rnd</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_le">round_le</a></span>... <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le">Rlt_le</a></span>.<br/>
<span class="tactic">destruct</span> <span class="id">K</span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="id">absurd</span> (<span class="id">x</span> = 0)%<span class="id">R</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#eq_0_round_0_FLX">eq_0_round_0_FLX</a></span> <span class="kwd">with</span> <span class="id">rnd</span>...<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="ulp_FLX_le">ulp_FLX_le</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, (<span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> * <span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> (1-<span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span>))%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5728')">Proof.</div>
<div class="proofscript" id="proof5728">
<span class="tactic">intros</span> <span class="id">x</span>; <span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_dec">Req_dec</a></span> <span class="id">x</span> 0); <span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hx</span>, <span class="id"><a href="compcert.flocq.Core.FLX.html#ulp_FLX_0">ulp_FLX_0</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>.<br/>
<span class="id">right</span>; <span class="tactic">ring</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp_neq_0">ulp_neq_0</a></span>; <span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">Hx</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id">x</span> - <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span>)%<span class="id">Z</span> <span class="kwd">with</span> ((<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id">x</span> - 1) + (1-<span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span>))%<span class="id">Z</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_compat_r">Rmult_le_compat_r</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_mag_le">bpow_mag_le</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="ulp_FLX_ge">ulp_FLX_ge</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> * <span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> (-<span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span>) &lt;= <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5729')">Proof.</div>
<div class="proofscript" id="proof5729">
<span class="tactic">intros</span> <span class="id">x</span>; <span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_dec">Req_dec</a></span> <span class="id">x</span> 0); <span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hx</span>, <span class="id"><a href="compcert.flocq.Core.FLX.html#ulp_FLX_0">ulp_FLX_0</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>.<br/>
<span class="id">right</span>; <span class="tactic">ring</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp_neq_0">ulp_neq_0</a></span>; <span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">Hx</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub">Zminus</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_compat_r">Rmult_le_compat_r</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
<span class="id">left</span>; <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_mag_gt">bpow_mag_gt</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ulp_FLX_exact_shift">ulp_FLX_exact_shift</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> * <span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#e">e</a></span>) = <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> * <span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#e">e</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5730')">Proof.</div>
<div class="proofscript" id="proof5730">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">e</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_dec">Req_dec</a></span> <span class="id">x</span> 0) <span class="kwd">as</span> [<span class="id">Hx</span>|<span class="id">Hx</span>].<br/>
{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool_true">Req_bool_true</a></span>, <span class="id"><a href="compcert.flocq.Core.FLX.html#negligible_exp_FLX">negligible_exp_FLX</a></span>; <span class="tactic">rewrite</span> ?<span class="id">Hx</span>, ?<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>. }<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool_false">Req_bool_false</a></span>;<br/>
&nbsp;&nbsp;[|<span class="id">now</span> <span class="tactic">intro</span> <span class="id">H</span>; <span class="tactic">apply</span> <span class="id">Hx</span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_eq_reg_r">Rmult_eq_reg_r</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> <span class="id">e</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>|<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_gt">Rlt_gt</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>]].<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool_false">Req_bool_false</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>), &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>; <span class="tactic">f_equal</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>, <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_mult_bpow">mag_mult_bpow</a></span>; [<span class="tactic">ring</span>|].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="succ_FLX_exact_shift">succ_FLX_exact_shift</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Ulp.html#succ">succ</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> * <span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#e">e</a></span>) = <span class="id"><a href="compcert.flocq.Core.Ulp.html#succ">succ</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#x">x</a></span> * <span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#e">e</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5731')">Proof.</div>
<div class="proofscript" id="proof5731">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">e</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_or_lt">Rle_or_lt</a></span> 0 <span class="id">x</span>) <span class="kwd">as</span> [<span class="id">Px</span>|<span class="id">Nx</span>].<br/>
{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#succ_eq_pos">succ_eq_pos</a></span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.flocq.Core.Ulp.html#succ_eq_pos">succ_eq_pos</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Px</span>).<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_plus_distr_r">Rmult_plus_distr_r</a></span>; <span class="tactic">f_equal</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#ulp_FLX_exact_shift">ulp_FLX_exact_shift</a></span>. }<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#succ">succ</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rle_bool_false">Rle_bool_false</a></span>; [|<span class="tactic">assert</span> (<span class="id">H</span> := <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id">e</span>); <span class="id">nra</span>].<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rle_bool_false">Rle_bool_false</a></span>; [|<span class="id">now</span> <span class="tactic">simpl</span>].<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_mult_distr_l_reverse">Ropp_mult_distr_l_reverse</a></span>, &lt;-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_mult_distr_l_reverse">Ropp_mult_distr_l_reverse</a></span>; <span class="tactic">f_equal</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#pred_pos">pred_pos</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_mult_bpow">mag_mult_bpow</a></span>; [|<span class="id">lra</span>].<br/>
<span class="tactic">replace</span> (<span class="id">_</span> - 1)%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> (- <span class="id">x</span>) - 1 + <span class="id">e</span>)%<span class="id">Z</span>; [|<span class="tactic">ring</span>]; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool">Req_bool</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rcompare_mult_r">Rcompare_mult_r</a></span>; [|<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>].<br/>
<span class="id">fold</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool">Req_bool</a></span> (-<span class="id">x</span>) (<span class="id"><a href="compcert.flocq.Core.FLX.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> (-<span class="id">x</span>) - 1))); <span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Req_bool">Req_bool</a></span>.<br/>
{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">_</span> - <span class="id">_</span>)%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> (- <span class="id">x</span>) - 1 - <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span> + <span class="id">e</span>)%<span class="id">Z</span>; [|<span class="tactic">ring</span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>; <span class="tactic">ring</span>. }<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#ulp_FLX_exact_shift">ulp_FLX_exact_shift</a></span>; <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<div class="doc">FLX is a nice format: it has a monotone exponent... </div>
<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="FLX_exp_monotone">FLX_exp_monotone</a></span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Monotone_exp">Monotone_exp</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5732')">Proof.</div>
<div class="proofscript" id="proof5732">
<span class="tactic">intros</span> <span class="id">ex</span> <span class="id">ey</span> <span class="id">Hxy</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zplus_le_compat_r">Zplus_le_compat_r</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">and it allows a rounding to nearest, ties to even. </div>
<span class="kwd">Hypothesis</span> <span class="id"><a name="RND_FLX.NE_prop">NE_prop</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> \/ (1 &lt; <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.prec">prec</a></span>)%<span class="id">Z</span>.<br/>
<br/>
<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="exists_NE_FLX">exists_NE_FLX</a></span> : <span class="id"><a href="compcert.flocq.Core.Round_NE.html#Exists_NE">Exists_NE</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5733')">Proof.</div>
<div class="proofscript" id="proof5733">
<span class="tactic">destruct</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX.NE_prop">NE_prop</a></span> <span class="kwd">as</span> [<span class="id">H</span>|<span class="id">H</span>].<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="id">right</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>.<br/>
<span class="tactic">split</span> ; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#RND_FLX">RND_FLX</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
