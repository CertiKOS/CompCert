
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Round_odd</title>
<meta name="description" content="Documentation of Coq module Round_odd" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Round_odd</h1>
<div class="coq">
<br/>
<h1> Rounding to odd and its properties, including the equivalence
      between rnd_NE and double rounding with rnd_odd and then rnd_NE </h1>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Reals.html">Reals</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.micromega.Psatz.html">Psatz</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Core.Core.html">Core</a></span> <span class="id"><a href="compcert.flocq.Calc.Operations.html">Operations</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Zrnd_odd">Zrnd_odd</a></span> <span class="id">x</span> :=  <span class="kwd">match</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>))  <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#left">left</a></span> <span class="id">_</span>   =&gt; <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#right">right</a></span> <span class="id">_</span>  =&gt; <span class="kwd">match</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>)) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<br/>
<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="valid_rnd_odd">valid_rnd_odd</a></span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_rnd">Valid_rnd</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6207')">Proof.</div>
<div class="proofscript" id="proof6207">
<span class="tactic">split</span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Hxy</span>.<br/>
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span> &lt;= <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">y</span>)%<span class="id">Z</span>.<br/>
<span class="comment">(*&nbsp;..&nbsp;*)</span><br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">y</span>).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor_le">Zfloor_le</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span>; <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span>  <span class="id">y</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">y</span>))).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">y</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#le_IZR">le_IZR</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> <span class="id">y</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor_lb">Zfloor_lb</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil_ub">Zceil_ub</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="tactic">at</span> 1.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span>  <span class="id">x</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span>))) <span class="kwd">as</span> [<span class="id">Hx</span>|<span class="id">Hx</span>].<br/>
<span class="comment">(*&nbsp;..&nbsp;*)</span><br/>
<span class="tactic">apply</span> <span class="id">H</span>.<br/>
<span class="comment">(*&nbsp;..&nbsp;*)</span><br/>
<span class="id">case_eq</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span>)); <span class="tactic">intros</span> <span class="id">Hx2</span>.<br/>
2: <span class="tactic">apply</span> <span class="id">H</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span>; <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span>  <span class="id">y</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">y</span>))) <span class="kwd">as</span> [<span class="id">Hy</span>|<span class="id">Hy</span>].<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil_glb">Zceil_glb</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">Hy</span>.<br/>
<span class="id">case_eq</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">y</span>)); <span class="tactic">intros</span> <span class="id">Hy2</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil_le">Zceil_le</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil_glb">Zceil_glb</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id">H0</span>:(<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span> &lt;= <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">y</span>)%<span class="id">Z</span>) <span class="tactic">by</span> <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor_le">Zfloor_le</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_lt_or_eq">Zle_lt_or_eq</a></span> <span class="id">_</span> <span class="id">_</span>  <span class="id">H0</span>); <span class="tactic">intros</span> <span class="id">H1</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (1:=<span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil_ub">Zceil_ub</a></span> <span class="id">_</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil_floor_neq">Zceil_floor_neq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_le">IZR_le</a></span>; <span class="tactic">omega</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_not_eq">sym_not_eq</a></span>.<br/>
<span class="id">contradict</span> <span class="id">Hy2</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>, <span class="id">Hx2</span>; <span class="tactic">discriminate</span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">n</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor_IZR">Zfloor_IZR</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil_IZR">Zceil_IZR</a></span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span>  (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id">n</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id">n</span>)); <span class="tactic">trivial</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> <span class="id">n</span>); <span class="tactic">trivial</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Zrnd_odd_Zodd">Zrnd_odd_Zodd</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> &lt;&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>)) -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>)) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6208')">Proof.</div>
<div class="proofscript" id="proof6208">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">Hx</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span>  <span class="id">x</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span>))) <span class="kwd">as</span> [<span class="id">H</span>|<span class="id">H</span>].<br/>
<span class="id">now</span> <span class="id">contradict</span> <span class="id">H</span>.<br/>
<span class="id">case_eq</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span>)).<br/>
<span class="comment">(*&nbsp;difficult&nbsp;case&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">H</span>'.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil_floor_neq">Zceil_floor_neq</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even_add">Z.even_add</a></span>, <span class="id">H</span>'.<br/>
<span class="tactic">reflexivity</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_not_eq">sym_not_eq</a></span>.<br/>
<span class="tactic">trivial</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Zfloor_plus">Zfloor_plus</a></span>: <span class="kwd">forall</span> (<span class="id">n</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">y</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#n">n</a></span>+<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#n">n</a></span> + <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#y">y</a></span>)%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6209')">Proof.</div>
<div class="proofscript" id="proof6209">
<span class="tactic">intros</span> <span class="id">n</span> <span class="id">y</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub">Zminus</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_assoc">Zplus_assoc</a></span>; <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_Ifp.html#tech_up">tech_up</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#plus_IZR">plus_IZR</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_lt_compat_l">Rplus_lt_compat_l</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#archimed">archimed</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#plus_IZR">plus_IZR</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_assoc">Rplus_assoc</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_compat_l">Rplus_le_compat_l</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_reg_r">Rplus_le_reg_r</a></span> <span class="kwd">with</span> (-<span class="id">y</span>)%<span class="id">R</span>.<br/>
<span class="id">ring_simplify</span> (<span class="id">y</span>+1+-<span class="id">y</span>)%<span class="id">R</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#archimed">archimed</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Zceil_plus">Zceil_plus</a></span>: <span class="kwd">forall</span> (<span class="id">n</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">y</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#n">n</a></span>+<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#n">n</a></span> + <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#y">y</a></span>)%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6210')">Proof.</div>
<div class="proofscript" id="proof6210">
<span class="tactic">intros</span> <span class="id">n</span> <span class="id">y</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_plus_distr">Ropp_plus_distr</a></span>, &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_Ropp_IZR">Ropp_Ropp_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zfloor_plus">Zfloor_plus</a></span>.<br/>
<span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Zeven_abs">Zeven_abs</a></span>: <span class="kwd">forall</span> <span class="id">z</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#z">z</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6211')">Proof.</div>
<div class="proofscript" id="proof6211">
<span class="tactic">intros</span> <span class="id">z</span>; <span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_or_lt">Zle_or_lt</a></span> <span class="id">z</span> 0); <span class="tactic">intros</span> <span class="id">H1</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs_neq">Z.abs_neq</a></span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even_opp">Z.even_opp</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs_eq">Z.abs_eq</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Zrnd_odd_plus">Zrnd_odd_plus</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>+<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#y">y</a></span>)) = <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>+<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#y">y</a></span>))%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6212')">Proof.</div>
<div class="proofscript" id="proof6212">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Hx</span> <span class="id">H</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span>; <span class="tactic">rewrite</span> <span class="id">Hx</span>, <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zfloor_plus">Zfloor_plus</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span> <span class="id">y</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">y</span>))); <span class="tactic">intros</span> <span class="id">Hy</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hy</span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#plus_IZR">plus_IZR</a></span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor_IZR">Zfloor_IZR</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span> <span class="id">_</span> <span class="id">_</span>); <span class="tactic">intros</span> <span class="id">K</span>; <span class="id">easy</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span> <span class="id">_</span> <span class="id">_</span>); <span class="tactic">intros</span> <span class="id">K</span>.<br/>
<span class="id">contradict</span> <span class="id">Hy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_eq_reg_l">Rplus_eq_reg_l</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span>)).<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">K</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#plus_IZR">plus_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even_add">Z.even_add</a></span>, <span class="id">H</span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">y</span>)).<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zceil_plus">Zceil_plus</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#plus_IZR">plus_IZR</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#plus_IZR">plus_IZR</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Fcore_rnd_odd">Fcore_rnd_odd</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fcore_rnd_odd.beta">beta</a></span> : <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix">radix</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="bpow">bpow</a></span> <span class="id">e</span> := (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id">e</span>).<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fcore_rnd_odd.fexp">fexp</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<br/>
<span class="kwd">Context</span> { <span class="id">valid_exp</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> }.<br/>
<span class="kwd">Context</span> { <span class="id">exists_NE_</span> : <span class="id"><a href="compcert.flocq.Core.Round_NE.html#Exists_NE">Exists_NE</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> }.<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="format">format</a></span> := (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>).<br/>
<span class="kwd">Notation</span> <span class="id"><a name="canonical">canonical</a></span> := (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>).<br/>
<span class="kwd">Notation</span> <span class="id"><a name="cexp">cexp</a></span> := (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>).<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Rnd_odd_pt">Rnd_odd_pt</a></span> (<span class="id">x</span> <span class="id">f</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span> /\ ((<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>)%<span class="id">R</span> \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="compcert.flocq.Core.Defs.html#Rnd_DN_pt">Rnd_DN_pt</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span> \/ <span class="id"><a href="compcert.flocq.Core.Defs.html#Rnd_UP_pt">Rnd_UP_pt</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">g</span> : <span class="id"><a href="compcert.flocq.Core.Defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span>, <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#g">g</a></span> /\ <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#canonical">canonical</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#g">g</a></span> /\ <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#g">g</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Rnd_odd">Rnd_odd</a></span> (<span class="id">rnd</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>, <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#rnd">rnd</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>).<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Rnd_odd_pt_opp_inv">Rnd_odd_pt_opp_inv</a></span> :   <span class="kwd">forall</span> <span class="id">x</span> <span class="id">f</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> (-<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>) (-<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span>) -&gt; <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6213')">Proof with</div>
<div class="proofscript" id="proof6213">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">f</span> (<span class="id">H1</span>,<span class="id">H2</span>).<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">replace</span> <span class="id">f</span> <span class="kwd">with</span> (-(-<span class="id">f</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_opp">generic_format_opp</a></span>.<br/>
<span class="tactic">destruct</span> <span class="id">H2</span>.<br/>
<span class="id">left</span>.<br/>
<span class="tactic">replace</span> <span class="id">f</span> <span class="kwd">with</span> (-(-<span class="id">f</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">ring</span>.<br/>
<span class="id">right</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">H2</span>,(<span class="id">g</span>,(<span class="id">Hg1</span>,(<span class="id">Hg2</span>,<span class="id">Hg3</span>)))).<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H2</span>.<br/>
<span class="id">right</span>.<br/>
<span class="tactic">replace</span> <span class="id">f</span> <span class="kwd">with</span> (-(-<span class="id">f</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">replace</span> <span class="id">x</span> <span class="kwd">with</span> (-(-<span class="id">x</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_UP_pt_opp">Rnd_UP_pt_opp</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_opp">generic_format_opp</a></span>.<br/>
<span class="id">left</span>.<br/>
<span class="tactic">replace</span> <span class="id">f</span> <span class="kwd">with</span> (-(-<span class="id">f</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">replace</span> <span class="id">x</span> <span class="kwd">with</span> (-(-<span class="id">x</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_DN_pt_opp">Rnd_DN_pt_opp</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_opp">generic_format_opp</a></span>.<br/>
<span class="id">exists</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> (-<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id">g</span>) (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fexp">Fexp</a></span> <span class="id">g</span>)).<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zopp">F2R_Zopp</a></span>.<br/>
<span class="tactic">replace</span> <span class="id">f</span> <span class="kwd">with</span> (-(-<span class="id">f</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hg1</span>; <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical_opp">canonical_opp</a></span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even_opp">Z.even_opp</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="round_odd_opp">round_odd_opp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> (-<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>) = (- <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6214')">Proof.</div>
<div class="proofscript" id="proof6214">
<span class="tactic">intros</span> <span class="id">x</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zopp">F2R_Zopp</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#f_equal2">f_equal2</a></span>; <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa_opp">scaled_mantissa_opp</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>); <span class="tactic">intros</span> <span class="id">r</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span> (- <span class="id">r</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> (- <span class="id">r</span>)))).<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span> <span class="id">r</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">r</span>))).<br/>
<span class="tactic">intros</span> <span class="id">Y1</span> <span class="id">Y2</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#eq_IZR">eq_IZR</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#opp_IZR">opp_IZR</a></span>, &lt;- <span class="id">Y1</span>, &lt;-<span class="id">Y2</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y1</span> <span class="id">Y2</span>.<br/>
<span class="id">absurd</span> (<span class="id">r</span>=<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">r</span>)); <span class="tactic">trivial</span>.<br/>
<span class="tactic">pattern</span> <span class="id">r</span> <span class="tactic">at</span> 2; <span class="tactic">replace</span> <span class="id">r</span> <span class="kwd">with</span> (-(-<span class="id">r</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Y2</span>, &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#opp_IZR">opp_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor_IZR">Zfloor_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#opp_IZR">opp_IZR</a></span>, &lt;- <span class="id">Y2</span>.<br/>
<span class="tactic">ring</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span> <span class="id">r</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">r</span>))).<br/>
<span class="tactic">intros</span> <span class="id">Y1</span> <span class="id">Y2</span>.<br/>
<span class="id">absurd</span> (-<span class="id">r</span>=<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> (-<span class="id">r</span>)))%<span class="id">R</span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">pattern</span> <span class="id">r</span> <span class="tactic">at</span> 2; <span class="tactic">rewrite</span> <span class="id">Y1</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#opp_IZR">opp_IZR</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor_IZR">Zfloor_IZR</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#opp_IZR">opp_IZR</a></span>, &lt;- <span class="id">Y1</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y1</span> <span class="id">Y2</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_involutive">Ropp_involutive</a></span>.<br/>
<span class="tactic">replace</span>  (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> (- <span class="id">r</span>))) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">r</span>))).<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">r</span>));  <span class="tactic">simpl</span>; <span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span> <span class="id">r</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil_floor_neq">Zceil_floor_neq</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even_add">Z.even_add</a></span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">r</span>)); <span class="tactic">reflexivity</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_not_eq">sym_not_eq</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even_opp">Z.even_opp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> (- <span class="id">r</span>))).<br/>
<span class="tactic">reflexivity</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp_opp">cexp_opp</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="round_odd_pt">round_odd_pt</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6215')">Proof with</div>
<div class="proofscript" id="proof6215">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">cut</span> (<span class="kwd">forall</span> <span class="id">x</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>, (0 &lt; <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>)%<span class="id">R</span> -&gt; <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>)).<br/>
<span class="tactic">intros</span> <span class="id">H</span> <span class="id">x</span>; <span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_or_lt">Rle_or_lt</a></span> 0 <span class="id">x</span>).<br/>
<span class="tactic">intros</span> <span class="id">H1</span>; <span class="tactic">destruct</span> <span class="id">H1</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">H</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span>...<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_0">generic_format_0</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hx</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Rnd_odd_pt_opp_inv">Rnd_odd_pt_opp_inv</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#round_odd_opp">round_odd_opp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id">H</span>.<br/>
<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">real</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">Hxp</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_round">generic_format_round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">x</span>).<br/>
<span class="tactic">set</span> (<span class="id">o</span>:=<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">x</span>).<br/>
<span class="tactic">intros</span> <span class="id">Ho</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">assumption</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_dec">Req_dec</a></span> <span class="id">o</span> <span class="id">x</span>); <span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="id">right</span>.<br/>
<span class="tactic">assert</span> (<span class="id">o</span>=<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span> \/ <span class="id">o</span>=<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span> <span class="id">x</span>).<br/>
<span class="tactic">unfold</span> <span class="id">o</span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>;<span class="tactic">simpl</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Zrnd_DN_or_UP">Zrnd_DN_or_UP</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span>  (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>))...<br/>
<span class="tactic">intros</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="id">now</span> <span class="id">right</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
<span class="id">left</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
<span class="id">right</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">unfold</span> <span class="id">o</span>, <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>)))).<br/>
<span class="tactic">intros</span> <span class="id">T</span>.<br/>
<span class="id">absurd</span> (<span class="id">o</span>=<span class="id">x</span>); <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>...<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa_mult_bpow">scaled_mantissa_mult_bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>) <span class="tactic">at</span> 1.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#f_equal2">f_equal2</a></span>; <span class="tactic">trivial</span>; <span class="tactic">rewrite</span> <span class="id">T</span> <span class="tactic">at</span> 1.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Ztrunc_floor">Ztrunc_floor</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">L</span>.<br/>
<span class="id">case_eq</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>))).<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_round">generic_format_round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span> <span class="id">x</span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span>.<br/>
<span class="tactic">set</span> (<span class="id">f</span>:=<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span> <span class="id">x</span>).<br/>
<span class="tactic">set</span> (<span class="id">ef</span> := <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#cexp">cexp</a></span> <span class="id">f</span>).<br/>
<span class="tactic">set</span> (<span class="id">mf</span> := <span class="id"><a href="compcert.flocq.Core.Raux.html#Ztrunc">Ztrunc</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">f</span>)).<br/>
<span class="id">exists</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id">mf</span> <span class="id">ef</span>).<br/>
<span class="tactic">unfold</span> <span class="id">canonical</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>)))).<br/>
2: <span class="tactic">rewrite</span> <span class="id">H1</span>; <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span>  (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>)) (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#cexp">cexp</a></span> <span class="id">x</span>))))).<br/>
2: <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_or_eq_dec">Rle_lt_or_eq_dec</a></span> 0 (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_le">round_le</a></span>...<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Round_NE.html#DN_UP_parity_generic">DN_UP_parity_generic</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>)...<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Round_NE.html#DN_UP_parity_prop">DN_UP_parity_prop</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">T</span>; <span class="tactic">apply</span> <span class="id">T</span> <span class="kwd">with</span> <span class="id">x</span>; <span class="tactic">clear</span> <span class="id">T</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa_mult_bpow">scaled_mantissa_mult_bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>) <span class="tactic">at</span> 1.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rmult_neq_compat_r">Rmult_neq_compat_r</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Ztrunc_floor">Ztrunc_floor</a></span>.<br/>
<span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id">canonical</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp_DN">cexp_DN</a></span>...<br/>
<span class="tactic">unfold</span> <span class="id">canonical</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>; <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">reflexivity</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Ztrunc">Ztrunc</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">reflexivity</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>...<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">replace</span>  (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> {| <span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Fnum</a></span> := <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>); <span class="id">Fexp</span> := <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#cexp">cexp</a></span> <span class="id">x</span> |})<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> 0 (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> 0)))).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Round_NE.html#DN_UP_parity_generic">DN_UP_parity_generic</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>)...<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Round_NE.html#DN_UP_parity_prop">DN_UP_parity_prop</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">T</span>; <span class="tactic">apply</span> <span class="id">T</span> <span class="kwd">with</span> <span class="id">x</span>; <span class="tactic">clear</span> <span class="id">T</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa_mult_bpow">scaled_mantissa_mult_bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>) <span class="tactic">at</span> 1.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rmult_neq_compat_r">Rmult_neq_compat_r</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Ztrunc_floor">Ztrunc_floor</a></span>.<br/>
<span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical_0">canonical_0</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id">canonical</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>; <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Y</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Ztrunc">Ztrunc</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">reflexivity</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>...<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#eq_IZR">eq_IZR</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_eq_reg_r">Rmult_eq_reg_r</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#cexp">cexp</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="kwd">in</span> <span class="id">Y</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Y</span>; <span class="tactic">rewrite</span> &lt;- <span class="id">Y</span>.<br/>
<span class="tactic">simpl</span>; <span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_or_eq_dec">Rle_lt_or_eq_dec</a></span> 0 (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_le">round_le</a></span>...<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hrx</span>.<br/>
<span class="tactic">set</span> (<span class="id">ef</span> := <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#cexp">cexp</a></span> <span class="id">x</span>).<br/>
<span class="tactic">set</span> (<span class="id">mf</span> := <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>)).<br/>
<span class="id">exists</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id">mf</span> <span class="id">ef</span>).<br/>
<span class="tactic">unfold</span> <span class="id">canonical</span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#cexp">cexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span> )).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp_DN">cexp_DN</a></span>...<br/>
<span class="tactic">reflexivity</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hrx</span>; <span class="id">contradict</span> <span class="id">Y</span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>)) <span class="kwd">with</span> 0%<span class="id">Z</span>.<br/>
<span class="tactic">simpl</span>; <span class="tactic">discriminate</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#eq_IZR">eq_IZR</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_eq_reg_r">Rmult_eq_reg_r</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#cexp">cexp</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="kwd">in</span> <span class="id">Hrx</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hrx</span>; <span class="tactic">rewrite</span> &lt;- <span class="id">Hrx</span>.<br/>
<span class="tactic">simpl</span>; <span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Rnd_odd_pt_unique">Rnd_odd_pt_unique</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">f1</span> <span class="id">f2</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f1">f1</a></span> -&gt; <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f2">f2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f1">f1</a></span> = <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f2">f2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6216')">Proof.</div>
<div class="proofscript" id="proof6216">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">f1</span> <span class="id">f2</span> (<span class="id">Ff1</span>,<span class="id">H1</span>) (<span class="id">Ff2</span>,<span class="id">H2</span>).<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_EM">generic_format_EM</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>); <span class="tactic">intros</span> <span class="id">L</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> <span class="id">x</span>.<br/>
<span class="tactic">case</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">intros</span> (<span class="id">J</span>,<span class="id">_</span>); <span class="tactic">case</span> <span class="id">J</span>; <span class="tactic">intros</span> <span class="id">J</span>'.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_DN_pt_idempotent">Rnd_DN_pt_idempotent</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#format">format</a></span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_UP_pt_idempotent">Rnd_UP_pt_idempotent</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#format">format</a></span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">case</span> <span class="id">H2</span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">intros</span> (<span class="id">J</span>,<span class="id">_</span>); <span class="tactic">case</span> <span class="id">J</span>; <span class="tactic">intros</span> <span class="id">J</span>'; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_DN_pt_idempotent">Rnd_DN_pt_idempotent</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#format">format</a></span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_UP_pt_idempotent">Rnd_UP_pt_idempotent</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#format">format</a></span>; <span class="tactic">assumption</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">H1</span>|(<span class="id">H1</span>,<span class="id">H1</span>')].<br/>
<span class="id">contradict</span> <span class="id">L</span>; <span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> [<span class="id">H2</span>|(<span class="id">H2</span>,<span class="id">H2</span>')].<br/>
<span class="id">contradict</span> <span class="id">L</span>; <span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">H2</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">H1</span>|<span class="id">H1</span>]; <span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> [<span class="id">H2</span>|<span class="id">H2</span>].<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_DN_pt_unique">Rnd_DN_pt_unique</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#format">format</a></span> <span class="id">x</span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H1</span>' <span class="kwd">as</span> (<span class="id">ff</span>,(<span class="id">K1</span>,(<span class="id">K2</span>,<span class="id">K3</span>))).<br/>
<span class="tactic">destruct</span> <span class="id">H2</span>' <span class="kwd">as</span> (<span class="id">gg</span>,(<span class="id">L1</span>,(<span class="id">L2</span>,<span class="id">L3</span>))).<br/>
<span class="id">absurd</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">L3</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id">ff</span>))).<br/>
<span class="tactic">rewrite</span> <span class="id">K3</span>; <span class="id">easy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Round_NE.html#DN_UP_parity_generic">DN_UP_parity_generic</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Round_NE.html#DN_UP_parity_prop">DN_UP_parity_prop</a></span>; <span class="tactic">intros</span> <span class="id">T</span>; <span class="tactic">apply</span> (<span class="id">T</span> <span class="id">x</span>); <span class="tactic">clear</span> <span class="id">T</span>; <span class="tactic">try</span> <span class="tactic">assumption</span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">K1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_DN_pt_unique">Rnd_DN_pt_unique</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>) <span class="id">x</span>; <span class="tactic">try</span> <span class="id">easy</span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">L1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_UP_pt_unique">Rnd_UP_pt_unique</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>) <span class="id">x</span>; <span class="tactic">try</span> <span class="id">easy</span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">destruct</span> <span class="id">H1</span>' <span class="kwd">as</span> (<span class="id">ff</span>,(<span class="id">K1</span>,(<span class="id">K2</span>,<span class="id">K3</span>))).<br/>
<span class="tactic">destruct</span> <span class="id">H2</span>' <span class="kwd">as</span> (<span class="id">gg</span>,(<span class="id">L1</span>,(<span class="id">L2</span>,<span class="id">L3</span>))).<br/>
<span class="id">absurd</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">K3</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id">gg</span>))).<br/>
<span class="tactic">rewrite</span> <span class="id">L3</span>; <span class="id">easy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Round_NE.html#DN_UP_parity_generic">DN_UP_parity_generic</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Round_NE.html#DN_UP_parity_prop">DN_UP_parity_prop</a></span>; <span class="tactic">intros</span> <span class="id">T</span>; <span class="tactic">apply</span> (<span class="id">T</span> <span class="id">x</span>); <span class="tactic">clear</span> <span class="id">T</span>; <span class="tactic">try</span> <span class="tactic">assumption</span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">L1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_DN_pt_unique">Rnd_DN_pt_unique</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>) <span class="id">x</span>; <span class="tactic">try</span> <span class="id">easy</span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">K1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_UP_pt_unique">Rnd_UP_pt_unique</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>) <span class="id">x</span>; <span class="tactic">try</span> <span class="id">easy</span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_UP_pt_unique">Rnd_UP_pt_unique</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#format">format</a></span> <span class="id">x</span>; <span class="tactic">assumption</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Rnd_odd_pt_monotone">Rnd_odd_pt_monotone</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Defs.html#round_pred_monotone">round_pred_monotone</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6217')">Proof with</div>
<div class="proofscript" id="proof6217">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">f</span> <span class="id">g</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">Hxy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">x</span>).<br/>
<span class="id">right</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Rnd_odd_pt_unique">Rnd_odd_pt_unique</a></span> <span class="kwd">with</span> <span class="id">x</span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#round_odd_pt">round_odd_pt</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">y</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_le">round_le</a></span>...<br/>
<span class="id">right</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Rnd_odd_pt_unique">Rnd_odd_pt_unique</a></span> <span class="kwd">with</span> <span class="id">y</span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#round_odd_pt">round_odd_pt</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fcore_rnd_odd">Fcore_rnd_odd</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Odd_prop_aux">Odd_prop_aux</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop_aux.beta">beta</a></span> : <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix">radix</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop_aux.Even_beta">Even_beta</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span>)=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="bpow">bpow</a></span> <span class="id">e</span> := (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">e</span>).<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop_aux.fexp">fexp</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop_aux.fexpe">fexpe</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<br/>
<span class="kwd">Context</span> { <span class="id">valid_exp</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> }.<br/>
<span class="kwd">Context</span> { <span class="id">exists_NE_</span> : <span class="id"><a href="compcert.flocq.Core.Round_NE.html#Exists_NE">Exists_NE</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> }. <br/>
<span class="kwd">Context</span> { <span class="id">valid_expe</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> }.<br/>
<span class="kwd">Context</span> { <span class="id">exists_NE_e</span> : <span class="id"><a href="compcert.flocq.Core.Round_NE.html#Exists_NE">Exists_NE</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> }. <br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop_aux.fexpe_fexp">fexpe_fexp</a></span>: <span class="kwd">forall</span> <span class="id">e</span>, (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#e">e</a></span> &lt;= <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#e">e</a></span> -2)%<span class="id">Z</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="generic_format_fexpe_fexp">generic_format_fexpe_fexp</a></span>: <span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> -&gt;  <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6218')">Proof.</div>
<div class="proofscript" id="proof6218">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">Hx</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_inclusion_mag">generic_inclusion_mag</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span>; <span class="tactic">trivial</span>; <span class="tactic">intros</span> <span class="id">Hx2</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe_fexp">fexpe_fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="exists_even_fexp_lt">exists_even_fexp_lt</a></span>: <span class="kwd">forall</span> (<span class="id">c</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>-&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>), <span class="kwd">forall</span> (<span class="id">x</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">f</span>:<span class="id"><a href="compcert.flocq.Core.Defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> /\ (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#c">c</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>) &lt; <span class="id"><a href="compcert.flocq.Core.Defs.html#Fexp">Fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span>)%<span class="id">Z</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">f</span>:<span class="id"><a href="compcert.flocq.Core.Defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span> =<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> /\ <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#c">c</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span> /\ <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6219')">Proof with</div>
<div class="proofscript" id="proof6219">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">c</span> <span class="id">x</span> (<span class="id">g</span>,(<span class="id">Hg1</span>,<span class="id">Hg2</span>)).<br/>
<span class="id">exists</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id">g</span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow">Z.pow</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span>) (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fexp">Fexp</a></span> <span class="id">g</span> - <span class="id">c</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">c</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">x</span>))).<br/>
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id">g</span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow">Z.pow</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span>) (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fexp">Fexp</a></span> <span class="id">g</span> - <span class="id">c</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">c</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">x</span>))) = <span class="id">x</span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#mult_IZR">mult_IZR</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>, &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hg1</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="tactic">f_equal</span>.<br/>
<span class="tactic">ring</span>.<br/>
<span class="tactic">omega</span>.<br/>
<span class="tactic">split</span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even_mul">Z.even_mul</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even_pow">Z.even_pow</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Even_beta">Even_beta</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_intro">Bool.orb_true_intro</a></span>.<br/>
<span class="id">now</span> <span class="id">right</span>.<br/>
<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop_aux.choice">choice</a></span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>-&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop_aux.x">x</a></span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop_aux.d">d</a></span> <span class="id"><a name="Odd_prop_aux.u">u</a></span>: <span class="id"><a href="compcert.flocq.Core.Defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop_aux.Hd">Hd</a></span>: <span class="id"><a href="compcert.flocq.Core.Defs.html#Rnd_DN_pt">Rnd_DN_pt</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop_aux.Cd">Cd</a></span>: <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop_aux.Hu">Hu</a></span>: <span class="id"><a href="compcert.flocq.Core.Defs.html#Rnd_UP_pt">Rnd_UP_pt</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop_aux.Cu">Cu</a></span>: <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop_aux.xPos">xPos</a></span>: (0 &lt; <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>)%<span class="id">R</span>.<br/>
<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="Odd_prop_aux.m">m</a></span>:= ((<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>+<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>)/2)%<span class="id">R</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="d_eq">d_eq</a></span>: <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>= <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6220')">Proof with</div>
<div class="proofscript" id="proof6220">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_DN_pt_unique">Rnd_DN_pt_unique</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="u_eq">u_eq</a></span>: <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>= <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6221')">Proof with</div>
<div class="proofscript" id="proof6221">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_UP_pt_unique">Rnd_UP_pt_unique</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="d_ge_0">d_ge_0</a></span>: (0 &lt;= <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6222')">Proof with</div>
<div class="proofscript" id="proof6222">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#d_eq">d_eq</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_ge_generic">round_ge_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_0">generic_format_0</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mag_d">mag_d</a></span>:  (0&lt; <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>) = <span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span> :&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6223')">Proof with</div>
<div class="proofscript" id="proof6223">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#d_eq">d_eq</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#mag_DN">mag_DN</a></span>...<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#d_eq">d_eq</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Fexp_d">Fexp_d</a></span>: (0 &lt; <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt; <span class="id"><a href="compcert.flocq.Core.Defs.html#Fexp">Fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span> =<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6224')">Proof with</div>
<div class="proofscript" id="proof6224">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Cd">Cd</a></span>, &lt;- <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#mag_d">mag_d</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="format_bpow_x">format_bpow_x</a></span>: (0 &lt; <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span>  (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6225')">Proof with</div>
<div class="proofscript" id="proof6225">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_bpow">generic_format_bpow</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.valid_exp">valid_exp</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fexp_d">Fexp_d</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lt_le_trans">Z.lt_le_trans</a></span> <span class="kwd">with</span>  (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>))%<span class="id">Z</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Cd">Cd</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#mag_generic_gt">mag_generic_gt</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_le">mag_le</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="format_bpow_d">format_bpow_d</a></span>: (0 &lt; <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6226')">Proof with</div>
<div class="proofscript" id="proof6226">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_bpow">generic_format_bpow</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.valid_exp">valid_exp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#mag_generic_gt">mag_generic_gt</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_canonical">generic_format_canonical</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="d_le_m">d_le_m</a></span>: (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span> &lt;= <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.m">m</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6227')">Proof.</div>
<div class="proofscript" id="proof6227">
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span> &lt;= <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hu">Hu</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#m">m</a></span>.<br/>
<span class="id">lra</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="m_le_u">m_le_u</a></span>: (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.m">m</a></span> &lt;= <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6228')">Proof.</div>
<div class="proofscript" id="proof6228">
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span> &lt;= <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hu">Hu</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#m">m</a></span>.<br/>
<span class="id">lra</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mag_m">mag_m</a></span>: (0 &lt; <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt; (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.m">m</a></span> =<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>) :&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6229')">Proof with</div>
<div class="proofscript" id="proof6229">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">dPos</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_unique_pos">mag_unique_pos</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)) <span class="kwd">as</span> (<span class="id">e</span>,<span class="id">He</span>).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_right">Rabs_right</a></span> <span class="kwd">in</span> <span class="id">He</span>.<br/>
<span class="tactic">apply</span> <span class="id">He</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_ge">Rle_ge</a></span>; <span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#d_le_m">d_le_m</a></span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#m_le_u">m_le_u</a></span>; <span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (1:=<span class="id">H</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#u_eq">u_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_le_generic">round_le_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_bpow">generic_format_bpow</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.valid_exp">valid_exp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#mag_generic_gt">mag_generic_gt</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_canonical">generic_format_canonical</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_or_lt">Rle_or_lt</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)))); <span class="tactic">trivial</span>; <span class="tactic">intros</span> <span class="id">Z</span>.<br/>
<span class="id">absurd</span> ((<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)) &lt;= (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)))%<span class="id">R</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_le">Rlt_not_le</a></span>.<br/>
<span class="tactic">destruct</span>  (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)) <span class="kwd">as</span> (<span class="id">e</span>,<span class="id">He</span>).<br/>
<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_right">Rabs_right</a></span> <span class="kwd">in</span> <span class="id">He</span>.<br/>
<span class="tactic">apply</span> <span class="id">He</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_ge">Rle_ge</a></span>; <span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>).<br/>
2: <span class="id">right</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#d_eq">d_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_ge_generic">round_ge_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_bpow">generic_format_bpow</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.valid_exp">valid_exp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#mag_generic_gt">mag_generic_gt</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_canonical">generic_format_canonical</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">replace</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.m">m</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)) <span class="kwd">as</span> (<span class="id">e</span>,<span class="id">He</span>).<br/>
<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_right">Rabs_right</a></span> <span class="kwd">in</span> <span class="id">He</span>.<br/>
<span class="tactic">apply</span> <span class="id">He</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_ge">Rle_ge</a></span>; <span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#m">m</a></span> <span class="kwd">in</span> <span class="id">H</span> |- *.<br/>
<span class="id">lra</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mag_m_0">mag_m_0</a></span>: (0 = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.m">m</a></span> =<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>)-1:&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6230')">Proof with</div>
<div class="proofscript" id="proof6230">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_unique_pos">mag_unique_pos</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#m">m</a></span>; <span class="tactic">rewrite</span> &lt;- <span class="id">Y</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#u_eq">u_eq</a></span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>) <span class="kwd">as</span> (<span class="id">e</span>,<span class="id">He</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> <span class="kwd">in</span> <span class="id">He</span> <span class="tactic">by</span> <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le">Rlt_le</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_UP_small_pos">round_UP_small_pos</a></span> <span class="kwd">with</span> (<span class="id">ex</span>:=<span class="id">e</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_bpow">mag_bpow</a></span>.<br/>
<span class="id">ring_simplify</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id">e</span> + 1 - 1)%<span class="id">Z</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub">Zminus</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rdiv">Rdiv</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_compat_l">Rmult_le_compat_l</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
<span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmult_1_r">Zmult_1_r</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Rinv_le">Rinv_le</a></span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.setoid_ring.RealField.html#Rlt_0_2">Rlt_0_2</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_le">IZR_le</a></span>.<br/>
<span class="id">specialize</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix_gt_1">radix_gt_1</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span>).<br/>
<span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id">e</span>)*1)%<span class="id">R</span>.<br/>
2: <span class="id">right</span>; <span class="tactic">ring</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rdiv">Rdiv</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_lt_compat_l">Rmult_lt_compat_l</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="id">lra</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">He</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#exp_small_round_0_pos">exp_small_round_0_pos</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">He</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#d_eq">d_eq</a></span>, <span class="id">Y</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">u</span>'<span class="id">_eq</span>:  (0 &lt; <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt; <span class="id">exists</span> <span class="id">f</span>:<span class="id"><a href="compcert.flocq.Core.Defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span> /\ (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fexp">Fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Core.Defs.html#Fexp">Fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6231')">Proof with</div>
<div class="proofscript" id="proof6231">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#u_eq">u_eq</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span>.<br/>
<span class="id">eexists</span>; <span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">simpl</span>; <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fexp_d">Fexp_d</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="m_eq">m_eq</a></span> :<br/>
&nbsp;&nbsp;(0 &lt; <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">f</span>:<span class="id"><a href="compcert.flocq.Core.Defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.m">m</a></span> /\ (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fexp">Fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>) - 1)%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6232')">Proof with</div>
<div class="proofscript" id="proof6232">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="id">specialize</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#Zeven_ex">Zeven_ex</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span>)); <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Even_beta">Even_beta</a></span>.<br/>
<span class="tactic">intros</span> (<span class="id">b</span>, <span class="id">Hb</span>); <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_0_r">Zplus_0_r</a></span> <span class="kwd">in</span> <span class="id">Hb</span>.<br/>
<span class="tactic">destruct</span> <span class="id">u</span>'<span class="id">_eq</span> <span class="kwd">as</span> (<span class="id">u</span>', (<span class="id">Hu</span>'1,<span class="id">Hu</span>'2)); <span class="tactic">trivial</span>.<br/>
<span class="id">exists</span> (<span class="id"><a href="compcert.flocq.Calc.Operations.html#Fmult">Fmult</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">b</span> (-1)) (<span class="id"><a href="compcert.flocq.Calc.Operations.html#Fplus">Fplus</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span> <span class="id">u</span>'))%<span class="id">R</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_mult">F2R_mult</a></span>, <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_plus">F2R_plus</a></span>, <span class="id">Hu</span>'1.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#m">m</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_comm">Rmult_comm</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rdiv">Rdiv</a></span>; <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmult_1_r">Zmult_1_r</a></span>, <span class="id">Hb</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#mult_IZR">mult_IZR</a></span>.<br/>
<span class="tactic">simpl</span>; <span class="id">field</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_lt_reg_l">Rmult_lt_reg_l</a></span> <span class="kwd">with</span> (1 := <span class="id"><a href="http://coq.inria.fr/library/Coq.setoid_ring.RealField.html#Rlt_0_2">Rlt_0_2</a></span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_r">Rmult_0_r</a></span>, &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#mult_IZR">mult_IZR</a></span> 2), &lt;-<span class="id">Hb</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#radix_pos">radix_pos</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (-1+<span class="id"><a href="compcert.flocq.Core.Defs.html#Fexp">Fexp</a></span> (<span class="id"><a href="compcert.flocq.Calc.Operations.html#Fplus">Fplus</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span> <span class="id">u</span>'))%<span class="id">Z</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Operations.html#Fmult">Fmult</a></span>.<br/>
<span class="tactic">destruct</span>  (<span class="id"><a href="compcert.flocq.Calc.Operations.html#Fplus">Fplus</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span> <span class="id">u</span>'); <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_comm">Zplus_comm</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub">Zminus</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#f_equal2">f_equal2</a></span>.<br/>
2: <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Calc.Operations.html#Fexp_Fplus">Fexp_Fplus</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_l">Z.min_l</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fexp_d">Fexp_d</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hu</span>'2; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="m_eq_0">m_eq_0</a></span>: (0 = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt;  <span class="id">exists</span> <span class="id">f</span>:<span class="id"><a href="compcert.flocq.Core.Defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.m">m</a></span> /\ (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fexp">Fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>)) -1)%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6233')">Proof with</div>
<div class="proofscript" id="proof6233">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="id">specialize</span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#Zeven_ex">Zeven_ex</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span>)); <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Even_beta">Even_beta</a></span>.<br/>
<span class="tactic">intros</span> (<span class="id">b</span>, <span class="id">Hb</span>); <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_0_r">Zplus_0_r</a></span> <span class="kwd">in</span> <span class="id">Hb</span>.<br/>
<span class="id">exists</span> (<span class="id"><a href="compcert.flocq.Calc.Operations.html#Fmult">Fmult</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">b</span> (-1)) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">R</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_mult">F2R_mult</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#m">m</a></span>; <span class="tactic">rewrite</span> &lt;- <span class="id">Y</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_comm">Rmult_comm</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rdiv">Rdiv</a></span>; <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmult_1_r">Zmult_1_r</a></span>, <span class="id">Hb</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#mult_IZR">mult_IZR</a></span>.<br/>
<span class="tactic">simpl</span>; <span class="id">field</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_lt_reg_l">Rmult_lt_reg_l</a></span> <span class="kwd">with</span> (1 := <span class="id"><a href="http://coq.inria.fr/library/Coq.setoid_ring.RealField.html#Rlt_0_2">Rlt_0_2</a></span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_r">Rmult_0_r</a></span>, &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#mult_IZR">mult_IZR</a></span> 2), &lt;-<span class="id">Hb</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#radix_pos">radix_pos</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (-1+<span class="id"><a href="compcert.flocq.Core.Defs.html#Fexp">Fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">Z</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Operations.html#Fmult">Fmult</a></span>.<br/>
<span class="tactic">destruct</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>; <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_comm">Zplus_comm</a></span>, <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Cu">Cu</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub">Zminus</a></span>; <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#f_equal2">f_equal2</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fexp_m_eq_0">fexp_m_eq_0</a></span>:  (0 = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>)-1) &lt; <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>))+1)%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6234')">Proof with</div>
<div class="proofscript" id="proof6234">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">assert</span> ((<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>) - 1) &lt;= <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>))))%<span class="id">Z</span>.<br/>
2: <span class="tactic">omega</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>) <span class="kwd">as</span> (<span class="id">e</span>,<span class="id">He</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_right">Rabs_right</a></span> <span class="kwd">in</span> <span class="id">He</span>.<br/>
2: <span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">assert</span> (<span class="id">e</span> &lt;= <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id">e</span>)%<span class="id">Z</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#exp_small_round_0_pos">exp_small_round_0_pos</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">He</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#d_eq">d_eq</a></span>, <span class="id">Y</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#u_eq">u_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_UP_small_pos">round_UP_small_pos</a></span> <span class="kwd">with</span> (<span class="id">ex</span>:=<span class="id">e</span>); <span class="tactic">trivial</span>.<br/>
2: <span class="id">now</span> <span class="tactic">apply</span> <span class="id">He</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_bpow">mag_bpow</a></span>.<br/>
<span class="id">ring_simplify</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id">e</span> + 1 - 1)%<span class="id">Z</span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id">e</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id">e</span>).<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.exists_NE_">exists_NE_</a></span>; <span class="tactic">intros</span> <span class="id">V</span>.<br/>
<span class="id">contradict</span> <span class="id">V</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Even_beta">Even_beta</a></span>; <span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> (<span class="id">V</span> <span class="id">e</span>)); <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.valid_exp">valid_exp</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Fm">Fm</a></span>:  <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6235')">Proof.</div>
<div class="proofscript" id="proof6235">
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#d_ge_0">d_ge_0</a></span>); <span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">destruct</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#m_eq">m_eq</a></span> <span class="kwd">as</span> (<span class="id">g</span>,(<span class="id">Hg1</span>,<span class="id">Hg2</span>)); <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id">generic_format_F2R</span>' <span class="kwd">with</span> <span class="id">g</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>; <span class="tactic">rewrite</span> <span class="id">Hg2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#mag_m">mag_m</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fexp_d">Fexp_d</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Cd">Cd</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe_fexp">fexpe_fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>))).<br/>
<span class="tactic">omega</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">destruct</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#m_eq_0">m_eq_0</a></span> <span class="kwd">as</span> (<span class="id">g</span>,(<span class="id">Hg1</span>,<span class="id">Hg2</span>)); <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id">generic_format_F2R</span>' <span class="kwd">with</span> <span class="id">g</span>.<br/>
<span class="tactic">assumption</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>; <span class="tactic">rewrite</span> <span class="id">Hg2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#mag_m_0">mag_m_0</a></span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (1:=<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe_fexp">fexpe_fexp</a></span> <span class="id">_</span>).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#fexp_m_eq_0">fexp_m_eq_0</a></span> <span class="id">Y</span>).<br/>
<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Zm">Zm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">g</span> : <span class="id"><a href="compcert.flocq.Core.Defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span>, <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#g">g</a></span> = <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.m">m</a></span> /\ <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#g">g</a></span> /\ <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#g">g</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6236')">Proof with</div>
<div class="proofscript" id="proof6236">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#d_ge_0">d_ge_0</a></span>); <span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">destruct</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#m_eq">m_eq</a></span> <span class="kwd">as</span> (<span class="id">g</span>,(<span class="id">Hg1</span>,<span class="id">Hg2</span>)); <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#exists_even_fexp_lt">exists_even_fexp_lt</a></span>.<br/>
<span class="id">exists</span> <span class="id">g</span>; <span class="tactic">split</span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hg2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#mag_m">mag_m</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fexp_d">Fexp_d</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Cd">Cd</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe_fexp">fexpe_fexp</a></span>  (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>))).<br/>
<span class="tactic">omega</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">destruct</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#m_eq_0">m_eq_0</a></span> <span class="kwd">as</span> (<span class="id">g</span>,(<span class="id">Hg1</span>,<span class="id">Hg2</span>)); <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#exists_even_fexp_lt">exists_even_fexp_lt</a></span>.<br/>
<span class="id">exists</span> <span class="id">g</span>; <span class="tactic">split</span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hg2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#mag_m_0">mag_m_0</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_lt_trans">Z.le_lt_trans</a></span> <span class="kwd">with</span> (1:=<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe_fexp">fexpe_fexp</a></span> <span class="id">_</span>).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#fexp_m_eq_0">fexp_m_eq_0</a></span> <span class="id">Y</span>).<br/>
<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="DN_odd_d_aux">DN_odd_d_aux</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">z</span>, (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span> &lt;= <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#z">z</a></span> &lt; <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Defs.html#Rnd_DN_pt">Rnd_DN_pt</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#z">z</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6237')">Proof with</div>
<div class="proofscript" id="proof6237">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">z</span> <span class="id">Hz1</span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">z</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_DN_UP_pt_split">Rnd_DN_UP_pt_split</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hd">Hd</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hu">Hu</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">z</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="tactic">intros</span> <span class="id">Y</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_antisym">Rle_antisym</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
<span class="tactic">apply</span> <span class="id">Hz1</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span> ; <span class="tactic">elim</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_irrefl">Rlt_irrefl</a></span> <span class="id">z</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (1:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id">Hz1</span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (1:=<span class="id">Y</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="UP_odd_d_aux">UP_odd_d_aux</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">z</span>, (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span> &lt; <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#z">z</a></span> &lt;= <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Defs.html#Rnd_UP_pt">Rnd_UP_pt</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#z">z</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6238')">Proof with</div>
<div class="proofscript" id="proof6238">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">z</span> <span class="id">Hz1</span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span> <span class="id">z</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Round_pred.html#Rnd_DN_UP_pt_split">Rnd_DN_UP_pt_split</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hd">Hd</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hu">Hu</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span> <span class="id">z</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="tactic">intros</span> <span class="id">Y</span> ; <span class="tactic">elim</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_irrefl">Rlt_irrefl</a></span> <span class="id">z</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="kwd">with</span> (2:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">Hz1</span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (2:=<span class="id">Y</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
<span class="tactic">intros</span> <span class="id">Y</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_antisym">Rle_antisym</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hu">Hu</a></span>.<br/>
<span class="tactic">apply</span> <span class="id">Hz1</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="round_N_odd_pos">round_N_odd_pos</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.choice">choice</a></span>) (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.choice">choice</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6239')">Proof with</div>
<div class="proofscript" id="proof6239">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">set</span> (<span class="id">o</span>:=<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>).<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_EM">generic_format_EM</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>); <span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="tactic">replace</span> <span class="id">o</span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">unfold</span> <span class="id">o</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#generic_format_fexpe_fexp">generic_format_fexpe_fexp</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id">K1</span>:(<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span> &lt;= <span class="id">o</span>)%<span class="id">R</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_ge_generic">round_ge_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#generic_format_fexpe_fexp">generic_format_fexpe_fexp</a></span>, <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id">K2</span>:(<span class="id">o</span> &lt;= <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">R</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_le_generic">round_le_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#generic_format_fexpe_fexp">generic_format_fexpe_fexp</a></span>, <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hu">Hu</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hu">Hu</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id">P</span>:(<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span> &lt;&gt; <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.m">m</a></span> -&gt; <span class="id">o</span>=<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.m">m</a></span> -&gt; (<span class="kwd">forall</span> <span class="id">P</span>:<span class="kwd">Prop</span>, <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#P">P</a></span>))).<br/>
<span class="tactic">intros</span> <span class="id">Y1</span> <span class="id">Y2</span>.<br/>
<span class="tactic">assert</span> (<span class="id">H</span>:(<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span> <span class="id">o</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#round_odd_pt">round_odd_pt</a></span>...<br/>
<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">_</span>,<span class="id">H</span>); <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
<span class="id">absurd</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>=<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.m">m</a></span>)%<span class="id">R</span>; <span class="tactic">try</span> <span class="tactic">trivial</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">Y2</span>, <span class="id">H</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">_</span>,(<span class="id">k</span>,(<span class="id">Hk1</span>,(<span class="id">Hk2</span>,<span class="id">Hk3</span>)))).<br/>
<span class="tactic">destruct</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zm">Zm</a></span> <span class="kwd">as</span> (<span class="id">k</span>',(<span class="id">Hk</span>'1,(<span class="id">Hk</span>'2,<span class="id">Hk</span>'3))).<br/>
<span class="id">absurd</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hk3</span>, &lt;- <span class="id">Hk</span>'3.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical_unique">canonical_unique</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe">fexpe</a></span>...<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hk</span>'1, &lt;- <span class="id">Y2</span>.<br/>
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id">o</span> -&gt; (<span class="kwd">forall</span> <span class="id">P</span>:<span class="kwd">Prop</span>, <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#P">P</a></span>)).<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">assert</span> (<span class="id">H</span>:(<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span> <span class="id">o</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#round_odd_pt">round_odd_pt</a></span>...<br/>
<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">_</span>,<span class="id">H</span>); <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
<span class="id">absurd</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>); <span class="tactic">trivial</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">H</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">_</span>,(<span class="id">k</span>,(<span class="id">Hk1</span>,(<span class="id">Hk2</span>,<span class="id">Hk3</span>)))).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#exists_even_fexp_lt">exists_even_fexp_lt</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id">o</span>) <span class="kwd">as</span> (<span class="id">k</span>',(<span class="id">Hk</span>'1,(<span class="id">Hk</span>'2,<span class="id">Hk</span>'3))).<br/>
<span class="id">eexists</span>; <span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id">Y</span>.<br/>
<span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_lt_trans">Z.le_lt_trans</a></span> <span class="kwd">with</span> (1:=<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe_fexp">fexpe_fexp</a></span> <span class="id">_</span>).<br/>
<span class="tactic">omega</span>.<br/>
<span class="id">absurd</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hk3</span>, &lt;- <span class="id">Hk</span>'3.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical_unique">canonical_unique</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.fexpe">fexpe</a></span>...<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hk</span>'1, &lt;- <span class="id">Hk1</span>.<br/>
<span class="tactic">case</span> <span class="id">K1</span>; <span class="tactic">clear</span> <span class="id">K1</span>; <span class="tactic">intros</span> <span class="id">K1</span>.<br/>
2: <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">rewrite</span> &lt;- <span class="id">K1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
<span class="tactic">case</span> <span class="id">K2</span>; <span class="tactic">clear</span> <span class="id">K2</span>; <span class="tactic">intros</span> <span class="id">K2</span>.<br/>
2: <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">K2</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.Hu">Hu</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_or_lt">Rle_or_lt</a></span>  <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.m">m</a></span>); <span class="tactic">intros</span> <span class="id">Y</span>;[<span class="tactic">destruct</span> <span class="id">Y</span>|<span class="id">idtac</span>].<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#round_N_eq_DN_pt">round_N_eq_DN_pt</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>)...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#DN_odd_d_aux">DN_odd_d_aux</a></span>; <span class="tactic">split</span>; <span class="tactic">try</span> <span class="id">left</span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#UP_odd_d_aux">UP_odd_d_aux</a></span>; <span class="tactic">split</span>; <span class="tactic">try</span> <span class="id">left</span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">assert</span> (<span class="id">o</span> &lt;= (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span> + <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>) / 2)%<span class="id">R</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_le_generic">round_le_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fm">Fm</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H1</span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id">P</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_eq">Rlt_not_eq</a></span>.<br/>
<span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Ulp.html#round_N_eq_DN_pt">round_N_eq_DN_pt</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>)...<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">replace</span> <span class="id">o</span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.x">x</a></span>.<br/>
<span class="tactic">reflexivity</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>...<br/>
<span class="tactic">rewrite</span> <span class="id">H0</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fm">Fm</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#round_N_eq_UP_pt">round_N_eq_UP_pt</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#DN_odd_d_aux">DN_odd_d_aux</a></span>; <span class="tactic">split</span>; <span class="tactic">try</span> <span class="id">left</span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#UP_odd_d_aux">UP_odd_d_aux</a></span>; <span class="tactic">split</span>; <span class="tactic">try</span> <span class="id">left</span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">assert</span> ((<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span> + <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.u">u</a></span>) / 2 &lt;= <span class="id">o</span>)%<span class="id">R</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_ge_generic">round_ge_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Fm">Fm</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id">P</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Ulp.html#round_N_eq_UP_pt">round_N_eq_UP_pt</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux.d">d</a></span>)...<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop_aux">Odd_prop_aux</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Odd_prop">Odd_prop</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop.beta">beta</a></span> : <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix">radix</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop.Even_beta">Even_beta</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.beta">beta</a></span>)=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop.fexp">fexp</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop.fexpe">fexpe</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop.choice">choice</a></span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>-&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<br/>
<span class="kwd">Context</span> { <span class="id">valid_exp</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexp">fexp</a></span> }.<br/>
<span class="kwd">Context</span> { <span class="id">exists_NE_</span> : <span class="id"><a href="compcert.flocq.Core.Round_NE.html#Exists_NE">Exists_NE</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexp">fexp</a></span> }. <br/>
<span class="kwd">Context</span> { <span class="id">valid_expe</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexpe">fexpe</a></span> }.<br/>
<span class="kwd">Context</span> { <span class="id">exists_NE_e</span> : <span class="id"><a href="compcert.flocq.Core.Round_NE.html#Exists_NE">Exists_NE</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexpe">fexpe</a></span> }. <br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop.fexpe_fexp">fexpe_fexp</a></span>: <span class="kwd">forall</span> <span class="id">e</span>, (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#e">e</a></span> &lt;= <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#e">e</a></span> -2)%<span class="id">Z</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="round_N_odd">round_N_odd</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.choice">choice</a></span>) (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.choice">choice</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6240')">Proof with</div>
<div class="proofscript" id="proof6240">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#total_order_T">total_order_T</a></span> <span class="id">x</span> 0); <span class="tactic">intros</span> <span class="id">H</span>; [<span class="tactic">case</span> <span class="id">H</span>; <span class="tactic">clear</span> <span class="id">H</span>; <span class="tactic">intros</span> <span class="id">H</span> | <span class="id">idtac</span>].<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_involutive">Ropp_involutive</a></span> <span class="id">x</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#round_odd_opp">round_odd_opp</a></span>.<br/>
<span class="tactic">rewrite</span> 2!<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_N_opp">round_N_opp</a></span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical_generic_format">canonical_generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> (-<span class="id">x</span>))) <span class="kwd">as</span> (<span class="id">d</span>,(<span class="id">Hd1</span>,<span class="id">Hd2</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical_generic_format">canonical_generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span> (-<span class="id">x</span>))) <span class="kwd">as</span> (<span class="id">u</span>,(<span class="id">Hu1</span>,<span class="id">Hu2</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#round_N_odd_pos">round_N_odd_pos</a></span> <span class="kwd">with</span> <span class="id">d</span> <span class="id">u</span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hd1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hu1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">real</span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span>...<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical_generic_format">canonical_generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span>)) <span class="kwd">as</span> (<span class="id">d</span>,(<span class="id">Hd1</span>,<span class="id">Hd2</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical_generic_format">canonical_generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Zceil">Zceil</a></span> <span class="id">x</span>)) <span class="kwd">as</span> (<span class="id">u</span>,(<span class="id">Hu1</span>,<span class="id">Hu2</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#round_N_odd_pos">round_N_odd_pos</a></span> <span class="kwd">with</span> <span class="id">d</span> <span class="id">u</span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hd1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hu1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_prop">Odd_prop</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Odd_propbis">Odd_propbis</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_propbis.beta">beta</a></span> : <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix">radix</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_propbis.Even_beta">Even_beta</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span>)=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_propbis.emin">emin</a></span> <span class="id"><a name="Odd_propbis.prec">prec</a></span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_propbis.choice">choice</a></span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>-&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_propbis.prec_gt_1">prec_gt_1</a></span>: (1 &lt; <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>)%<span class="id">Z</span>.<br/>
<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="format">format</a></span> := (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>)).<br/>
<span class="kwd">Notation</span> <span class="id"><a name="round_flt">round_flt</a></span> :=(<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>) (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.choice">choice</a></span>)).<br/>
<span class="kwd">Notation</span> <span class="id"><a name="cexp_flt">cexp_flt</a></span> := (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>)).<br/>
<span class="kwd">Notation</span> <span class="id"><a name="fexpe">fexpe</a></span> <span class="id">k</span> := (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span>-<span class="id">k</span>) (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>+<span class="id">k</span>)).<br/>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">Zrnd_odd_plus</span>': <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">n</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>, <span class="id">exists</span> <span class="id">e</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>, (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#n">n</a></span>*<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#e">e</a></span>)%<span class="id">R</span> /\ (1 &lt;= <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#e">e</a></span>)%<span class="id">Z</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>+<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#y">y</a></span>)) = <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>+<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#y">y</a></span>))%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6241')">Proof.</div>
<div class="proofscript" id="proof6241">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> (<span class="id">n</span>,(<span class="id">e</span>,(<span class="id">H1</span>,<span class="id">H2</span>))).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd_plus">Zrnd_odd_plus</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H1</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span>.<br/>
2: <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#mult_IZR">mult_IZR</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor_IZR">Zfloor_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H1</span>, &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span>.<br/>
2: <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#mult_IZR">mult_IZR</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#Zfloor_IZR">Zfloor_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even_mul">Z.even_mul</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even_pow">Z.even_pow</a></span>.<br/>
2: <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.Even_beta">Even_beta</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_iff">Bool.orb_true_iff</a></span>; <span class="id">now</span> <span class="id">right</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="mag_round_odd">mag_round_odd</a></span>: <span class="kwd">forall</span> (<span class="id">x</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>),<br/>
&nbsp;(<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> &lt; <span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>)%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Raux.html#mag_val">mag_val</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_val">mag_val</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>))%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6242')">Proof with</div>
<div class="proofscript" id="proof6242">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span>.<br/>
<span class="tactic">assert</span> (<span class="id">T</span>:<span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_dec">Req_dec</a></span> <span class="id">x</span> 0); <span class="tactic">intros</span> <span class="id">Zx</span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span>; <span class="tactic">rewrite</span> <span class="id">Zx</span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span>...<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> <span class="id">x</span>) <span class="kwd">as</span> (<span class="id">e</span>,<span class="id">He</span>); <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_unique">mag_unique</a></span>; <span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#abs_round_ge_generic">abs_round_ge_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_format_bpow">FLT_format_bpow</a></span>...<br/>
<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">He</span>.<br/>
<span class="tactic">assert</span> (<span class="id">V</span>:<br/>
&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">x</span>) &lt;= <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> <span class="id">e</span>)%<span class="id">R</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#abs_round_le_generic">abs_round_le_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_format_bpow">FLT_format_bpow</a></span>...<br/>
<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>.<br/>
<span class="id">left</span>; <span class="id">now</span> <span class="tactic">apply</span> <span class="id">He</span>.<br/>
<span class="tactic">case</span> <span class="id">V</span>; <span class="tactic">try</span> <span class="id">easy</span>; <span class="tactic">intros</span> <span class="id">K</span>.<br/>
<span class="tactic">assert</span> (<span class="id">H0</span>:<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>) <span class="id">x</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#round_odd_pt">round_odd_pt</a></span>...<br/>
<span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">_</span>,<span class="id">HH</span>); <span class="tactic">destruct</span> <span class="id">HH</span> <span class="kwd">as</span> [<span class="id">H0</span>|(<span class="id">H0</span>,(<span class="id">g</span>,(<span class="id">Hg1</span>,(<span class="id">Hg2</span>,<span class="id">Hg3</span>))))].<br/>
<span class="id">absurd</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id">x</span> &lt; <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> <span class="id">e</span>)%<span class="id">R</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_not_lt">Rle_not_lt</a></span>; <span class="id">right</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>,<span class="id">K</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">He</span>.<br/>
<span class="id">pose</span> (<span class="id">gg</span>:=<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id">e</span>-<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span> (<span class="id">e</span>+1))) (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span> (<span class="id">e</span>+1))).<br/>
<span class="tactic">assert</span> (<span class="id">Y1</span>: <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="id">gg</span> = <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> <span class="id">e</span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">f_equal</span>; <span class="tactic">ring</span>.<br/>
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span> (<span class="id">e</span>+1) &lt;= <span class="id">e</span>)%<span class="id">Z</span>; [<span class="id">idtac</span>|<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>].<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_case_strong">Z.max_case_strong</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Y2</span>: <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>) <span class="id">gg</span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical">canonical</a></span>; <span class="tactic">rewrite</span> <span class="id">Y1</span>; <span class="tactic">unfold</span> <span class="id">gg</span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>; <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_bpow">mag_bpow</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id">Y3</span>: <span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id">gg</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id">g</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> (<span class="id"><a href="compcert.flocq.Calc.Operations.html#Fabs">Fabs</a></span> <span class="id">g</span>)).<br/>
2: <span class="tactic">destruct</span> <span class="id">g</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Operations.html#Fabs">Fabs</a></span>; <span class="id">now</span> <span class="tactic">simpl</span>.<br/>
<span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical_unique">canonical_unique</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>); <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">destruct</span> <span class="id">g</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Operations.html#Fabs">Fabs</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#canonical_abs">canonical_abs</a></span>; <span class="id">easy</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Y1</span>, <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_abs">F2R_abs</a></span>, &lt;- <span class="id">Hg1</span>,<span class="id">K</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Y4</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even">Z.even</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id">gg</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
<span class="tactic">unfold</span> <span class="id">gg</span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.even_pow">Z.even_pow</a></span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span> (<span class="id">e</span>+1) &lt; <span class="id">e</span>)%<span class="id">Z</span>; [<span class="id">idtac</span>|<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>].<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_case_strong">Z.max_case_strong</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>.<br/>
<span class="id">absurd</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hg3</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zeven_abs">Zeven_abs</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">Y3</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="fexp_round_odd">fexp_round_odd</a></span>: <span class="kwd">forall</span> (<span class="id">x</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>),<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#cexp_flt">cexp_flt</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#cexp_flt">cexp_flt</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#x">x</a></span>)%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6243')">Proof with</div>
<div class="proofscript" id="proof6243">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span>.<br/>
<span class="tactic">assert</span> (<span class="id">G0</span>:<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_exp">Valid_exp</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp_valid">FLT_exp_valid</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_dec">Req_dec</a></span> <span class="id">x</span> 0); <span class="tactic">intros</span> <span class="id">Zx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Zx</span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span>...<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_or_lt">Zle_or_lt</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>; <span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> <span class="id">x</span>) <span class="kwd">as</span> (<span class="id">e</span>,<span class="id">He</span>); <span class="tactic">simpl</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="tactic">at</span> 4.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_r">Z.max_r</a></span>.<br/>
2: <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_r">Z.max_r</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id">G</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">x</span>) = <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span>).<br/>
<span class="tactic">assert</span> (<span class="id">G1</span>: (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">x</span>) &lt;= <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span>)%<span class="id">R</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#abs_round_le_generic">abs_round_le_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id">generic_format_bpow</span>'...<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_r">Z.max_r</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>.<br/>
<span class="id">left</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> <span class="id">e</span>).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">He</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_le">bpow_le</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id">G2</span>: (0 &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">x</span>))%<span class="id">R</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos">Rabs_pos</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id">G3</span>: (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">x</span>) &lt;&gt; 0)%<span class="id">R</span>).<br/>
<span class="tactic">assert</span> (<span class="id">H0</span>:<span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>) <span class="id">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#round_odd_pt">round_odd_pt</a></span>...<br/>
<span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">_</span>,<span class="id">H0</span>); <span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">H0</span>|(<span class="id">_</span>,(<span class="id">g</span>,(<span class="id">Hg1</span>,(<span class="id">Hg2</span>,<span class="id">Hg3</span>))))].<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>; <span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id">e</span>-1)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">He</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hg1</span>; <span class="tactic">intros</span> <span class="id">K</span>.<br/>
<span class="id">contradict</span> <span class="id">Hg3</span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id">g</span>) <span class="kwd">with</span> 0%<span class="id">Z</span>.<br/>
<span class="id">easy</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.eq_dec">Z.eq_dec</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id">g</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span>); <span class="tactic">intros</span> <span class="id">W</span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="id">contradict</span> <span class="id">K</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_no_R0">Rabs_no_R0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_neq_0">F2R_neq_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_antisym">Rle_antisym</a></span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Ulp.html#succ">succ</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis.prec">prec</a></span>) 0).<br/>
<span class="id">right</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#succ_0">succ_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#ulp_FLT_small">ulp_FLT_small</a></span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#succ_le_lt">succ_le_lt</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_0">generic_format_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_abs">generic_format_abs</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="tactic">case</span> <span class="id">G2</span>; [<span class="id">easy</span>|<span class="tactic">intros</span>; <span class="id">now</span> <span class="id">contradict</span> <span class="id">G3</span>].<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_abs">mag_abs</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">G</span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_bpow">mag_bpow</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">zarith</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#mag_round_odd">mag_round_odd</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Prop.Round_odd.html#Odd_propbis">Odd_propbis</a></span>.<br/>
<br/>
<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
