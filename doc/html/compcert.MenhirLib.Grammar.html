
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Grammar</title>
<meta name="description" content="Documentation of Coq module Grammar" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Grammar</h1>
<div class="coq">
<br/>
<span class="id">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span> <span class="kwd">Syntax</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Structures.Orders.html">Orders</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.MenhirLib.Alphabet.html">Alphabet</a></span>.<br/>
<br/>
<div class="doc">The terminal non-terminal alphabets of the grammar. *</div>
<span class="kwd">Module</span> <span class="kwd">Type</span> <span class="id"><a name="Alphs">Alphs</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameters</span> <span class="id"><a name="Alphs.terminal">terminal</a></span> <span class="id"><a name="Alphs.nonterminal">nonterminal</a></span> : <span class="kwd">Type</span>.<br/>
&nbsp;&nbsp;<span class="id">Declare</span> <span class="kwd">Instance</span> <span class="id"><a name="Alphs.TerminalAlph">TerminalAlph</a></span>: <span class="id"><a href="compcert.MenhirLib.Alphabet.html#Alphabet">Alphabet</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#Alphs.terminal">terminal</a></span>.<br/>
&nbsp;&nbsp;<span class="id">Declare</span> <span class="kwd">Instance</span> <span class="id"><a name="Alphs.NonTerminalAlph">NonTerminalAlph</a></span>: <span class="id"><a href="compcert.MenhirLib.Alphabet.html#Alphabet">Alphabet</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#Alphs.nonterminal">nonterminal</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#Alphs">Alphs</a></span>.<br/>
<br/>
<div class="doc">Definition of the alphabet of symbols, given the alphabet of terminals
    and the alphabet of non terminals *</div>
<span class="kwd">Module</span> <span class="id"><a name="Symbol">Symbol</a></span>(<span class="kwd">Import</span> <span class="id">A</span>:<span class="id"><a href="compcert.MenhirLib.Grammar.html#Alphs">Alphs</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="Symbol.symbol">symbol</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="Symbol.T">T</a></span>: <span class="id"><a href="compcert.MenhirLib.Grammar.html#A.terminal">terminal</a></span> -&gt; <span class="id"><a href="compcert.MenhirLib.Grammar.html#symbol">symbol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a name="Symbol.NT">NT</a></span>: <span class="id"><a href="compcert.MenhirLib.Grammar.html#A.nonterminal">nonterminal</a></span> -&gt; <span class="id"><a href="compcert.MenhirLib.Grammar.html#symbol">symbol</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Program</span> <span class="kwd">Instance</span> <span class="id"><a name="Symbol.SymbolAlph">SymbolAlph</a></span> : <span class="id"><a href="compcert.MenhirLib.Alphabet.html#Alphabet">Alphabet</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#Symbol.symbol">symbol</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id"><a href="compcert.MenhirLib.Alphabet.html#AlphabetComparable">AlphabetComparable</a></span> := {| <span class="id"><a href="compcert.MenhirLib.Alphabet.html#Build_Comparable">compare</a></span> := <span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#x">x</a></span>, <span class="id"><a href="compcert.MenhirLib.Grammar.html#y">y</a></span> <span class="kwd">return</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#comparison">comparison</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.MenhirLib.Grammar.html#Symbol.T">T</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.MenhirLib.Grammar.html#Symbol.NT">NT</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.MenhirLib.Grammar.html#Symbol.NT">NT</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.MenhirLib.Grammar.html#Symbol.T">T</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.MenhirLib.Grammar.html#Symbol.T">T</a></span> <span class="id">x</span>, <span class="id"><a href="compcert.MenhirLib.Grammar.html#Symbol.T">T</a></span> <span class="id">y</span> =&gt; <span class="id"><a href="compcert.MenhirLib.Alphabet.html#compare">compare</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#x">x</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#y">y</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.MenhirLib.Grammar.html#Symbol.NT">NT</a></span> <span class="id">x</span>, <span class="id"><a href="compcert.MenhirLib.Grammar.html#Symbol.NT">NT</a></span> <span class="id">y</span> =&gt; <span class="id"><a href="compcert.MenhirLib.Alphabet.html#compare">compare</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#x">x</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#y">y</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span> |};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.MenhirLib.Alphabet.html#AlphabetFinite">AlphabetFinite</a></span> := {| <span class="id"><a href="compcert.MenhirLib.Alphabet.html#Build_Finite">all_list</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#Symbol.T">T</a></span> <span class="id"><a href="compcert.MenhirLib.Alphabet.html#all_list">all_list</a></span>++<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#Symbol.NT">NT</a></span> <span class="id"><a href="compcert.MenhirLib.Alphabet.html#all_list">all_list</a></span> |} }.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6443')">Next Obligation.</div>
<div class="proofscript" id="proof6443">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">intuition</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.MenhirLib.Alphabet.html#compare_antisym">compare_antisym</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<div class="toggleproof" onclick="toggleDisplay('proof6444')">Next Obligation.</div>
<div class="proofscript" id="proof6444">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">destruct</span> <span class="id">z</span>; <span class="tactic">intuition</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> (<span class="id"><a href="compcert.MenhirLib.Alphabet.html#compare_trans">compare_trans</a></span> <span class="id">_</span> <span class="id">t0</span>); <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> (<span class="id"><a href="compcert.MenhirLib.Alphabet.html#compare_trans">compare_trans</a></span> <span class="id">_</span> <span class="id">n0</span>); <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<div class="toggleproof" onclick="toggleDisplay('proof6445')">Next Obligation.</div>
<div class="proofscript" id="proof6445">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.MenhirLib.Alphabet.html#compare_eq">compare_eq</a></span> <span class="id">t</span> <span class="id">t0</span>); <span class="id">now</span> <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.MenhirLib.Alphabet.html#compare_eq">compare_eq</a></span> <span class="id">n</span> <span class="id">n0</span>); <span class="id">now</span> <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;Defined.</div>
<div class="toggleproof" onclick="toggleDisplay('proof6446')">Next Obligation.</div>
<div class="proofscript" id="proof6446">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; [<span class="id">left</span> | <span class="id">right</span>]; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.MenhirLib.Alphabet.html#all_list_forall">all_list_forall</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#Symbol">Symbol</a></span>.<br/>
<br/>
<div class="doc">A curryfied function with multiple parameters *</div>
<span class="kwd">Definition</span> <span class="id"><a name="arrows_right">arrows_right</a></span>: <span class="kwd">Type</span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="kwd">Type</span> -&gt; <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#fold_right">fold_right</a></span> (<span class="kwd">fun</span> <span class="id">A</span> <span class="id">B</span> =&gt; <span class="id"><a href="compcert.MenhirLib.Grammar.html#A">A</a></span> -&gt; <span class="id"><a href="compcert.MenhirLib.Grammar.html#B">B</a></span>).<br/>
<br/>
<span class="kwd">Module</span> <span class="kwd">Type</span> <span class="id"><a name="T">T</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Include</span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#Alphs">Alphs</a></span> &lt;+ <span class="id"><a href="compcert.MenhirLib.Grammar.html#Symbol">Symbol</a></span>.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">symbol_semantic_type</span></span> maps a symbols to the type of its semantic
     values. *</div>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="T.symbol_semantic_type">symbol_semantic_type</a></span>: <span class="id"><a href="compcert.MenhirLib.Grammar.html#T.symbol">symbol</a></span> -&gt; <span class="kwd">Type</span>.<br/>
<br/>
<div class="doc">The type of productions identifiers *</div>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="T.production">production</a></span> : <span class="kwd">Type</span>.<br/>
&nbsp;&nbsp;<span class="id">Declare</span> <span class="kwd">Instance</span> <span class="id"><a name="T.ProductionAlph">ProductionAlph</a></span> : <span class="id"><a href="compcert.MenhirLib.Alphabet.html#Alphabet">Alphabet</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#T.production">production</a></span>.<br/>
<br/>
<div class="doc">Accessors for productions: left hand side, right hand side,
     and semantic action. The semantic actions are given in the form
     of curryfied functions, that take arguments in the reverse order. *</div>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="T.prod_lhs">prod_lhs</a></span>: <span class="id"><a href="compcert.MenhirLib.Grammar.html#T.production">production</a></span> -&gt; <span class="id"><a href="compcert.MenhirLib.Grammar.html#T.nonterminal">nonterminal</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="T.prod_rhs_rev">prod_rhs_rev</a></span>: <span class="id"><a href="compcert.MenhirLib.Grammar.html#T.production">production</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#T.symbol">symbol</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="T.prod_action">prod_action</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">p</span>:<span class="id"><a href="compcert.MenhirLib.Grammar.html#T.production">production</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.MenhirLib.Grammar.html#arrows_right">arrows_right</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.MenhirLib.Grammar.html#T.symbol_semantic_type">symbol_semantic_type</a></span> (<span class="id"><a href="compcert.MenhirLib.Grammar.html#T.NT">NT</a></span> (<span class="id"><a href="compcert.MenhirLib.Grammar.html#T.prod_lhs">prod_lhs</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#p">p</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#T.symbol_semantic_type">symbol_semantic_type</a></span> (<span class="id"><a href="compcert.MenhirLib.Grammar.html#T.prod_rhs_rev">prod_rhs_rev</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#p">p</a></span>)).<br/>
<br/>
<div class="doc">Tokens are the atomic elements of the input stream: they contain
     a terminal and a semantic value of the type corresponding to this
     terminal. </div>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="T.token">token</a></span> : <span class="kwd">Type</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="T.token_term">token_term</a></span> : <span class="id"><a href="compcert.MenhirLib.Grammar.html#T.token">token</a></span> -&gt; <span class="id"><a href="compcert.MenhirLib.Grammar.html#T.terminal">terminal</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="T.token_sem">token_sem</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tok</span> : <span class="id"><a href="compcert.MenhirLib.Grammar.html#T.token">token</a></span>, <span class="id"><a href="compcert.MenhirLib.Grammar.html#T.symbol_semantic_type">symbol_semantic_type</a></span> (<span class="id"><a href="compcert.MenhirLib.Grammar.html#T.T">T</a></span> (<span class="id"><a href="compcert.MenhirLib.Grammar.html#T.token_term">token_term</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#tok">tok</a></span>)).<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#T">T</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="Defs">Defs</a></span>(<span class="kwd">Import</span> <span class="id">G</span>:<span class="id"><a href="compcert.MenhirLib.Grammar.html#T">T</a></span>).<br/>
<br/>
<div class="doc">The semantics of a grammar is defined in two stages. First, we
    define the notion of parse tree, which represents one way of
    recognizing a word with a head symbol. Semantic values are stored
    at the leaves.
      This notion is defined in two mutually recursive flavours:
    either for a single head symbol, or for a list of head symbols. </div>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="Defs.parse_tree">parse_tree</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">head_symbol</span>:<span class="id"><a href="compcert.MenhirLib.Grammar.html#G.symbol">symbol</a></span>) (<span class="id">word</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#G.token">token</a></span>), <span class="kwd">Type</span> :=<br/>
<br/>
<div class="doc">Parse tree for a terminal symbol. </div>
&nbsp;&nbsp;| <span class="id"><a name="Defs.Terminal_pt">Terminal_pt</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">tok</span>:<span class="id"><a href="compcert.MenhirLib.Grammar.html#G.token">token</a></span>), <span class="id"><a href="compcert.MenhirLib.Grammar.html#parse_tree">parse_tree</a></span> (<span class="id"><a href="compcert.MenhirLib.Grammar.html#G.T">T</a></span> (<span class="id"><a href="compcert.MenhirLib.Grammar.html#G.token_term">token_term</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#tok">tok</a></span>)) [<span class="id"><a href="compcert.MenhirLib.Grammar.html#tok">tok</a></span>]<br/>
<br/>
<div class="doc">Parse tree for a non-terminal symbol.  </div>
&nbsp;&nbsp;| <span class="id"><a name="Defs.Non_terminal_pt">Non_terminal_pt</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">prod</span>:<span class="id"><a href="compcert.MenhirLib.Grammar.html#G.production">production</a></span>) {<span class="id">word</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#G.token">token</a></span>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.MenhirLib.Grammar.html#parse_tree_list">parse_tree_list</a></span> (<span class="id"><a href="compcert.MenhirLib.Grammar.html#G.prod_rhs_rev">prod_rhs_rev</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#prod">prod</a></span>) <span class="id"><a href="compcert.MenhirLib.Grammar.html#word">word</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.MenhirLib.Grammar.html#parse_tree">parse_tree</a></span> (<span class="id"><a href="compcert.MenhirLib.Grammar.html#G.NT">NT</a></span> (<span class="id"><a href="compcert.MenhirLib.Grammar.html#G.prod_lhs">prod_lhs</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#prod">prod</a></span>)) <span class="id"><a href="compcert.MenhirLib.Grammar.html#word">word</a></span><br/>
<br/>
&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="Defs.parse_tree_list">parse_tree_list</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">head_symbols_rev</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#G.symbol">symbol</a></span>) (<span class="id">word</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#G.token">token</a></span>), <span class="kwd">Type</span> :=<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="Defs.Nil_ptl">Nil_ptl</a></span>: <span class="id"><a href="compcert.MenhirLib.Grammar.html#parse_tree_list">parse_tree_list</a></span> [] []<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="Defs.Cons_ptl">Cons_ptl</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">head_symbolsq</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#G.symbol">symbol</a></span>} {<span class="id">wordq</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#G.token">token</a></span>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.MenhirLib.Grammar.html#parse_tree_list">parse_tree_list</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#head_symbolsq">head_symbolsq</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#wordq">wordq</a></span> -&gt;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">head_symbolt</span>:<span class="id"><a href="compcert.MenhirLib.Grammar.html#G.symbol">symbol</a></span>} {<span class="id">wordt</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#G.token">token</a></span>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.MenhirLib.Grammar.html#parse_tree">parse_tree</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#head_symbolt">head_symbolt</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#wordt">wordt</a></span> -&gt;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.MenhirLib.Grammar.html#parse_tree_list">parse_tree_list</a></span> (<span class="id"><a href="compcert.MenhirLib.Grammar.html#head_symbolt">head_symbolt</a></span>::<span class="id"><a href="compcert.MenhirLib.Grammar.html#head_symbolsq">head_symbolsq</a></span>) (<span class="id"><a href="compcert.MenhirLib.Grammar.html#wordq">wordq</a></span>++<span class="id"><a href="compcert.MenhirLib.Grammar.html#wordt">wordt</a></span>).<br/>
<br/>
<div class="doc">We can now finish the definition of the semantics of a grammar,
    by giving the semantic value assotiated with a parse tree. </div>
&nbsp;&nbsp;<span class="kwd">Fixpoint</span> <span class="id"><a name="Defs.pt_sem">pt_sem</a></span> {<span class="id">head_symbol</span> <span class="id">word</span>} (<span class="id">tree</span>:<span class="id"><a href="compcert.MenhirLib.Grammar.html#Defs.parse_tree">parse_tree</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#head_symbol">head_symbol</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#word">word</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.MenhirLib.Grammar.html#G.symbol_semantic_type">symbol_semantic_type</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#head_symbol">head_symbol</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#tree">tree</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.MenhirLib.Grammar.html#Defs.Terminal_pt">Terminal_pt</a></span> <span class="id">tok</span> =&gt; <span class="id"><a href="compcert.MenhirLib.Grammar.html#G.token_sem">token_sem</a></span> <span class="id">tok</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.MenhirLib.Grammar.html#Defs.Non_terminal_pt">Non_terminal_pt</a></span> <span class="id">prod</span> <span class="id">ptl</span> =&gt; <span class="id"><a href="compcert.MenhirLib.Grammar.html#ptl_sem">ptl_sem</a></span> <span class="id">ptl</span> (<span class="id"><a href="compcert.MenhirLib.Grammar.html#G.prod_action">prod_action</a></span> <span class="id">prod</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="Defs.ptl_sem">ptl_sem</a></span> {<span class="id">A</span> <span class="id">head_symbols</span> <span class="id">word</span>} (<span class="id">tree</span>:<span class="id"><a href="compcert.MenhirLib.Grammar.html#Defs.parse_tree_list">parse_tree_list</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#head_symbols">head_symbols</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#word">word</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.MenhirLib.Grammar.html#arrows_right">arrows_right</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#A">A</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#G.symbol_semantic_type">symbol_semantic_type</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#head_symbols">head_symbols</a></span>) -&gt; <span class="id"><a href="compcert.MenhirLib.Grammar.html#A">A</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#tree">tree</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.MenhirLib.Grammar.html#Defs.Nil_ptl">Nil_ptl</a></span> =&gt; <span class="kwd">fun</span> <span class="id">act</span> =&gt; <span class="id"><a href="compcert.MenhirLib.Grammar.html#act">act</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.MenhirLib.Grammar.html#Defs.Cons_ptl">Cons_ptl</a></span> <span class="id">q</span> <span class="id">t</span> =&gt; <span class="kwd">fun</span> <span class="id">act</span> =&gt; <span class="id"><a href="compcert.MenhirLib.Grammar.html#ptl_sem">ptl_sem</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.MenhirLib.Grammar.html#act">act</a></span> (<span class="id"><a href="compcert.MenhirLib.Grammar.html#pt_sem">pt_sem</a></span> <span class="id">t</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Fixpoint</span> <span class="id"><a name="Defs.pt_size">pt_size</a></span> {<span class="id">head_symbol</span> <span class="id">word</span>} (<span class="id">tree</span>:<span class="id"><a href="compcert.MenhirLib.Grammar.html#Defs.parse_tree">parse_tree</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#head_symbol">head_symbol</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#word">word</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#tree">tree</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.MenhirLib.Grammar.html#Defs.Terminal_pt">Terminal_pt</a></span> <span class="id">_</span> =&gt; 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.MenhirLib.Grammar.html#Defs.Non_terminal_pt">Non_terminal_pt</a></span> <span class="id">_</span> <span class="id">l</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="compcert.MenhirLib.Grammar.html#ptl_size">ptl_size</a></span> <span class="id">l</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="Defs.ptl_size">ptl_size</a></span> {<span class="id">head_symbols</span> <span class="id">word</span>} (<span class="id">tree</span>:<span class="id"><a href="compcert.MenhirLib.Grammar.html#Defs.parse_tree_list">parse_tree_list</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#head_symbols">head_symbols</a></span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#word">word</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#tree">tree</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.MenhirLib.Grammar.html#Defs.Nil_ptl">Nil_ptl</a></span> =&gt; 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.MenhirLib.Grammar.html#Defs.Cons_ptl">Cons_ptl</a></span> <span class="id">q</span> <span class="id">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.MenhirLib.Grammar.html#pt_size">pt_size</a></span> <span class="id">t</span> + <span class="id"><a href="compcert.MenhirLib.Grammar.html#ptl_size">ptl_size</a></span> <span class="id">q</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.MenhirLib.Grammar.html#Defs">Defs</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
