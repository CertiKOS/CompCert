
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module ExtendsFootprint</title>
<meta name="description" content="Documentation of Coq module ExtendsFootprint" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module ExtendsFootprint</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Axioms.html">Axioms</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Events.html">Events</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.cklr.CKLR.html">CKLR</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.cklr.Inject.html">Inject</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.cklr.InjectFootprint.html">InjectFootprint</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.cklr.Extends.html">Extends</a></span>.<br/>
<br/>
<br/>
<h1> <span class="bracket"><span class="id">Mem.extends</span></span> as a CKLR with footprint </h1>
<br/>
<h2> Worlds </h2>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="extp_world">extp_world</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="extpw">extpw</a></span> (<span class="id">m1</span> <span class="id">m2</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="extp_max_perm_decrease">extp_max_perm_decrease</a></span> (<span class="id">m1</span> <span class="id">m2</span> <span class="id">m1</span>': <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#m2">m2</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id">m1</span>' <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#b">b</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#ofs">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#m1">m1</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#b">b</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#ofs">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#p">p</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="extp_acc">extp_acc</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Definitions.html#relation">relation</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#extp_world">extp_world</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="extp_acc_intro">extp_acc_intro</a></span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">m1</span>' <span class="id">m2</span>':<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cklr.ExtendsFootprint.html#extp_max_perm_decrease">extp_max_perm_decrease</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#m1">m1</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#m2">m2</a></span> <span class="id">m1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on">Mem.unchanged_on</a></span> (<span class="id"><a href="compcert.common.Events.html#loc_out_of_bounds">loc_out_of_bounds</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#m1">m1</a></span>) <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#m2">m2</a></span> <span class="id">m2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cklr.ExtendsFootprint.html#extp_acc">extp_acc</a></span> (<span class="id"><a href="compcert.cklr.ExtendsFootprint.html#extpw">extpw</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#m1">m1</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#m2">m2</a></span>) (<span class="id"><a href="compcert.cklr.ExtendsFootprint.html#extpw">extpw</a></span> <span class="id">m1</span>' <span class="id">m2</span>').<br/>
<br/>
<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="extp_acc_preorder">extp_acc_preorder</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.RelationClasses.html#PreOrder">PreOrder</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#extp_acc">extp_acc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2348')">Proof.</div>
<div class="proofscript" id="proof2348">
&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">intros</span> [<span class="id">m1</span> <span class="id">m2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">red</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_refl">Mem.unchanged_on_refl</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">intros</span> <span class="id">_</span> <span class="id">_</span> [<span class="id">m1</span>'' <span class="id">m2</span>''] [<span class="id">m1</span> <span class="id">m2</span> <span class="id">m1</span>' <span class="id">m2</span>'] <span class="id">H</span>'. <span class="id">inv</span> <span class="id">H</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#extp_max_perm_decrease">extp_max_perm_decrease</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_unchanged_on">Mem.valid_block_unchanged_on</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.cklr.InjectFootprint.html#mem_unchanged_on_trans_implies_valid">mem_unchanged_on_trans_implies_valid</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Events.html#loc_out_of_bounds">loc_out_of_bounds</a></span>, <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#extp_max_perm_decrease">extp_max_perm_decrease</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="extp_match_mem">extp_match_mem</a></span>: <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#extp_world">extp_world</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Definitions.html#relation">relation</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="extp_match_mem_intro">extp_match_mem_intro</a></span> <span class="id">m1</span> <span class="id">m2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">RIntro</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#m1">m1</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#m2">m2</a></span>) (<span class="id"><a href="compcert.cklr.ExtendsFootprint.html#extp_match_mem">extp_match_mem</a></span> (<span class="id"><a href="compcert.cklr.ExtendsFootprint.html#extpw">extpw</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#m1">m1</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#m2">m2</a></span>)) <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#m1">m1</a></span> <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#m2">m2</a></span>.<br/>
<br/>
<span class="id">Existing</span> <span class="kwd">Instance</span> <span class="id">extp_match_mem_intro</span>.<br/>
<br/>
<h2> Definition </h2>
<br/>
<span class="kwd">Program</span> <span class="kwd">Definition</span> <span class="id"><a name="extp">extp</a></span>: <span class="id"><a href="compcert.cklr.CKLR.html#cklr">cklr</a></span> :=<br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cklr.CKLR.html#Build_cklr">world</a></span> := <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#extp_world">extp_world</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">wacc</span> := <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#extp_acc">extp_acc</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mi</span> <span class="id">w</span> := <span class="id"><a href="compcert.common.Values.html#inject_id">inject_id</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_mem</span> := <span class="id"><a href="compcert.cklr.ExtendsFootprint.html#extp_match_mem">extp_match_mem</a></span>;<br/>
&nbsp;&nbsp;|}.<br/>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2349')">Next Obligation.</div>
<div class="proofscript" id="proof2349">
&nbsp;&nbsp;<span class="id">rauto</span>.<br/>
Qed.</div>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2350')">Next Obligation.</div>
<div class="proofscript" id="proof2350">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">inject_id_wf</span>.<br/>
Qed.</div>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2351')">Next Obligation.</div>
<div class="proofscript" id="proof2351">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> [<span class="id">m1</span> <span class="id">m2</span> <span class="id">Hm</span>] <span class="id">lo</span> <span class="id">hi</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Mem.alloc</span> <span class="id">m1</span> <span class="id">lo</span> <span class="id">hi</span>) <span class="kwd">as</span> [<span class="id">m1</span>' <span class="id">b1</span>] <span class="id">eqn</span>:<span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">Mem.alloc_extends</span> <span class="kwd">as</span> (<span class="id">m2</span>' &amp; <span class="id">Hm2</span>' &amp; <span class="id">Hm</span>'); <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hm2</span>'.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">extpw</span> <span class="id">m1</span>' <span class="id">m2</span>'). <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">red</span>. <span class="tactic">intros</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">pe</span> <span class="id">Hb</span> <span class="id">Hofs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Mem.perm_alloc_4</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Mem.fresh_block_alloc</span> <span class="kwd">in</span> <span class="id">Hb</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">Mem.alloc_unchanged_on</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">rauto</span>.<br/>
Qed.</div>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2352')">Next Obligation.</div>
<div class="proofscript" id="proof2352">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> [<span class="id">m1</span> <span class="id">m2</span> <span class="id">Hm</span>] [[<span class="id">b</span> <span class="id">lo</span>] <span class="id">hi</span>] <span class="id">r2</span> <span class="id">Hr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">coreflexivity</span> <span class="kwd">in</span> <span class="id">Hr</span>; <span class="tactic">subst</span>. <span class="tactic">simpl</span>. <span class="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Mem.free</span> <span class="id">m1</span> <span class="id">b</span> <span class="id">lo</span> <span class="id">hi</span>) <span class="kwd">as</span> [<span class="id">m1</span>'|] <span class="id">eqn</span>:<span class="id">Hm1</span>'; [|<span class="id">constructor</span>].<br/>
&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">Mem.free_parallel_extends</span> <span class="kwd">as</span> (<span class="id">m2</span>' &amp; <span class="id">Hm2</span>' &amp; <span class="id">Hm</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hm2</span>'. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">extpw</span> <span class="id">m1</span>' <span class="id">m2</span>'). <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">red</span>. <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id">Mem.perm_free_3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">Mem.free_unchanged_on</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">Hi</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Mem.perm_cur_max</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Mem.perm_implies</span> <span class="kwd">with</span> (<span class="id">p1</span> := <span class="id">Freeable</span>); [ | <span class="id">constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Mem.free_range_perm</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">constructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2353')">Next Obligation.</div>
<div class="proofscript" id="proof2353">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">_</span> <span class="id">chunk</span> <span class="id">_</span> <span class="id">_</span> [<span class="id">m1</span> <span class="id">m2</span> <span class="id">Hm</span>] [<span class="id">b</span> <span class="id">ofs</span>] <span class="id">p2</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">coreflexivity</span> <span class="kwd">in</span> <span class="id">Hp</span>; <span class="tactic">subst</span>. <span class="tactic">simpl</span>. <span class="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Mem.load</span> <span class="id">chunk</span> <span class="id">m1</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="kwd">as</span> [<span class="id">v1</span>|] <span class="id">eqn</span>:<span class="id">Hv1</span>; [|<span class="id">constructor</span>].<br/>
&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">Mem.load_extends</span> <span class="kwd">as</span> (<span class="id">v2</span> &amp; <span class="id">Hv2</span> &amp; <span class="id">Hv</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hv2</span>. <span class="tactic">rewrite</span> <span class="id">val_inject_lessdef_eqrel</span>. <span class="id">rauto</span>.<br/>
Qed.</div>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2354')">Next Obligation.</div>
<div class="proofscript" id="proof2354">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">_</span> <span class="id">chunk</span> <span class="id">_</span> <span class="id">_</span> [<span class="id">m1</span> <span class="id">m2</span> <span class="id">Hm</span>] [<span class="id">b</span> <span class="id">ofs</span>] <span class="id">p2</span> <span class="id">Hp</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">Hv</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">coreflexivity</span> <span class="kwd">in</span> <span class="id">Hp</span>; <span class="tactic">subst</span>. <span class="tactic">simpl</span>. <span class="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Mem.store</span> <span class="id">chunk</span> <span class="id">m1</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v1</span>) <span class="kwd">as</span> [<span class="id">m1</span>'|] <span class="id">eqn</span>:<span class="id">Hm1</span>'; [|<span class="id">constructor</span>].<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">val_inject_lessdef</span> <span class="kwd">in</span> <span class="id">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">Mem.store_within_extends</span> <span class="kwd">as</span> (<span class="id">m2</span>' &amp; <span class="id">Hm2</span>' &amp; <span class="id">Hm</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hm2</span>'. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">extpw</span> <span class="id">m1</span>' <span class="id">m2</span>'). <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">red</span>. <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id">Mem.perm_store_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">Mem.store_unchanged_on</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">Hi</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Mem.perm_cur_max</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Mem.perm_implies</span> <span class="kwd">with</span> (<span class="id">p1</span> := <span class="id">Writable</span>); [ | <span class="id">constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Mem.store_valid_access_3</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">constructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2355')">Next Obligation.</div>
<div class="proofscript" id="proof2355">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> [<span class="id">m1</span> <span class="id">m2</span> <span class="id">Hm</span>] [<span class="id">b</span> <span class="id">ofs</span>] <span class="id">p2</span> <span class="id">Hp</span> <span class="id">sz</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">coreflexivity</span> <span class="kwd">in</span> <span class="id">Hp</span>; <span class="tactic">subst</span>. <span class="tactic">simpl</span>. <span class="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Mem.loadbytes</span> <span class="id">m1</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">sz</span>) <span class="kwd">as</span> [<span class="id">v1</span>|] <span class="id">eqn</span>:<span class="id">Hv1</span>; [|<span class="id">constructor</span>].<br/>
&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">Mem.loadbytes_extends</span> <span class="kwd">as</span> (<span class="id">v2</span> &amp; <span class="id">Hv2</span> &amp; <span class="id">Hv</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hv2</span>. <span class="id">rauto</span>.<br/>
Qed.</div>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2356')">Next Obligation.</div>
<div class="proofscript" id="proof2356">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> [<span class="id">m1</span> <span class="id">m2</span> <span class="id">Hm</span>] [<span class="id">b1</span> <span class="id">ofs1</span>] <span class="id">p2</span> <span class="id">Hp</span> <span class="id">vs1</span> <span class="id">vs2</span> <span class="id">Hv</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">coreflexivity</span> <span class="kwd">in</span> <span class="id">Hp</span>. <span class="tactic">subst</span>. <span class="tactic">simpl</span>. <span class="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Mem.storebytes</span> <span class="id">m1</span> <span class="id">b1</span> <span class="id">ofs1</span> <span class="id">vs1</span>) <span class="kwd">as</span> [<span class="id">m1</span>'|] <span class="id">eqn</span>:<span class="id">Hm1</span>'; [|<span class="id">constructor</span>].<br/>
&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">Mem.storebytes_within_extends</span> <span class="kwd">as</span> (<span class="id">m2</span>' &amp; <span class="id">Hm2</span>' &amp; <span class="id">Hm</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hm2</span>'. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">extpw</span> <span class="id">m1</span>' <span class="id">m2</span>'). <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">red</span>. <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id">Mem.perm_storebytes_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">Mem.storebytes_unchanged_on</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">Hi</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Mem.perm_cur_max</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Mem.perm_implies</span> <span class="kwd">with</span> (<span class="id">p1</span> := <span class="id">Writable</span>); [ | <span class="id">constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Mem.storebytes_range_perm</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hv</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id">constructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2357')">Next Obligation.</div>
<div class="proofscript" id="proof2357">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> [<span class="id">m1</span> <span class="id">m2</span> <span class="id">Hm</span>] [<span class="id">b1</span> <span class="id">ofs1</span>] <span class="id">p2</span> <span class="id">Hp</span> <span class="id">p</span> <span class="id">k</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">coreflexivity</span> <span class="kwd">in</span> <span class="id">Hp</span>. <span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Mem.perm_extends</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2358')">Next Obligation.</div>
<div class="proofscript" id="proof2358">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> [<span class="id">m1</span> <span class="id">m2</span> <span class="id">Hm</span>] <span class="id">b1</span> <span class="id">b2</span> <span class="id">Hb</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">coreflexivity</span> <span class="kwd">in</span> <span class="id">Hb</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Mem.valid_block_extends</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2359')">Next Obligation.</div>
<div class="proofscript" id="proof2359">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b1</span> <span class="id">b1</span>' <span class="id">delta1</span> <span class="id">b2</span> <span class="id">b2</span>' <span class="id">delta2</span> <span class="id">ofs1</span> <span class="id">ofs2</span> <span class="id">Hb</span> <span class="id">Hb1</span>' <span class="id">Hb2</span>' <span class="id">Hp1</span> <span class="id">Hp2</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hb1</span>'. <span class="id">inv</span> <span class="id">Hb2</span>'. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2360')">Next Obligation.</div>
<div class="proofscript" id="proof2360">
&nbsp;&nbsp;<span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2361')">Next Obligation.</div>
<div class="proofscript" id="proof2361">
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Z.add_0_r</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assumption</span>.<br/>
Qed.</div>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2362')">Next Obligation.</div>
<div class="proofscript" id="proof2362">
&nbsp;&nbsp;<span class="tactic">intuition</span> <span class="id">xomega</span>.<br/>
Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
