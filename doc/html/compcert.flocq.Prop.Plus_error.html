
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Plus_error</title>
<meta name="description" content="Documentation of Coq module Plus_error" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Plus_error</h1>
<div class="coq">
<br/>
<h1> Error of the rounded-to-nearest addition is representable. </h1>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.micromega.Psatz.html">Psatz</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Core.Raux.html">Raux</a></span> <span class="id"><a href="compcert.flocq.Core.Defs.html">Defs</a></span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html">Float_prop</a></span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html">Generic_fmt</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Core.FIX.html">FIX</a></span> <span class="id"><a href="compcert.flocq.Core.FLX.html">FLX</a></span> <span class="id"><a href="compcert.flocq.Core.FLT.html">FLT</a></span> <span class="id"><a href="compcert.flocq.Core.Ulp.html">Ulp</a></span> <span class="id"><a href="compcert.flocq.Calc.Operations.html">Operations</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Prop.Relative.html">Relative</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Fprop_plus_error">Fprop_plus_error</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_error.beta">beta</a></span> : <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix">radix</a></span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="bpow">bpow</a></span> <span class="id">e</span> := (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id">e</span>).<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_error.fexp">fexp</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Context</span> { <span class="id">valid_exp</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span> }.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Fprop_plus_error.round_repr_same_exp">round_repr_same_exp</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_error.round_repr_same_exp.rnd">rnd</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Context</span> { <span class="id">valid_rnd</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_rnd">Valid_rnd</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.round_repr_same_exp.rnd">rnd</a></span> }.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="round_repr_same_exp">round_repr_same_exp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.round_repr_same_exp.rnd">rnd</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#e">e</a></span>)) = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id">m</span>' <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#e">e</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6139')">Proof with</div>
<div class="proofscript" id="proof6139">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">e</span>.<br/>
<span class="tactic">set</span> (<span class="id">e</span>' := <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id">m</span> <span class="id">e</span>))).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span>. <span class="id">fold</span> <span class="id">e</span>'.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_or_lt">Zle_or_lt</a></span> <span class="id">e</span>' <span class="id">e</span>) <span class="kwd">as</span> [<span class="id">He</span>|<span class="id">He</span>].<br/>
<span class="id">exists</span> <span class="id">m</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> <span class="tactic">at</span> 2. <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>, &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span>. 2: <span class="tactic">omega</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#mult_IZR">mult_IZR</a></span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Zrnd_IZR">Zrnd_IZR</a></span>...<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>. <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#mult_IZR">mult_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span>. 2: <span class="tactic">omega</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">apply</span> (<span class="tactic">f_equal</span> (<span class="kwd">fun</span> <span class="id">v</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id">m</span> * <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#v">v</a></span>)%<span class="id">R</span>).<br/>
<span class="tactic">ring</span>.<br/>
<span class="id">exists</span> ((<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.round_repr_same_exp.rnd">rnd</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id">m</span> * <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> (<span class="id">e</span> - <span class="id">e</span>'))) * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> (<span class="id">e</span>' - <span class="id">e</span>))%<span class="id">Z</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>. <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#mult_IZR">mult_IZR</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span>. 2: <span class="tactic">omega</span>.<br/>
<span class="tactic">rewrite</span> 2!<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- 2!<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">apply</span> (<span class="tactic">f_equal</span> (<span class="kwd">fun</span> <span class="id">v</span> =&gt; <span class="id">_</span> * <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#v">v</a></span>)%<span class="id">R</span>).<br/>
<span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.round_repr_same_exp">round_repr_same_exp</a></span>.<br/>
<br/>
<span class="kwd">Context</span> { <span class="id">monotone_exp</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Monotone_exp">Monotone_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span> }.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="format">format</a></span> := (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span>).<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_error.choice">choice</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="plus_error_aux">plus_error_aux</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>)%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.choice">choice</a></span>) (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) - (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>))%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6140')">Proof.</div>
<div class="proofscript" id="proof6140">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span>.<br/>
<span class="tactic">set</span> (<span class="id">ex</span> := <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span> <span class="id">x</span>).<br/>
<span class="tactic">set</span> (<span class="id">ey</span> := <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span> <span class="id">y</span>).<br/>
<span class="tactic">intros</span> <span class="id">He</span> <span class="id">Hx</span> <span class="id">Hy</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_dec">Req_dec</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.choice">choice</a></span>) (<span class="id">x</span> + <span class="id">y</span>) - (<span class="id">x</span> + <span class="id">y</span>)) <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R0">R0</a></span>) <span class="kwd">as</span> [<span class="id">H0</span>|<span class="id">H0</span>].<br/>
<span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_0">generic_format_0</a></span>.<br/>
<span class="tactic">set</span> (<span class="id">mx</span> := <span class="id"><a href="compcert.flocq.Core.Raux.html#Ztrunc">Ztrunc</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">set</span> (<span class="id">my</span> := <span class="id"><a href="compcert.flocq.Core.Raux.html#Ztrunc">Ztrunc</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span> <span class="id">y</span>)).<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">assert</span> (<span class="id">Hxy</span>: (<span class="id">x</span> + <span class="id">y</span>)%<span class="id">R</span> = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> (<span class="id">mx</span> + <span class="id">my</span> * <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> ^ (<span class="id">ey</span> - <span class="id">ex</span>)) <span class="id">ex</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id">Hx</span>, <span class="id">Hy</span>.<br/>
<span class="id">fold</span> <span class="id">mx</span> <span class="id">my</span> <span class="id">ex</span> <span class="id">ey</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_plus">F2R_plus</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Operations.html#Fplus">Fplus</a></span>. <span class="tactic">simpl</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_imp_le_bool">Zle_imp_le_bool</a></span> <span class="kwd">with</span> (1 := <span class="id">He</span>).<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> <span class="id">Hxy</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#round_repr_same_exp">round_repr_same_exp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.choice">choice</a></span>) (<span class="id">mx</span> + <span class="id">my</span> * <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> ^ (<span class="id">ey</span> - <span class="id">ex</span>)) <span class="id">ex</span>) <span class="kwd">as</span> (<span class="id">mxy</span>, <span class="id">Hxy</span>').<br/>
<span class="tactic">rewrite</span> <span class="id">Hxy</span>'.<br/>
<span class="tactic">assert</span> (<span class="id">H</span>: (<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id">mxy</span> <span class="id">ex</span>) - <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> (<span class="id">mx</span> + <span class="id">my</span> * <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> ^ (<span class="id">ey</span> - <span class="id">ex</span>)) <span class="id">ex</span>))%<span class="id">R</span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> (<span class="id">mxy</span> - (<span class="id">mx</span> + <span class="id">my</span> * <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> ^ (<span class="id">ey</span> - <span class="id">ex</span>))) <span class="id">ex</span>)).<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_minus">F2R_minus</a></span>, <span class="id"><a href="compcert.flocq.Calc.Operations.html#Fminus_same_exp">Fminus_same_exp</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_F2R">generic_format_F2R</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.monotone_exp">monotone_exp</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H</span>, &lt;- <span class="id">Hxy</span>', &lt;- <span class="id">Hxy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_le_abs">mag_le_abs</a></span>.<br/>
<span class="tactic">exact</span> <span class="id">H0</span>.<br/>
<span class="tactic">pattern</span> <span class="id">x</span> <span class="tactic">at</span> 3 ; <span class="tactic">replace</span> <span class="id">x</span> <span class="kwd">with</span> (-(<span class="id">y</span> - (<span class="id">x</span> + <span class="id">y</span>)))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_Ropp">Rabs_Ropp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_N_pt">round_N_pt</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id">_</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.choice">choice</a></span> (<span class="id">x</span> + <span class="id">y</span>)).<br/>
Qed.</div>
<br/>
<div class="doc">Error of the addition </div>
<span class="kwd">Theorem</span> <span class="id"><a name="plus_error">plus_error</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.choice">choice</a></span>) (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) - (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>))%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6141')">Proof.</div>
<div class="proofscript" id="proof6141">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Hx</span> <span class="id">Hy</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_or_lt">Zle_or_lt</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error.fexp">fexp</a></span> <span class="id">y</span>)).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#plus_error_aux">plus_error_aux</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_comm">Rplus_comm</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#plus_error_aux">plus_error_aux</a></span> ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_le_weak">Zlt_le_weak</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_error">Fprop_plus_error</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Fprop_plus_zero">Fprop_plus_zero</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_zero.beta">beta</a></span> : <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix">radix</a></span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="bpow">bpow</a></span> <span class="id">e</span> := (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> <span class="id">e</span>).<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_zero.fexp">fexp</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Context</span> { <span class="id">valid_exp</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> }.<br/>
<span class="kwd">Context</span> { <span class="id">exp_not_FTZ</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Exp_not_FTZ">Exp_not_FTZ</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> }.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="format">format</a></span> := (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Fprop_plus_zero.round_plus_eq_zero_aux">round_plus_eq_zero_aux</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_zero.round_plus_eq_zero_aux.rnd">rnd</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Context</span> { <span class="id">valid_rnd</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_rnd">Valid_rnd</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.round_plus_eq_zero_aux.rnd">rnd</a></span> }.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="round_plus_neq_0_aux">round_plus_neq_0_aux</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>)%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;(0 &lt; <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.round_plus_eq_zero_aux.rnd">rnd</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) &lt;&gt; 0%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6142')">Proof with</div>
<div class="proofscript" id="proof6142">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">He</span> <span class="id">Hx</span> <span class="id">Hy</span> <span class="id">Hxy</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> (<span class="id">x</span> + <span class="id">y</span>)) <span class="kwd">as</span> (<span class="id">exy</span>, <span class="id">Hexy</span>).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="id">specialize</span> (<span class="id">Hexy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hxy</span>)).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_or_lt">Zle_or_lt</a></span> <span class="id">exy</span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> <span class="id">exy</span>)) <span class="kwd">as</span> [<span class="id">He</span>'|<span class="id">He</span>'].<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">assert</span> (<span class="id">H</span>: (<span class="id">x</span> + <span class="id">y</span>)%<span class="id">R</span> = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Ztrunc">Ztrunc</a></span> (<span class="id">x</span> * <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> (- <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> <span class="id">exy</span>)) +<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Raux.html#Ztrunc">Ztrunc</a></span> (<span class="id">y</span> * <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> (- <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> <span class="id">exy</span>))) (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> <span class="id">exy</span>))).<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#subnormal_exponent">subnormal_exponent</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> <span class="id">exy</span> <span class="id">x</span> <span class="id">He</span>' <span class="id">Hx</span>) <span class="tactic">at</span> 1.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#subnormal_exponent">subnormal_exponent</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> <span class="id">exy</span> <span class="id">y</span> <span class="id">He</span>' <span class="id">Hy</span>) <span class="tactic">at</span> 1.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Operations.html#F2R_plus">F2R_plus</a></span>, <span class="id"><a href="compcert.flocq.Calc.Operations.html#Fplus_same_exp">Fplus_same_exp</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_F2R">generic_format_F2R</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_unique">mag_unique</a></span> <span class="kwd">with</span> (1 := <span class="id">Hexy</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_not_lt">Rle_not_lt</a></span> <span class="kwd">with</span> (1 := <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_le">round_le</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> <span class="id">_</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.round_plus_eq_zero_aux.rnd">rnd</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">Hexy</span>)).<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le">Rlt_le</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hxy</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_bpow">generic_format_bpow</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_succ_le">Zlt_succ_le</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zsucc_pred">Zsucc_pred</a></span> <span class="id">exy</span>) <span class="kwd">in</span> <span class="id">He</span>'.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.round_plus_eq_zero_aux">round_plus_eq_zero_aux</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_zero.rnd">rnd</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Context</span> { <span class="id">valid_rnd</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_rnd">Valid_rnd</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.rnd">rnd</a></span> }.<br/>
<br/>
<div class="doc">rnd(x+y)=0 -&gt; x+y = 0 provided this is not a FTZ format </div>
<span class="kwd">Theorem</span> <span class="id"><a name="round_plus_neq_0">round_plus_neq_0</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> &lt;&gt; 0)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.rnd">rnd</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) &lt;&gt; 0%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6143')">Proof with</div>
<div class="proofscript" id="proof6143">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Hx</span> <span class="id">Hy</span> <span class="id">Hxy</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_or_lt">Rle_or_lt</a></span> 0 (<span class="id">x</span> + <span class="id">y</span>)) <span class="kwd">as</span> [<span class="id">H1</span>|<span class="id">H1</span>].<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_or_lt">Zle_or_lt</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> <span class="id">y</span>)) <span class="kwd">as</span> [<span class="id">H2</span>|<span class="id">H2</span>].<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#round_plus_neq_0_aux">round_plus_neq_0_aux</a></span>...<br/>
<span class="id">lra</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_comm">Rplus_comm</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#round_plus_neq_0_aux">round_plus_neq_0_aux</a></span> ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_le_weak">Zlt_le_weak</a></span>.<br/>
<span class="id">lra</span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_involutive">Ropp_involutive</a></span> (<span class="id">x</span> + <span class="id">y</span>)), <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_plus_distr">Ropp_plus_distr</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_opp">round_opp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_neq_0_compat">Ropp_neq_0_compat</a></span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_or_lt">Zle_or_lt</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> (-<span class="id">x</span>)) (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> (-<span class="id">y</span>))) <span class="kwd">as</span> [<span class="id">H2</span>|<span class="id">H2</span>].<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#round_plus_neq_0_aux">round_plus_neq_0_aux</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_opp">generic_format_opp</a></span>...<br/>
<span class="id">lra</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_comm">Rplus_comm</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#round_plus_neq_0_aux">round_plus_neq_0_aux</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_opp">generic_format_opp</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_le_weak">Zlt_le_weak</a></span>.<br/>
<span class="id">lra</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="round_plus_eq_0">round_plus_eq_0</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero.rnd">rnd</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) = 0%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> = 0)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6144')">Proof with</div>
<div class="proofscript" id="proof6144">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Fx</span> <span class="id">Fy</span> <span class="id">H</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_dec">Req_dec</a></span> (<span class="id">x</span> + <span class="id">y</span>) 0) <span class="kwd">as</span> [<span class="id">H</span>'|<span class="id">H</span>'].<br/>
<span class="tactic">exact</span> <span class="id">H</span>'.<br/>
<span class="id">contradict</span> <span class="id">H</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#round_plus_neq_0">round_plus_neq_0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_zero">Fprop_plus_zero</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Fprop_plus_FLT">Fprop_plus_FLT</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_FLT.beta">beta</a></span> : <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix">radix</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="bpow">bpow</a></span> <span class="id">e</span> := (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> <span class="id">e</span>).<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_FLT.emin">emin</a></span> <span class="id"><a name="Fprop_plus_FLT.prec">prec</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Context</span> { <span class="id">prec_gt_0_</span> : <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span> }.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="FLT_format_plus_small">FLT_format_plus_small</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>+<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) &lt;= <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span>+<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.emin">emin</a></span>))%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span>) (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>+<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6145')">Proof with</div>
<div class="proofscript" id="proof6145">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Fx</span> <span class="id">Fy</span> <span class="id">H</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#generic_format_FLT_FIX">generic_format_FLT_FIX</a></span>...<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_comm">Zplus_comm</a></span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#generic_format_FIX_FLT">generic_format_FIX_FLT</a></span>, <span class="id"><a href="compcert.flocq.Core.FIX.html#FIX_format_generic">FIX_format_generic</a></span> <span class="kwd">in</span> <span class="id">Fx</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#generic_format_FIX_FLT">generic_format_FIX_FLT</a></span>, <span class="id"><a href="compcert.flocq.Core.FIX.html#FIX_format_generic">FIX_format_generic</a></span> <span class="kwd">in</span> <span class="id">Fy</span>.<br/>
<span class="tactic">destruct</span> <span class="id">Fx</span> <span class="kwd">as</span> [<span class="id">nx</span> <span class="id">H1x</span> <span class="id">H2x</span>].<br/>
<span class="tactic">destruct</span> <span class="id">Fy</span> <span class="kwd">as</span> [<span class="id">ny</span> <span class="id">H1y</span> <span class="id">H2y</span>].<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FIX.html#generic_format_FIX">generic_format_FIX</a></span>.<br/>
<span class="id">exists</span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id">nx</span>+<span class="id"><a href="compcert.flocq.Core.Defs.html#Fnum">Fnum</a></span> <span class="id">ny</span>)%<span class="id">Z</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.emin">emin</a></span>).<br/>
<span class="tactic">rewrite</span> <span class="id">H1x</span>,<span class="id">H1y</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H2x</span>, <span class="id">H2y</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#plus_IZR">plus_IZR</a></span>; <span class="tactic">ring</span>.<br/>
<span class="id">easy</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_FLT.choice">choice</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="FLT_plus_error_N_ex">FLT_plus_error_N_ex</a></span> : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">eps</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#eps">eps</a></span> &lt;= <span class="id"><a href="compcert.flocq.Prop.Relative.html#u_ro">u_ro</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span> / (1 + <span class="id"><a href="compcert.flocq.Prop.Relative.html#u_ro">u_ro</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span>))%<span class="id">R</span> /\<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span>) (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.choice">choice</a></span>) (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>)<br/>
&nbsp;&nbsp;= ((<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) * (1 + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#eps">eps</a></span>))%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6146')">Proof.</div>
<div class="proofscript" id="proof6146">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Fx</span> <span class="id">Fy</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Pb</span> := <span class="id"><a href="compcert.flocq.Prop.Relative.html#u_rod1pu_ro_pos">u_rod1pu_ro_pos</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span>).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_or_lt">Rle_or_lt</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.emin">emin</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span> - 1)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id">x</span> + <span class="id">y</span>))) <span class="kwd">as</span> [<span class="id">M</span>|<span class="id">M</span>].<br/>
{ <span class="tactic">destruct</span> (<span class="id">relative_error_N_FLX</span>'<span class="id">_ex</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec_gt_0_">prec_gt_0_</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.choice">choice</a></span> (<span class="id">x</span> + <span class="id">y</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> (<span class="id">d</span>, (<span class="id">Bd</span>, <span class="id">Hd</span>)).<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="id">exists</span> <span class="id">d</span>; <span class="tactic">split</span>; [<span class="tactic">exact</span> <span class="id">Bd</span>|]; <span class="tactic">rewrite</span> &lt;- <span class="id">Hd</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#round_FLT_FLX">round_FLT_FLX</a></span>. }<br/>
<span class="id">exists</span> 0%<span class="id">R</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>; <span class="tactic">split</span>; [<span class="tactic">exact</span> <span class="id">Pb</span>|]; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_0_r">Rplus_0_r</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_1_r">Rmult_1_r</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>; [<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#valid_rnd_N">valid_rnd_N</a></span>|].<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#FLT_format_plus_small">FLT_format_plus_small</a></span>; [<span class="tactic">exact</span> <span class="id">Fx</span>|<span class="tactic">exact</span> <span class="id">Fy</span>|].<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le">Rlt_le</a></span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">M</span>), <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_le">bpow_le</a></span>; <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="FLT_plus_error_N_round_ex">FLT_plus_error_N_round_ex</a></span> : <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">eps</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#eps">eps</a></span> &lt;= <span class="id"><a href="compcert.flocq.Prop.Relative.html#u_ro">u_ro</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span>)%<span class="id">R</span> /\<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span><br/>
&nbsp;&nbsp;&nbsp;= <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.prec">prec</a></span>) (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT.choice">choice</a></span>) (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) * (1 + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#eps">eps</a></span>))%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6147')">Proof.</div>
<div class="proofscript" id="proof6147">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Fx</span> <span class="id">Fy</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Relative.html#relative_error_N_round_ex_derive">relative_error_N_round_ex_derive</a></span>, <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#FLT_plus_error_N_ex">FLT_plus_error_N_ex</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_FLT">Fprop_plus_FLT</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Fprop_plus_mult_ulp">Fprop_plus_mult_ulp</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_mult_ulp.beta">beta</a></span> : <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix">radix</a></span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="bpow">bpow</a></span> <span class="id">e</span> := (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id">e</span>).<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_mult_ulp.fexp">fexp</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Context</span> { <span class="id">valid_exp</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.fexp">fexp</a></span> }.<br/>
<span class="kwd">Context</span> { <span class="id">monotone_exp</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Monotone_exp">Monotone_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.fexp">fexp</a></span> }.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_mult_ulp.rnd">rnd</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Context</span> { <span class="id">valid_rnd</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_rnd">Valid_rnd</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.rnd">rnd</a></span> }.<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="format">format</a></span> := (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.fexp">fexp</a></span>).<br/>
<span class="kwd">Notation</span> <span class="id"><a name="cexp">cexp</a></span> := (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.fexp">fexp</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ex_shift">ex_shift</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">e</span>, <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt; (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#e">e</a></span> &lt;= <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#cexp">cexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>)%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">m</span>, (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#m">m</a></span> * <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#e">e</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6148')">Proof with</div>
<div class="proofscript" id="proof6148">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">e</span> <span class="id">Fx</span> <span class="id">He</span>.<br/>
<span class="id">exists</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Ztrunc">Ztrunc</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.fexp">fexp</a></span> <span class="id">x</span>)*<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#cexp">cexp</a></span> <span class="id">x</span> -<span class="id">e</span>))%<span class="id">Z</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Fx</span> <span class="tactic">at</span> 1; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#mult_IZR">mult_IZR</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>.<br/>
<span class="tactic">f_equal</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span>.<br/>
2: <span class="tactic">omega</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_plus">bpow_plus</a></span>; <span class="tactic">f_equal</span>; <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mag_minus1">mag_minus1</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">z</span>, <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#z">z</a></span> &lt;&gt; 0%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#z">z</a></span> - 1)%<span class="id">Z</span> = <span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#z">z</a></span> / <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6149')">Proof.</div>
<div class="proofscript" id="proof6149">
<span class="tactic">intros</span> <span class="id">z</span> <span class="id">Hz</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub">Zminus</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_mult_bpow">mag_mult_bpow</a></span> <span class="tactic">by</span> <span class="id">easy</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_opp">bpow_opp</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_1">bpow_1</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="round_plus_F2R">round_plus_F2R</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> -&gt; (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> &lt;&gt; 0)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.rnd">rnd</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>+<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#m">m</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#cexp">cexp</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> / <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6150')">Proof with</div>
<div class="proofscript" id="proof6150">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Fx</span> <span class="id">Fy</span> <span class="id">Zx</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_or_lt">Zle_or_lt</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> (<span class="id">x</span>/<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span>)) (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id">y</span>)); <span class="tactic">intros</span> <span class="id">H1</span>.<br/>
<span class="id">pose</span> (<span class="id">e</span>:=<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#cexp">cexp</a></span> (<span class="id">x</span> / <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span>)).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#ex_shift">ex_shift</a></span> <span class="id">x</span> <span class="id">e</span>) <span class="kwd">as</span> (<span class="id">nx</span>, <span class="id">Hnx</span>); <span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">Fx</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.monotone_exp">monotone_exp</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#mag_minus1">mag_minus1</a></span> <span class="id">x</span> <span class="id">Zx</span>); <span class="tactic">omega</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#ex_shift">ex_shift</a></span> <span class="id">y</span> <span class="id">e</span>) <span class="kwd">as</span> (<span class="id">ny</span>, <span class="id">Hny</span>); <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.monotone_exp">monotone_exp</a></span>...<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#round_repr_same_exp">round_repr_same_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.rnd">rnd</a></span> (<span class="id">nx</span>+<span class="id">ny</span>) <span class="id">e</span>) <span class="kwd">as</span> (<span class="id">n</span>,<span class="id">Hn</span>).<br/>
<span class="id">exists</span> <span class="id">n</span>.<br/>
<span class="id">fold</span> <span class="id">e</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hn</span>; <span class="tactic">f_equal</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hnx</span>, <span class="id">Hny</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#plus_IZR">plus_IZR</a></span>; <span class="tactic">ring</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#ex_shift">ex_shift</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.rnd">rnd</a></span> (<span class="id">x</span> + <span class="id">y</span>)) (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#cexp">cexp</a></span> (<span class="id">x</span>/<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span>))) <span class="kwd">as</span> (<span class="id">n</span>,<span class="id">Hn</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#cexp">cexp</a></span> (<span class="id">x</span>+<span class="id">y</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.monotone_exp">monotone_exp</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#mag_minus1">mag_minus1</a></span> <span class="tactic">by</span> <span class="id">easy</span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag_abs">mag_abs</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> (<span class="id">x</span>+<span class="id">y</span>)).<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">assert</span> (<span class="id">U</span>: (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id">x</span>+<span class="id">y</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id">x</span> + <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id">y</span>)%<span class="id">R</span> \/ (<span class="id">y</span> &lt;&gt; 0 /\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id">x</span>+<span class="id">y</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id">x</span> - <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id">y</span>)%<span class="id">R</span>).<br/>
<span class="tactic">assert</span> (<span class="id">V</span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>+<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>)%<span class="id">R</span> \/ (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> &lt;&gt; 0 /\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>+<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> - <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>)%<span class="id">R</span>).<br/>
<span class="tactic">clear</span>; <span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_or_lt">Rle_or_lt</a></span> 0 <span class="id">y</span>); <span class="tactic">intros</span> <span class="id">Hy</span>.<br/>
<span class="tactic">case</span> <span class="id">Hy</span>; <span class="tactic">intros</span> <span class="id">Hy</span>'.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_or_lt">Rle_or_lt</a></span> 0 <span class="id">x</span>); <span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span>; <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> <span class="id">y</span>) <span class="tactic">by</span> <span class="id">easy</span>.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> <span class="id">x</span>) <span class="tactic">by</span> <span class="id">easy</span>.<br/>
<span class="id">left</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_le_0_compat">Rplus_le_le_0_compat</a></span>.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> <span class="id">y</span>) <span class="tactic">by</span> <span class="id">easy</span>.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_left">Rabs_left</a></span> <span class="id">x</span>) <span class="tactic">by</span> <span class="id">easy</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>; <span class="id">right</span>; <span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_left1">Rabs_left1</a></span>.<br/>
<span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_reg_l">Rplus_le_reg_l</a></span> <span class="kwd">with</span> (-<span class="id">x</span>)%<span class="id">R</span>; <span class="id">ring_simplify</span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span>; <span class="id">left</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">Hy</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>, 2!<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_0_r">Rplus_0_r</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_or_lt">Rle_or_lt</a></span> 0 <span class="id">x</span>); <span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_left">Rabs_left</a></span> <span class="id">y</span>) <span class="tactic">by</span> <span class="id">easy</span>.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> <span class="id">x</span>) <span class="tactic">by</span> <span class="id">easy</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>; <span class="id">right</span>; <span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_eq">Rlt_not_eq</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>.<br/>
<span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_reg_l">Rplus_le_reg_l</a></span> <span class="kwd">with</span> (-<span class="id">y</span>)%<span class="id">R</span>; <span class="id">ring_simplify</span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span>; <span class="id">left</span>.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_left">Rabs_left</a></span> <span class="id">y</span>) <span class="tactic">by</span> <span class="id">easy</span>.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_left">Rabs_left</a></span> <span class="id">x</span>) <span class="tactic">by</span> <span class="id">easy</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_left1">Rabs_left1</a></span>.<br/>
<span class="tactic">ring</span>.<br/>
<span class="id">lra</span>.<br/>
<span class="tactic">apply</span> <span class="id">V</span>; <span class="id">left</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#lt_mag">lt_mag</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_lt">Rabs_pos_lt</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#mag_minus1">mag_minus1</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">rewrite</span> 2!<span class="id"><a href="compcert.flocq.Core.Raux.html#mag_abs">mag_abs</a></span>; <span class="tactic">omega</span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">destruct</span> <span class="id">U</span> <span class="kwd">as</span> [<span class="id">U</span>|<span class="id">U</span>].<br/>
<span class="tactic">rewrite</span> <span class="id">U</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id">x</span>).<br/>
<span class="tactic">omega</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_abs">mag_abs</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_le">mag_le</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_lt">Rabs_pos_lt</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_reg_l">Rplus_le_reg_l</a></span> <span class="kwd">with</span> (-<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id">x</span>)%<span class="id">R</span>; <span class="id">ring_simplify</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos">Rabs_pos</a></span>.<br/>
<span class="tactic">destruct</span> <span class="id">U</span> <span class="kwd">as</span> (<span class="id">U</span>',<span class="id">U</span>); <span class="tactic">rewrite</span> <span class="id">U</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_abs">mag_abs</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_minus_lb">mag_minus_lb</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_lt">Rabs_pos_lt</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_lt">Rabs_pos_lt</a></span>.<br/>
<span class="tactic">rewrite</span> 2!<span class="id"><a href="compcert.flocq.Core.Raux.html#mag_abs">mag_abs</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id">y</span> &lt; <span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id">x</span> - 1)%<span class="id">Z</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#mag_minus1">mag_minus1</a></span> <span class="id">x</span> <span class="id">Zx</span>).<br/>
<span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp_round_ge">cexp_round_ge</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#round_plus_neq_0">round_plus_neq_0</a></span>...<br/>
<span class="id">contradict</span> <span class="id">H1</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_not_lt">Zle_not_lt</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#mag_minus1">mag_minus1</a></span> <span class="id">x</span> <span class="id">Zx</span>).<br/>
<span class="tactic">replace</span> <span class="id">y</span> <span class="kwd">with</span> (-<span class="id">x</span>)%<span class="id">R</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#mag_opp">mag_opp</a></span>; <span class="tactic">omega</span>.<br/>
<span class="id">lra</span>.<br/>
<span class="id">now</span> <span class="id">exists</span> <span class="id">n</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Context</span> {<span class="id">exp_not_FTZ</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Exp_not_FTZ">Exp_not_FTZ</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.fexp">fexp</a></span>}.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="round_plus_ge_ulp">round_plus_ge_ulp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.rnd">rnd</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>+<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) &lt;&gt; 0%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>/<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span>) &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.rnd">rnd</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>+<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>)))%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6151')">Proof with</div>
<div class="proofscript" id="proof6151">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Fx</span> <span class="id">Fy</span> <span class="id">KK</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_dec">Req_dec</a></span> <span class="id">x</span> 0); <span class="tactic">intros</span> <span class="id">Zx</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> <span class="id">Zx</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>...<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rdiv">Rdiv</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Fy</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_mult">Rabs_mult</a></span>.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> <span class="id">_</span>)) <span class="tactic">by</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.eq_dec">Z.eq_dec</a></span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#Ztrunc">Ztrunc</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp.fexp">fexp</a></span> <span class="id">y</span>)) 0); <span class="tactic">intros</span> <span class="id">Hm</span>.<br/>
<span class="id">contradict</span> <span class="id">KK</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Zx</span>, <span class="id">Fy</span>, <span class="id">Hm</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (1*<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#cexp">cexp</a></span> <span class="id">y</span>))%<span class="id">R</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_1_l">Rmult_1_l</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp_neq_0">ulp_neq_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp_ge_ulp_0">ulp_ge_ulp_0</a></span>...<br/>
<span class="tactic">intros</span> <span class="id">K</span>; <span class="tactic">apply</span> <span class="id">Hm</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">K</span>, <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#scaled_mantissa_0">scaled_mantissa_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#Ztrunc_IZR">Ztrunc_IZR</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_compat_r">Rmult_le_compat_r</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#abs_IZR">abs_IZR</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_le">IZR_le</a></span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_le_succ">Zlt_le_succ</a></span> 0).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs_pos">Z.abs_pos</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#round_plus_F2R">round_plus_F2R</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">Fx</span> <span class="id">Fy</span> <span class="id">Zx</span>) <span class="kwd">as</span> (<span class="id">m</span>,<span class="id">Hm</span>).<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.eq_dec">Z.eq_dec</a></span> <span class="id">m</span> 0); <span class="tactic">intros</span> <span class="id">Zm</span>.<br/>
<span class="id">contradict</span> <span class="id">KK</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hm</span>, <span class="id">Zm</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_0">F2R_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hm</span>, &lt;- <span class="id"><a href="compcert.flocq.Core.Float_prop.html#F2R_Zabs">F2R_Zabs</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp_neq_0">ulp_neq_0</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_1_l">Rmult_1_l</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> <span class="id">_</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_compat_r">Rmult_le_compat_r</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#IZR_le">IZR_le</a></span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_le_succ">Zlt_le_succ</a></span> 0).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs_pos">Z.abs_pos</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_integral_contrapositive_currified">Rmult_integral_contrapositive_currified</a></span> <span class="kwd">with</span> (1 := <span class="id">Zx</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rinv_neq_0_compat">Rinv_neq_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Raux.html#radix_pos">radix_pos</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_mult_ulp">Fprop_plus_mult_ulp</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Fprop_plus_ge_ulp">Fprop_plus_ge_ulp</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_ge_ulp.beta">beta</a></span> : <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix">radix</a></span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="bpow">bpow</a></span> <span class="id">e</span> := (<span class="id"><a href="compcert.flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> <span class="id">e</span>).<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_ge_ulp.rnd">rnd</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Context</span> { <span class="id">valid_rnd</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_rnd">Valid_rnd</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.rnd">rnd</a></span> }.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_ge_ulp.emin">emin</a></span> <span class="id"><a name="Fprop_plus_ge_ulp.prec">prec</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Context</span> { <span class="id">prec_gt_0_</span> : <span class="id"><a href="compcert.flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span> }.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="round_FLT_plus_ge">round_FLT_plus_ge</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#e">e</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.rnd">rnd</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) &lt;&gt; 0%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#e">e</a></span> &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.rnd">rnd</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>)))%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6152')">Proof with</div>
<div class="proofscript" id="proof6152">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">e</span> <span class="id">Fx</span> <span class="id">Fy</span> <span class="id">He</span> <span class="id">KK</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Zx</span>: <span class="id">x</span> &lt;&gt; 0%<span class="id">R</span>).<br/>
&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">He</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_le">Rlt_not_le</a></span>; <span class="tactic">rewrite</span> <span class="id">He</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) (<span class="id">x</span>/<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span>)).<br/>
2: <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#round_plus_ge_ulp">round_plus_ge_ulp</a></span>...<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp_neq_0">ulp_neq_0</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#mag_minus1">mag_minus1</a></span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_le">bpow_le</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (2:=<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_max_l">Z.le_max_l</a></span> <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> <span class="id">x</span>) <span class="kwd">as</span> (<span class="id">n</span>,<span class="id">Hn</span>); <span class="tactic">simpl</span>.<br/>
<span class="tactic">assert</span> (<span class="id">e</span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span> &lt; <span class="id">n</span>)%<span class="id">Z</span>; <span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#lt_bpow">lt_bpow</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="kwd">with</span> (1:=<span class="id">He</span>).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">Hn</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_integral_contrapositive_currified">Rmult_integral_contrapositive_currified</a></span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rinv_neq_0_compat">Rinv_neq_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#radix_pos">radix_pos</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">round_FLT_plus_ge</span>' :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> &lt;&gt; 0%<span class="id">R</span> -&gt; (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#e">e</a></span>+<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>)%<span class="id">R</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> = 0%<span class="id">R</span> -&gt; <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> &lt;&gt; 0%<span class="id">R</span> -&gt; (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#e">e</a></span> &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>)%<span class="id">R</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.rnd">rnd</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>+<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) &lt;&gt; 0%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#e">e</a></span> &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.rnd">rnd</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>+<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>)))%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6153')">Proof with</div>
<div class="proofscript" id="proof6153">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">e</span> <span class="id">Fx</span> <span class="id">Fy</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">H3</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_dec">Req_dec</a></span> <span class="id">x</span> 0); <span class="tactic">intros</span> <span class="id">H4</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_dec">Req_dec</a></span> <span class="id">y</span> 0); <span class="tactic">intros</span> <span class="id">H5</span>.<br/>
<span class="id">contradict</span> <span class="id">H3</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H4</span>, <span class="id">H5</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_0">round_0</a></span>...<br/>
<span class="tactic">rewrite</span> <span class="id">H4</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_generic">round_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#round_FLT_plus_ge">round_FLT_plus_ge</a></span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">H1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="round_FLX_plus_ge">round_FLX_plus_ge</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#e">e</a></span>+<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.rnd">rnd</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>+<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) &lt;&gt; 0)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#e">e</a></span> &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.rnd">rnd</a></span> (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>+<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>)))%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6154')">Proof with</div>
<div class="proofscript" id="proof6154">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">e</span> <span class="id">Fx</span> <span class="id">Fy</span> <span class="id">He</span> <span class="id">KK</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Zx</span>: <span class="id">x</span> &lt;&gt; 0%<span class="id">R</span>).<br/>
&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">He</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_le">Rlt_not_le</a></span>; <span class="tactic">rewrite</span> <span class="id">He</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp">ulp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span>) (<span class="id">x</span>/<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span>)).<br/>
2: <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#round_plus_ge_ulp">round_plus_ge_ulp</a></span>...<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Ulp.html#ulp_neq_0">ulp_neq_0</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#cexp">cexp</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#mag_minus1">mag_minus1</a></span> <span class="tactic">by</span> <span class="id">easy</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.FLX.html#FLX_exp">FLX_exp</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#bpow_le">bpow_le</a></span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Raux.html#mag">mag</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span> <span class="id">x</span>) <span class="kwd">as</span> (<span class="id">n</span>,<span class="id">Hn</span>); <span class="tactic">simpl</span>.<br/>
<span class="tactic">assert</span> (<span class="id">e</span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.prec">prec</a></span> &lt; <span class="id">n</span>)%<span class="id">Z</span>; <span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#lt_bpow">lt_bpow</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp.beta">beta</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="kwd">with</span> (1:=<span class="id">He</span>).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">Hn</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_integral_contrapositive_currified">Rmult_integral_contrapositive_currified</a></span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rinv_neq_0_compat">Rinv_neq_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Raux.html#radix_pos">radix_pos</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_ge_ulp">Fprop_plus_ge_ulp</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Fprop_plus_le_ops">Fprop_plus_le_ops</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_le_ops.beta">beta</a></span> : <span class="id"><a href="compcert.flocq.Core.Zaux.html#radix">radix</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_le_ops.fexp">fexp</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Context</span> { <span class="id">valid_exp</span> : <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops.fexp">fexp</a></span> }.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fprop_plus_le_ops.choice">choice</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="plus_error_le_l">plus_error_le_l</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops.choice">choice</a></span>) (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) - (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>)) &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6155')">Proof.</div>
<div class="proofscript" id="proof6155">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Fx</span> <span class="id">Fy</span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id">y</span> - (<span class="id">x</span> + <span class="id">y</span>)))); [<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round_N_pt">round_N_pt</a></span>|].<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_minus_sym">Rabs_minus_sym</a></span>; <span class="id">right</span>; <span class="tactic">f_equal</span>; <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="plus_error_le_r">plus_error_le_r</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops.choice">choice</a></span>) (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>) - (<span class="id"><a href="compcert.flocq.Prop.Plus_error.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>)) &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#y">y</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6156')">Proof.</div>
<div class="proofscript" id="proof6156">
 <span class="id">now</span> <span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Fx</span> <span class="id">Fy</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_comm">Rplus_comm</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#plus_error_le_l">plus_error_le_l</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Prop.Plus_error.html#Fprop_plus_le_ops">Fprop_plus_le_ops</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
