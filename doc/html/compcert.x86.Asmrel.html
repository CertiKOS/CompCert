
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Asmrel</title>
<meta name="description" content="Documentation of Coq module Asmrel" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Asmrel</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.lib.Maps.html">Maps</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.lib.Floats.html">Floats</a></span> <span class="id"><a href="compcert.common.Values.html">Values</a></span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span> <span class="id"><a href="compcert.common.Events.html">Events</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="compcert.common.Smallstep.html">Smallstep</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.backend.Locations.html">Locations</a></span> <span class="id"><a href="compcert.x86.Stacklayout.html">Stacklayout</a></span> <span class="id"><a href="compcert.backend.Conventions.html">Conventions</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.backend.Mach.html">Mach</a></span> <span class="id"><a href="compcert.common.LanguageInterface.html">LanguageInterface</a></span> <span class="id"><a href="compcert.common.CallconvAlgebra.html">CallconvAlgebra</a></span> <span class="id"><a href="compcert.cklr.CKLR.html">CKLR</a></span> <span class="id"><a href="compcert.cklr.CKLRAlgebra.html">CKLRAlgebra</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.cklr.Eventsrel.html">Eventsrel</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Linking.html">Linking</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.x86.Asm.html">Asm</a></span> <span class="id"><a href="compcert.x86.Asmgenproof.html">Asmgenproof</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="PROG">PROG</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> (<span class="id">p</span>: <span class="id"><a href="compcert.x86.Asm.html#program">program</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="genv_match">genv_match</a></span> <span class="id">R</span> <span class="id">w</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Definitions.html#relation">relation</a></span> <span class="id"><a href="compcert.x86.Asm.html#genv">genv</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cklr.CKLR.html#match_stbls">match_stbls</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) !! (<span class="kwd">fun</span> <span class="id">se</span> =&gt; <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#se">se</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#PROG.p">p</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="genv_genv_match">genv_genv_match</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Related</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#genv_match">genv_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Globalenvs.html#Genv.match_genvs">Genv.match_genvs</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) (<span class="id"><a href="compcert.common.Linking.html#match_globdef">match_globdef</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#PROG.p">p</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subrel</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4765')">Proof.</div>
<div class="proofscript" id="proof4765">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asmrel.html#genv_match">genv_match</a></span>. <span class="id">rstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">ge1</span> <span class="id">ge2</span> <span class="id">Hge</span>. <span class="tactic">destruct</span> <span class="id">Hge</span> <span class="kwd">as</span> [<span class="id">se1</span> <span class="id">se2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenvs_match">Genv.globalenvs_match</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">red</span>. <span class="tactic">intuition</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> (<span class="id"><a href="compcert.common.AST.html#prog_defs">AST.prog_defs</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#PROG.p">p</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> [ | [<span class="id">id</span> [<span class="id">f</span>|[ ]]] ? ?];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl_refl">incl_refl</a></span>, <span class="id"><a href="compcert.common.Linking.html#linkorder_refl">linkorder_refl</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Linking.html#linkorder_refl">linkorder_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.cklr.CKLR.html#match_stbls_proj">match_stbls_proj</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="match_prog">match_prog</a></span> {<span class="id">C</span>} `{!<span class="id"><a href="compcert.common.Linking.html#Linker">Linking.Linker</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#C">C</a></span>} (<span class="id">c</span>: <span class="id"><a href="compcert.x86.Asmrel.html#C">C</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#match_program_gen">Linking.match_program_gen</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#c">c</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#PROG.p">p</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#PROG.p">p</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4766')">Proof.</div>
<div class="proofscript" id="proof4766">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> (<span class="id"><a href="compcert.common.AST.html#prog_defs">AST.prog_defs</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#PROG.p">p</a></span>) <span class="kwd">as</span> [ | [<span class="id">id</span> [<span class="id">f</span>|<span class="id">v</span>]] <span class="id">defs</span> <span class="id">IHdefs</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">econstructor</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Linking.html#linkorder_refl">Linking.linkorder_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">v</span>; <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="find_funct_inject">find_funct_inject</a></span> <span class="id">R</span> <span class="id">w</span> <span class="id">ge1</span> <span class="id">v1</span> <span class="id">ge2</span> <span class="id">v2</span> <span class="id">f</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Transport</span> (<span class="id"><a href="compcert.x86.Asmrel.html#genv_match">genv_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> * <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>)) (<span class="id"><a href="compcert.x86.Asmrel.html#ge1">ge1</a></span>, <span class="id"><a href="compcert.x86.Asmrel.html#v1">v1</a></span>) (<span class="id"><a href="compcert.x86.Asmrel.html#ge2">ge2</a></span>, <span class="id"><a href="compcert.x86.Asmrel.html#v2">v2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ge1">ge1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#v1">v1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#f">f</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ge2">ge2</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#f">f</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4767')">Proof.</div>
<div class="proofscript" id="proof4767">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">Hge</span> <span class="id">Hv</span>] <span class="id">Hf</span>. <span class="id">cbn</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hge</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cklr.CKLR.html#match_stbls_proj">match_stbls_proj</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">cbn</span> <span class="kwd">in</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> @<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_match">Genv.find_funct_match</a></span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?&amp;?); <span class="tactic">eauto</span> <span class="kwd">using</span> (<span class="id"><a href="compcert.x86.Asmrel.html#match_prog">match_prog</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cbn</span> <span class="kwd">in</span> *. <span class="tactic">subst</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="find_funct_ptr_inject">find_funct_ptr_inject</a></span> <span class="id">R</span> <span class="id">w</span> <span class="id">ge1</span> <span class="id">b1</span> <span class="id">ge2</span> <span class="id">b2</span> <span class="id">f</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Transport</span> (<span class="id"><a href="compcert.x86.Asmrel.html#genv_match">genv_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> * <span class="id"><a href="compcert.cklr.Valuesrel.html#block_inject_sameofs">block_inject_sameofs</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>)) (<span class="id"><a href="compcert.x86.Asmrel.html#ge1">ge1</a></span>, <span class="id"><a href="compcert.x86.Asmrel.html#b1">b1</a></span>) (<span class="id"><a href="compcert.x86.Asmrel.html#ge2">ge2</a></span>, <span class="id"><a href="compcert.x86.Asmrel.html#b2">b2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ge1">ge1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#f">f</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ge2">ge2</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#b2">b2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#f">f</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4768')">Proof.</div>
<div class="proofscript" id="proof4768">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">Hge</span> <span class="id">Hb</span>] <span class="id">Hf</span>. <span class="id">cbn</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hge</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cklr.CKLR.html#match_stbls_proj">match_stbls_proj</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">as</span> [[|]|] <span class="id">eqn</span>:<span class="id">Hfd</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="id">inv</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> @<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_match">Genv.find_def_match</a></span> <span class="kwd">as</span> (<span class="id">tg</span> &amp;?&amp;?&amp;?); <span class="tactic">eauto</span> <span class="kwd">using</span> (<span class="id"><a href="compcert.x86.Asmrel.html#match_prog">match_prog</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Instance</span> <span class="id"><a name="transport_find_symbol_genv">transport_find_symbol_genv</a></span> <span class="id">R</span> <span class="id">w</span> <span class="id">ge1</span> <span class="id">ge2</span> <span class="id">id</span> <span class="id">b1</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Transport</span> (<span class="id"><a href="compcert.x86.Asmrel.html#genv_match">genv_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) <span class="id"><a href="compcert.x86.Asmrel.html#ge1">ge1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ge2">ge2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ge1">ge1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#b1">b1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">b2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ge2">ge2</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#b2">b2</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cklr.Valuesrel.html#block_inject_sameofs">block_inject_sameofs</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) <span class="id"><a href="compcert.x86.Asmrel.html#b1">b1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#b2">b2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4769')">Proof.</div>
<div class="proofscript" id="proof4769">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hge</span> <span class="id">Hb1</span>. <span class="id">edestruct</span> @<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol_match">Genv.find_symbol_match</a></span> <span class="kwd">as</span> (<span class="id">b2</span> &amp; ? &amp; ?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hge</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cklr.CKLR.html#match_stbls_proj">match_stbls_proj</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="genv_match_acc">genv_match_acc</a></span> <span class="id">R</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span> (<span class="id"><a href="compcert.x86.Asmrel.html#genv_match">genv_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span>) (<span class="id"><a href="compcert.cklr.CKLR.html#wacc">wacc</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> ++&gt; <span class="id">subrel</span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4770')">Proof.</div>
<div class="proofscript" id="proof4770">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">w</span> <span class="id">w</span>' <span class="id">Hw</span>' <span class="id">_</span> <span class="id">_</span> [<span class="id">se1</span> <span class="id">se2</span> <span class="id">Hge</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> (<span class="id"><a href="compcert.cklr.CKLR.html#match_stbls_acc">match_stbls_acc</a></span> <span class="id">R</span> <span class="id">w</span> <span class="id">w</span>') <span class="kwd">in</span> <span class="id">Hge</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> (<span class="id">rel_push_rintro</span> (<span class="kwd">fun</span> <span class="id">se</span> =&gt; <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#se">se</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#PROG.p">p</a></span>) (<span class="kwd">fun</span> <span class="id">se</span> =&gt; <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#se">se</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#PROG.p">p</a></span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="regset_inject">regset_inject</a></span> <span class="id">R</span> (<span class="id">w</span>: <span class="id"><a href="compcert.cklr.CKLR.html#world">world</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span>): <span class="id">rel</span> <span class="id"><a href="compcert.x86.Asm.html#regset">regset</a></span> <span class="id"><a href="compcert.x86.Asm.html#regset">regset</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">forallr</span> - @ <span class="id">r</span>, (<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>)).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="inject_ptr_sameofs">inject_ptr_sameofs</a></span> (<span class="id">mi</span>: <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>): <span class="id"><a href="compcert.common.Values.html#val">val</a></span> -&gt; <span class="id"><a href="compcert.common.Values.html#val">val</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="inj_ptr_sameofs">inj_ptr_sameofs</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.x86.Asmrel.html#b2">b2</a></span>, 0%<span class="id">Z</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#inject_ptr_sameofs">inject_ptr_sameofs</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#mi">mi</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#b1">b1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ofs">ofs</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#b2">b2</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ofs">ofs</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="inj_ptr_undef">inj_ptr_undef</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#inject_ptr_sameofs">inject_ptr_sameofs</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#mi">mi</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#v">v</a></span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">regset_inject</span>' <span class="id">R</span> (<span class="id">w</span>: <span class="id"><a href="compcert.cklr.CKLR.html#world">world</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span>): <span class="id">rel</span> <span class="id"><a href="compcert.x86.Asm.html#regset">regset</a></span> <span class="id"><a href="compcert.x86.Asm.html#regset">regset</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">rs1</span> <span class="id">rs2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span>: <span class="id"><a href="compcert.x86.Asm.html#preg">preg</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#r">r</a></span> &lt;&gt; <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span> -&gt; <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) (<span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#r">r</a></span>) (<span class="id"><a href="compcert.x86.Asmrel.html#rs2">rs2</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#r">r</a></span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#r">r</a></span> = <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span> -&gt; <span class="id"><a href="compcert.x86.Asmrel.html#inject_ptr_sameofs">inject_ptr_sameofs</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) (<span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#r">r</a></span>) (<span class="id"><a href="compcert.x86.Asmrel.html#rs2">rs2</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#r">r</a></span>)).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="regset_inj_subrel">regset_inj_subrel</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Related</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">regset_inject</span>' <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subrel</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4771')">Proof.</div>
<div class="proofscript" id="proof4771">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">rstep</span>. <span class="tactic">intros</span> <span class="id">rs1</span> <span class="id">rs2</span> <span class="id">rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">regset_inject</span>', <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">r</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.x86.Asm.html#PregEq.eq">PregEq.eq</a></span> <span class="id">r</span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>) <span class="kwd">as</span> [-&gt; | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">specialize</span> (<span class="id">rel</span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>) <span class="kwd">as</span> [? <span class="id">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id">rel</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="outcome_match">outcome_match</a></span> <span class="id">R</span> (<span class="id">w</span>: <span class="id"><a href="compcert.cklr.CKLR.html#world">world</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span>): <span class="id">rel</span> <span class="id"><a href="compcert.x86.Asm.html#outcome">outcome</a></span> <span class="id"><a href="compcert.x86.Asm.html#outcome">outcome</a></span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="Next_match">Next_match</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="kwd">Next</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.cklr.CKLR.html#match_mem">match_mem</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; - ==&gt; <span class="id"><a href="compcert.x86.Asmrel.html#outcome_match">outcome_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="Stuck_match">Stuck_match</a></span> <span class="id">o</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Related</span> <span class="id"><a href="compcert.x86.Asm.html#Stuck">Stuck</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#o">o</a></span> (<span class="id"><a href="compcert.x86.Asmrel.html#outcome_match">outcome_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>).<br/>
&nbsp;&nbsp;<span class="id">Existing</span> <span class="kwd">Instance</span> <span class="id">Next_match</span>.<br/>
&nbsp;&nbsp;<span class="id">Existing</span> <span class="kwd">Instance</span> <span class="id">Stuck_match</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="state_match">state_match</a></span> <span class="id">R</span> <span class="id">w</span>: <span class="id">rel</span> <span class="id"><a href="compcert.x86.Asm.html#state">Asm.state</a></span> <span class="id"><a href="compcert.x86.Asm.html#state">Asm.state</a></span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="State_rel">State_rel</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="compcert.x86.Asm.html#State">Asm.State</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.cklr.CKLR.html#match_mem">match_mem</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; - ==&gt; <span class="id"><a href="compcert.x86.Asmrel.html#state_match">state_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>).<br/>
&nbsp;&nbsp;<span class="id">Existing</span> <span class="kwd">Instance</span> <span class="id">State_rel</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="set_inject">set_inject</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="compcert.x86.Asm.html#Pregmap.set">Pregmap.set</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(- ==&gt; <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) ++&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4772')">Proof.</div>
<div class="proofscript" id="proof4772">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span>, <span class="id"><a href="compcert.x86.Asm.html#Pregmap.set">Pregmap.set</a></span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Instance</span> <span class="id"><a name="set_params">set_params</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Morphisms.html#Params">Params</a></span> (@<span class="id"><a href="compcert.x86.Asm.html#Pregmap.set">Pregmap.set</a></span>) 4.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="get_inject">get_inject</a></span> <span class="id">R</span> <span class="id">w</span> <span class="id">rs1</span> <span class="id">rs2</span> <span class="id">r</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">RStep</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs2">rs2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) (<span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> # <span class="id"><a href="compcert.x86.Asmrel.html#r">r</a></span>) (<span class="id"><a href="compcert.x86.Asmrel.html#rs2">rs2</a></span> # <span class="id"><a href="compcert.x86.Asmrel.html#r">r</a></span>)) | 70.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4773')">Proof.</div>
<div class="proofscript" id="proof4773">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">easy</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="regset_inject_acc">regset_inject_acc</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">forallr</span> - @ <span class="id">R</span>, <span class="id">acc</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> ++&gt; <span class="id">subrel</span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4774')">Proof.</div>
<div class="proofscript" id="proof4774">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span>. <span class="tactic">repeat</span> <span class="id">rstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">rs1</span> <span class="id">rs2</span> <span class="id">Hrs</span> <span class="id">i</span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">set_inject</span>' <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span>: <span class="id"><a href="compcert.x86.Asm.html#PregEq.t">PregEq.t</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#r">r</a></span> &lt;&gt; <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span>: <span class="id"><a href="compcert.common.Values.html#val">val</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) <span class="id"><a href="compcert.x86.Asmrel.html#v1">v1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#v2">v2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs1</span> <span class="id">rs2</span>: <span class="id"><a href="compcert.x86.Asm.html#regset">regset</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">regset_inject</span>' <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs2">rs2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">regset_inject</span>' <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> (<span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> # <span class="id"><a href="compcert.x86.Asmrel.html#r">r</a></span> &lt;- <span class="id"><a href="compcert.x86.Asmrel.html#v1">v1</a></span>) (<span class="id"><a href="compcert.x86.Asmrel.html#rs2">rs2</a></span> # <span class="id"><a href="compcert.x86.Asmrel.html#r">r</a></span> &lt;- <span class="id"><a href="compcert.x86.Asmrel.html#v2">v2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4775')">Proof.</div>
<div class="proofscript" id="proof4775">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">r</span> <span class="id">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">regset_inject</span>', <span class="id"><a href="compcert.x86.Asm.html#Pregmap.set">Pregmap.set</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">Hv</span> <span class="id">rs1</span> <span class="id">rs2</span> <span class="id">Hrs</span> <span class="id">r</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86.Asm.html#PregEq.eq">PregEq.eq</a></span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.x86.Asm.html#PregEq.eq">PregEq.eq</a></span> <span class="id">r</span>' <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>). <span class="tactic">congruence</span>. <span class="id">now</span> <span class="tactic">apply</span> <span class="id">Hrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">now</span> <span class="tactic">apply</span> <span class="id">Hrs</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="nextinstr_inject">nextinstr_inject</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asm.html#nextinstr">nextinstr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4776')">Proof.</div>
<div class="proofscript" id="proof4776">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#nextinstr">nextinstr</a></span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="undef_regs_inject">undef_regs_inject</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asm.html#undef_regs">undef_regs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(- ==&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4777')">Proof.</div>
<div class="proofscript" id="proof4777">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">regs</span>. <span class="tactic">induction</span> <span class="id">regs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rstep</span>. <span class="tactic">apply</span> <span class="id">IHregs</span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="nextinstr_nf_inject">nextinstr_nf_inject</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asm.html#nextinstr_nf">nextinstr_nf</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4778')">Proof.</div>
<div class="proofscript" id="proof4778">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#nextinstr_nf">nextinstr_nf</a></span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="eval_addrmode32_inject">eval_addrmode32_inject</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asm.html#eval_addrmode32">eval_addrmode32</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Globalenvs.html#Genv.match_stbls">Genv.match_stbls</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) ++&gt; - ==&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4779')">Proof.</div>
<div class="proofscript" id="proof4779">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#eval_addrmode32">eval_addrmode32</a></span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="eval_addrmode64_inject">eval_addrmode64_inject</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asm.html#eval_addrmode64">eval_addrmode64</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Globalenvs.html#Genv.match_stbls">Genv.match_stbls</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) ++&gt; - ==&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4780')">Proof.</div>
<div class="proofscript" id="proof4780">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#eval_addrmode64">eval_addrmode64</a></span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="eval_addrmode_inject">eval_addrmode_inject</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asm.html#eval_addrmode">eval_addrmode</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Globalenvs.html#Genv.match_stbls">Genv.match_stbls</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) ++&gt; - ==&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4781')">Proof.</div>
<div class="proofscript" id="proof4781">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#eval_addrmode">eval_addrmode</a></span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="exec_load_match">exec_load_match</a></span> <span class="id">R</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asm.html#exec_load">exec_load</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|= <span class="id"><a href="compcert.common.Globalenvs.html#Genv.match_stbls">Genv.match_stbls</a></span> @@ [<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span>] ++&gt; - ==&gt; <span class="id"><a href="compcert.cklr.CKLR.html#match_mem">match_mem</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> ++&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- ==&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> ++&gt; - ==&gt; &lt;&gt; <span class="id"><a href="compcert.x86.Asmrel.html#outcome_match">outcome_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4782')">Proof.</div>
<div class="proofscript" id="proof4782">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#exec_load">exec_load</a></span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="outcome_stuck_acc">outcome_stuck_acc</a></span> <span class="id">R</span> <span class="id">o</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Related</span> <span class="id"><a href="compcert.x86.Asm.html#Stuck">Stuck</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#o">o</a></span> (|= (&lt;&gt; <span class="id"><a href="compcert.x86.Asmrel.html#outcome_match">outcome_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4783')">Proof.</div>
<div class="proofscript" id="proof4783">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">w</span>. <span class="id">eexists</span>; <span class="tactic">split</span>; <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="exec_store_match">exec_store_match</a></span> <span class="id">R</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asm.html#exec_store">exec_store</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|= <span class="id"><a href="compcert.common.Globalenvs.html#Genv.match_stbls">Genv.match_stbls</a></span> @@ [<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span>] ++&gt; - ==&gt; <span class="id"><a href="compcert.cklr.CKLR.html#match_mem">match_mem</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> ++&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- ==&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> ++&gt; - ==&gt; - ==&gt; &lt;&gt; <span class="id"><a href="compcert.x86.Asmrel.html#outcome_match">outcome_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4784')">Proof.</div>
<div class="proofscript" id="proof4784">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#exec_store">exec_store</a></span>. <span class="tactic">repeat</span> <span class="id">rstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H4</span> <span class="kwd">as</span> (<span class="id">w</span>'&amp;<span class="id">Hw</span>'&amp;<span class="id">Hm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">split</span>; <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="eval_testcond_le">eval_testcond_le</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asm.html#eval_testcond">eval_testcond</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(- ==&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id">option_le</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4785')">Proof.</div>
<div class="proofscript" id="proof4785">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#eval_testcond">eval_testcond</a></span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="goto_label_inject">goto_label_inject</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asm.html#goto_label">goto_label</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(- ==&gt; - ==&gt; <span class="id">regset_inject</span>' <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.cklr.CKLR.html#match_mem">match_mem</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.x86.Asmrel.html#outcome_match">outcome_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4786')">Proof.</div>
<div class="proofscript" id="proof4786">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">rdestruct_remember_intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#goto_label">goto_label</a></span>. <span class="tactic">repeat</span> <span class="id">rstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H0</span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>) <span class="kwd">as</span> [? <span class="id">Hpc</span>]. <span class="tactic">destruct</span> <span class="id">Hpc</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cklr.Valuesrel.html#block_sameofs_ptrbits_inject">block_sameofs_ptrbits_inject</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="init_nb_match">init_nb_match</a></span> <span class="id">R</span> <span class="id">w</span>: <span class="id">rel</span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) ++&gt; <span class="id">option_le</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span>) @@ <span class="id"><a href="compcert.x86.Asm.html#inner_sp">inner_sp</a></span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="inner_sp_rel">inner_sp_rel</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asm.html#inner_sp">inner_sp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#init_nb_match">init_nb_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) ++&gt; <span class="id">option_le</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4787')">Proof.</div>
<div class="proofscript" id="proof4787">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asmrel.html#init_nb_match">init_nb_match</a></span>. <span class="tactic">repeat</span> <span class="id">rstep</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="exec_instr_match">exec_instr_match</a></span> <span class="id">R</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="compcert.x86.Asm.html#exec_instr">exec_instr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|= <span class="id"><a href="compcert.x86.Asmrel.html#init_nb_match">init_nb_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> ++&gt; <span class="id"><a href="compcert.common.Globalenvs.html#Genv.match_stbls">Genv.match_stbls</a></span> @@ [<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span>] ++&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- ==&gt; - ==&gt; <span class="id">regset_inject</span>' <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> ++&gt; <span class="id"><a href="compcert.cklr.CKLR.html#match_mem">match_mem</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> ++&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&gt; <span class="id"><a href="compcert.x86.Asmrel.html#outcome_match">outcome_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4788')">Proof.</div>
<div class="proofscript" id="proof4788">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">w</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">Hb</span> <span class="id">ge1</span> <span class="id">ge2</span> <span class="id">Hge</span> <span class="id">f</span> <span class="id">i</span> <span class="id">rs1</span> <span class="id">rs2</span> <span class="id">Hrs</span>' <span class="id">m1</span> <span class="id">m2</span> <span class="id">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">i</span>; <span class="id">cbn</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Asmrel.html#regset_inj_subrel">regset_inj_subrel</a></span> <span class="kwd">in</span> <span class="id">Hrs</span>' <span class="kwd">as</span> <span class="id">Hrs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#compare_ints">compare_ints</a></span>, <span class="id"><a href="compcert.x86.Asm.html#compare_longs">compare_longs</a></span>, <span class="id"><a href="compcert.x86.Asm.html#compare_floats">compare_floats</a></span>, <span class="id"><a href="compcert.x86.Asm.html#compare_floats32">compare_floats32</a></span>, <span class="id"><a href="compcert.x86.Asm.html#undef_regs">undef_regs</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">rstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eexists</span>. <span class="tactic">split</span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">first</span> [<span class="id">rstep</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> | <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>]. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eexists</span>. <span class="tactic">split</span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">first</span> [<span class="id">rstep</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> | <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>]. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eexists</span>. <span class="tactic">split</span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rstep</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">set_inject</span>'; [<span class="tactic">discriminate</span> | <span class="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">set_inject</span>'; [<span class="tactic">discriminate</span> | <span class="tactic">auto</span> | <span class="tactic">auto</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">m</span> <span class="kwd">as</span> [<span class="id">m1</span>' <span class="id">b1</span>']. <span class="tactic">destruct</span> <span class="id">n</span> <span class="kwd">as</span> [<span class="id">m2</span>' <span class="id">b2</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> (<span class="id">Hw</span> &amp; <span class="id">Hm</span>' &amp; <span class="id">Hb</span>'). <span class="id">cbn</span> [<span class="id">fst</span> <span class="id">snd</span>] <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">rstep</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_zero_l">Ptrofs.add_zero_l</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> (<span class="id">w2</span> &amp; <span class="id">Hw2</span> &amp; <span class="id">Hm2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">rstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> (<span class="id">w3</span> &amp; <span class="id">Hw3</span> &amp; <span class="id">Hm3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">w3</span>. <span class="tactic">split</span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">rstep</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cklr.Valuesrel.html#block_sameofs_ptrbits_inject">block_sameofs_ptrbits_inject</a></span>; <span class="tactic">split</span>; <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> 0 <span class="id">sz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;sz&nbsp;&gt;&nbsp;0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">free</span>'. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.                <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id">eqn</span>: <span class="id">Hfree</span>; <span class="tactic">try</span> <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.cklr.CKLR.html#cklr_address_inject">cklr_address_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id">transport</span> <span class="kwd">in</span> <span class="id">Hfree</span> <span class="kwd">as</span> (<span class="id">m</span>' &amp; <span class="id">Hfree</span>' &amp; <span class="id">Hm</span>');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ | <span class="tactic">clear</span> <span class="id">Hfree</span>; <span class="tactic">repeat</span> <span class="id">rstep</span>; <span class="tactic">eauto</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hm</span>' <span class="kwd">as</span> (<span class="id">w</span>' &amp; <span class="id">Hw</span>' &amp; <span class="id">Hm</span>'). <span class="tactic">rewrite</span> <span class="id">Hfree</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">w</span>'. <span class="tactic">split</span>; <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_range_perm">Mem.free_range_perm</a></span> <span class="kwd">in</span> <span class="id">Hfree</span>. <span class="tactic">apply</span> <span class="id">Hfree</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;sz&nbsp;&lt;=&nbsp;0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">free</span>'. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">w</span>. <span class="tactic">split</span>; <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="reg_inj_strengthen">reg_inj_strengthen</a></span> <span class="id">R</span> <span class="id">w</span> <span class="id">ge1</span> <span class="id">ge2</span> <span class="id">rs1</span> <span class="id">rs2</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">f</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#genv_match">genv_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ge1">ge1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ge2">ge2</a></span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span> = <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#b">b</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ge1">ge1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs2">rs2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">regset_inject</span>' <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs2">rs2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4789')">Proof.</div>
<div class="proofscript" id="proof4789">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hge</span> <span class="id">Hpc</span> <span class="id">Hf</span> <span class="id">Hrs</span> <span class="id">r</span>'. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> -&gt;. <span class="id">specialize</span> (<span class="id">Hrs</span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>). <span class="tactic">rewrite</span> <span class="id">Hpc</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hrs</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.x86.Asmrel.html#genv_genv_match">genv_genv_match</a></span> <span class="kwd">in</span> <span class="id">Hge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="kwd">in</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="id">ge1</span> <span class="id">b</span>) <span class="id">eqn</span>: <span class="id">Hfd</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> @<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_match_genvs">Genv.find_def_match_genvs</a></span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="step_reg_inj_strengthen">step_reg_inj_strengthen</a></span> <span class="id">R</span> <span class="id">w</span> <span class="id">nb</span> <span class="id">ge1</span> <span class="id">ge2</span> <span class="id">rs1</span> <span class="id">rs2</span> <span class="id">rs1</span>' <span class="id">m1</span> <span class="id">m1</span>' <span class="id">live1</span> <span class="id">live1</span>' <span class="id">t</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asm.html#step">step</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#nb">nb</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ge1">ge1</a></span> (<span class="id"><a href="compcert.x86.Asm.html#State">State</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m1">m1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#live1">live1</a></span>) <span class="id"><a href="compcert.x86.Asmrel.html#t">t</a></span> (<span class="id"><a href="compcert.x86.Asm.html#State">State</a></span> <span class="id">rs1</span>' <span class="id">m1</span>' <span class="id">live1</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#genv_match">genv_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ge1">ge1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#ge2">ge2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs2">rs2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">regset_inject</span>' <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs2">rs2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4790')">Proof.</div>
<div class="proofscript" id="proof4790">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> 1; <span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="compcert.x86.Asmrel.html#reg_inj_strengthen">reg_inj_strengthen</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="set_res_inject">set_res_inject</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="compcert.x86.Asm.html#set_res">set_res</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(- ==&gt; <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) ++&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4791')">Proof.</div>
<div class="proofscript" id="proof4791">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#set_res">set_res</a></span>. <span class="tactic">intros</span> <span class="id">res</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">res</span>; <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="extcall_arg_inject">extcall_arg_inject</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="compcert.x86.Asm.html#extcall_arg">extcall_arg</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.cklr.CKLR.html#match_mem">match_mem</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; - ==&gt; <span class="id">set_le</span> (<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4792')">Proof.</div>
<div class="proofscript" id="proof4792">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">rs1</span> <span class="id">rs2</span> <span class="id">Hrs</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">Hm</span> <span class="id">l</span> <span class="id">v</span> <span class="id">Hv</span>. <span class="id">inv</span> <span class="id">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eexists</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">transport_hyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Extern</span> 1 (<span class="id">Transport</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">set_le_transport</span> @<span class="id"><a href="compcert.x86.Asm.html#extcall_arg">extcall_arg</a></span>: <span class="id">typeclass_instances</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="extcall_arg_pair_inject">extcall_arg_pair_inject</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="compcert.x86.Asm.html#extcall_arg_pair">extcall_arg_pair</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.cklr.CKLR.html#match_mem">match_mem</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; - ==&gt; <span class="id">set_le</span> (<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4793')">Proof.</div>
<div class="proofscript" id="proof4793">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">rs1</span> <span class="id">rs2</span> <span class="id">Hrs</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">Hm</span> <span class="id">lp</span> <span class="id">vs</span> <span class="id">Hvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hvs</span>; <span class="id">transport_hyps</span>; <span class="id">eexists</span>; <span class="tactic">split</span>; <span class="tactic">try</span> <span class="id">constructor</span>; <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Extern</span> 1 (<span class="id">Transport</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">set_le_transport</span> @<span class="id"><a href="compcert.x86.Asm.html#extcall_arg_pair">extcall_arg_pair</a></span>: <span class="id">typeclass_instances</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="extcall_arguments_inject">extcall_arguments_inject</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="compcert.x86.Asm.html#extcall_arguments">extcall_arguments</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.cklr.CKLR.html#match_mem">match_mem</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; - ==&gt; <span class="id">set_le</span> (<span class="id"><a href="compcert.common.Values.html#Val.inject_list">Val.inject_list</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4794')">Proof.</div>
<div class="proofscript" id="proof4794">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#extcall_arguments">extcall_arguments</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">rs1</span> <span class="id">rs2</span> <span class="id">Hrs</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">Hm</span> <span class="id">sg</span> <span class="id">args1</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id">sg</span>) <span class="kwd">as</span> <span class="id">ls</span>. <span class="tactic">clear</span> <span class="id">Heqls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eexists</span>; <span class="tactic">split</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">IHlist_forall2</span> <span class="kwd">as</span> (<span class="id">bs</span> &amp; <span class="id">IH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transport_hyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span> (<span class="id">x</span> :: <span class="id">bs</span>). <span class="tactic">split</span>; <span class="id">constructor</span>; <span class="tactic">auto</span>; <span class="tactic">apply</span> <span class="id">IH</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Hint</span> <span class="kwd">Extern</span> 1 (<span class="id">Transport</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">set_le_transport</span> @<span class="id"><a href="compcert.x86.Asm.html#extcall_arguments">extcall_arguments</a></span> : <span class="id">typeclass_instances</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="set_pair_inject">set_pair_inject</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="compcert.x86.Asm.html#set_pair">set_pair</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(- ==&gt; <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) ++&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4795')">Proof.</div>
<div class="proofscript" id="proof4795">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#set_pair">set_pair</a></span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="under_caller_save_regs_inject">under_caller_save_regs_inject</a></span> <span class="id">R</span> <span class="id">w</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="compcert.x86.Asm.html#undef_caller_save_regs">undef_caller_save_regs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ++&gt; <span class="id"><a href="compcert.x86.Asmrel.html#regset_inject">regset_inject</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4796')">Proof.</div>
<div class="proofscript" id="proof4796">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#undef_caller_save_regs">undef_caller_save_regs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">rstep</span>. <span class="tactic">intros</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">_</span> || <span class="id">_</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="exec_instr_transport">exec_instr_transport</a></span> <span class="id">R</span> <span class="id">w</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">se1</span> <span class="id">se2</span> <span class="id">rs1</span> <span class="id">rs2</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">f</span> <span class="id">i</span> <span class="id">o</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Transport</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#init_nb_match">init_nb_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> * <span class="id"><a href="compcert.common.Globalenvs.html#Genv.match_stbls">Genv.match_stbls</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>) * <span class="id">regset_inject</span>' <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> * <span class="id"><a href="compcert.cklr.CKLR.html#match_mem">match_mem</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span>)%<span class="id">rel</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#b1">b1</a></span>, <span class="id"><a href="compcert.x86.Asmrel.html#se1">se1</a></span>, <span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span>, <span class="id"><a href="compcert.x86.Asmrel.html#m1">m1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#b2">b2</a></span>, <span class="id"><a href="compcert.x86.Asmrel.html#se2">se2</a></span>, <span class="id"><a href="compcert.x86.Asmrel.html#rs2">rs2</a></span>, <span class="id"><a href="compcert.x86.Asmrel.html#m2">m2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asm.html#exec_instr">exec_instr</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#b1">b1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#se1">se1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#f">f</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#i">i</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m1">m1</a></span> = <span class="id"><a href="compcert.x86.Asmrel.html#o">o</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">o</span>', <span class="id"><a href="compcert.x86.Asm.html#exec_instr">exec_instr</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#b2">b2</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#se2">se2</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#f">f</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#i">i</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs2">rs2</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m2">m2</a></span> = <span class="id">o</span>' /\ (&lt;&gt; <span class="id"><a href="compcert.x86.Asmrel.html#outcome_match">outcome_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span>)%<span class="id">klr</span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#o">o</a></span> <span class="id">o</span>' ).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4797')">Proof.</div>
<div class="proofscript" id="proof4797">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hrel</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="compcert.x86.Asmrel.html#exec_instr_match">exec_instr_match</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">Hrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="tactic">split</span>. <span class="id">cbn</span> <span class="kwd">in</span> *. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">subst</span> <span class="id">o</span>. <span class="tactic">apply</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="step_rel">step_rel</a></span> <span class="id">R</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Monotonic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="compcert.x86.Asm.html#step">step</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|= <span class="id"><a href="compcert.x86.Asmrel.html#init_nb_match">init_nb_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> ==&gt; <span class="id"><a href="compcert.x86.Asmrel.html#genv_match">genv_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> ++&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#state_match">state_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> ++&gt; - ==&gt; <span class="id">k1</span> <span class="id">set_le</span> (&lt;&gt; <span class="id"><a href="compcert.x86.Asmrel.html#state_match">state_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4798')">Proof.</div>
<div class="proofscript" id="proof4798">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">w</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">Hb</span> <span class="id">ge1</span> <span class="id">ge2</span> <span class="id">Hge</span> [<span class="id">rs1</span> <span class="id">m1</span> <span class="id">live1</span>] [<span class="id">rs2</span> <span class="id">m2</span> <span class="id">live2</span>] <span class="id">Hs</span> <span class="id">t</span> [<span class="id">rs1</span>' <span class="id">m1</span>' <span class="id">live1</span>'] <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hs</span> <span class="kwd">as</span> [? ? <span class="id">Hrs</span> ? ? <span class="id">Hm</span>]. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hrs</span>': <span class="id">regset_inject</span>' <span class="id">R</span> <span class="id">w</span> <span class="id">rs1</span> <span class="id">rs2</span>) <span class="tactic">by</span> <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.x86.Asmrel.html#step_reg_inj_strengthen">step_reg_inj_strengthen</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.match_stbls">Genv.match_stbls</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id">R</span> <span class="id">w</span>) <span class="id">ge1</span> <span class="id">ge2</span>) <span class="tactic">by</span> <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Asmrel.html#genv_genv_match">genv_genv_match</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hpc</span> : <span class="id"><a href="compcert.x86.Asmrel.html#inject_ptr_sameofs">inject_ptr_sameofs</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id">R</span> <span class="id">w</span>) (<span class="id">rs1</span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>) (<span class="id">rs2</span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>)) <span class="tactic">by</span> <span class="id">now</span> <span class="tactic">apply</span> <span class="id">Hrs</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hpc</span>; [ | <span class="tactic">inversion</span> <span class="id">H1</span>; <span class="tactic">congruence</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.cklr.Valuesrel.html#block_inject_sameofs">block_inject_sameofs</a></span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id">R</span> <span class="id">w</span>) <span class="id">b0</span> <span class="id">b3</span>) <span class="tactic">by</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H1</span>; <span class="tactic">subst</span>; <span class="tactic">replace</span> <span class="id">b</span> <span class="kwd">with</span> <span class="id">b0</span> <span class="kwd">in</span> * <span class="tactic">by</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">transport</span> <span class="id">FIND</span>. <span class="id">transport</span> <span class="id">EXEC</span>. <span class="tactic">inversion</span> <span class="id">INSTR</span>. <span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eexists</span>. <span class="tactic">split</span>. <span class="id">rauto</span>. <span class="id">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">transport</span> <span class="id">FIND</span>. <span class="id">transport</span> <span class="id">EVAL</span>. <span class="id">transport</span> <span class="id">CALL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">INSTR</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eexists</span>. <span class="tactic">split</span>; <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">transport</span> <span class="id">FIND</span>. <span class="id">transport</span> <span class="id">ARGS</span>. <span class="id">transport</span> <span class="id">CALL</span>. <span class="id">transport</span> <span class="id">ISP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.x86.Asm.html#exec_step_external">exec_step_external</a></span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eexists</span>. <span class="tactic">split</span>; <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.x86.Asmrel.html#PROG">PROG</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="init_nb_match_acc">init_nb_match_acc</a></span> <span class="id">R</span> <span class="id">w</span> <span class="id">w</span>' <span class="id">nb1</span> <span class="id">nb2</span> <span class="id">m1</span> <span class="id">m2</span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cklr.CKLR.html#match_mem">match_mem</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m1">m1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#nb1">nb1</a></span> &lt;= <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m1">m1</a></span>)%<span class="id">positive</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#nb2">nb2</a></span> &lt;= <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m2">m2</a></span>)%<span class="id">positive</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> ~&gt; <span class="id">w</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#init_nb_match">init_nb_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#nb1">nb1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#nb2">nb2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#init_nb_match">init_nb_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id">w</span>' <span class="id"><a href="compcert.x86.Asmrel.html#nb1">nb1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#nb2">nb2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4799')">Proof.</div>
<div class="proofscript" id="proof4799">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hm</span> <span class="id">Hb1</span> <span class="id">Hb2</span> <span class="id">Hw</span> <span class="id">Hb</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asmrel.html#init_nb_match">init_nb_match</a></span>. <span class="tactic">intros</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">Hv</span>. <span class="id">specialize</span> (<span class="id">Hb</span> <span class="id">v1</span> <span class="id">v2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#inner_sp">inner_sp</a></span>. <span class="id">inv</span> <span class="id">Hv</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cklr.CKLR.html#mi">mi</a></span> <span class="id">R</span> <span class="id">w</span> <span class="id">b1</span>) <span class="kwd">as</span> [[<span class="id">b1</span>' <span class="id">d</span>] | ] <span class="id">eqn</span>: <span class="id">Hmi</span>.<br/>
&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id"><a href="compcert.cklr.CKLR.html#mi_acc">mi_acc</a></span>; [ <span class="tactic">apply</span> <span class="id">Hw</span> | <span class="tactic">apply</span> <span class="id">Hmi</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hmi</span>'. <span class="tactic">rewrite</span> <span class="id">Hmi</span>' <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">clear</span> <span class="id">Hmi</span>'. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hb</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id"><a href="compcert.cklr.CKLR.html#mi_acc_separated">mi_acc_separated</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">Hvb1</span> <span class="id">Hvb2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#plt">plt</a></span> <span class="id">b1</span> <span class="id">nb1</span>); <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#plt">plt</a></span> <span class="id">b2</span> <span class="id">nb2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="id">rauto</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="kwd">in</span> *; <span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id">Hvb1</span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_le_trans">Pos.lt_le_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id">Hvb2</span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_le_trans">Pos.lt_le_trans</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="init_nb_state_match">init_nb_state_match</a></span> <span class="id">R</span> <span class="id">w</span>: <span class="id">rel</span> (<span class="id"><a href="compcert.common.Values.html#block">block</a></span> * <span class="id"><a href="compcert.x86.Asm.html#state">state</a></span>) (<span class="id"><a href="compcert.common.Values.html#block">block</a></span> * <span class="id"><a href="compcert.x86.Asm.html#state">state</a></span>) :=<br/>
| <span class="id"><a name="init_nb_state_match_intro">init_nb_state_match_intro</a></span> <span class="id">nb1</span> <span class="id">nb2</span> <span class="id">rs1</span> <span class="id">rs2</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">live</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#init_nb_match">init_nb_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#nb1">nb1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#nb2">nb2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#state_match">state_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> (<span class="id"><a href="compcert.x86.Asm.html#State">State</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m1">m1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#live">live</a></span>) (<span class="id"><a href="compcert.x86.Asm.html#State">State</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs2">rs2</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m2">m2</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#live">live</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#nb1">nb1</a></span> &lt;= <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m1">m1</a></span>)%<span class="id">positive</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.x86.Asmrel.html#nb2">nb2</a></span> &lt;= <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m2">m2</a></span>)%<span class="id">positive</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asmrel.html#init_nb_state_match">init_nb_state_match</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#w">w</a></span> (<span class="id"><a href="compcert.x86.Asmrel.html#nb1">nb1</a></span>, <span class="id"><a href="compcert.x86.Asm.html#State">State</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m1">m1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#live">live</a></span>) (<span class="id"><a href="compcert.x86.Asmrel.html#nb2">nb2</a></span>, <span class="id"><a href="compcert.x86.Asm.html#State">State</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs2">rs2</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m2">m2</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#live">live</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="step_nextblock">step_nextblock</a></span> <span class="id">se</span> <span class="id">p</span> <span class="id">nb</span> <span class="id">rs1</span> <span class="id">m1</span> <span class="id">live1</span> <span class="id">t</span> <span class="id">rs2</span> <span class="id">m2</span> <span class="id">live2</span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Asm.html#step">step</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#nb">nb</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#se">se</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#p">p</a></span>) (<span class="id"><a href="compcert.x86.Asm.html#State">State</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs1">rs1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m1">m1</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#live1">live1</a></span>) <span class="id"><a href="compcert.x86.Asmrel.html#t">t</a></span> (<span class="id"><a href="compcert.x86.Asm.html#State">State</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#rs2">rs2</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m2">m2</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#live2">live2</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m1">m1</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#m2">m2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4800')">Proof.</div>
<div class="proofscript" id="proof4800">
&nbsp;&nbsp;<span class="tactic">inversion</span> 1; <span class="tactic">subst</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.x86.Asmgenproof.html#exec_instr_nextblock">exec_instr_nextblock</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.le_nlt">Pos.le_nlt</a></span>. <span class="tactic">intros</span> <span class="id">H</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#ec_valid_block">ec_valid_block</a></span>; [ <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Events.html#external_call_spec">external_call_spec</a></span> | <span class="tactic">eauto</span> | <span class="tactic">apply</span> <span class="id">H</span>' | <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_irrefl">Pos.lt_irrefl</a></span> ].<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.le_nlt">Pos.le_nlt</a></span>. <span class="tactic">intros</span> <span class="id">H</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#ec_valid_block">ec_valid_block</a></span>; [ <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Events.html#external_call_spec">external_call_spec</a></span> | <span class="tactic">eauto</span> | <span class="tactic">apply</span> <span class="id">H</span>' | <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_irrefl">Pos.lt_irrefl</a></span> ].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="semantics_asm_rel">semantics_asm_rel</a></span> <span class="id">p</span> <span class="id">R</span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> (<span class="id"><a href="compcert.x86.Asm.html#cc_asm">cc_asm</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span>) (<span class="id"><a href="compcert.x86.Asm.html#cc_asm">cc_asm</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#R">R</a></span>) (<span class="id"><a href="compcert.x86.Asm.html#semantics">Asm.semantics</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#p">p</a></span>) (<span class="id"><a href="compcert.x86.Asm.html#semantics">Asm.semantics</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#p">p</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4801')">Proof.</div>
<div class="proofscript" id="proof4801">
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id">_</span>). <span class="id">cbn</span> <span class="id">beta</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">se1</span> <span class="id">se2</span> <span class="id">w</span> <span class="id">Hse</span> <span class="id">Hse1</span>. <span class="id">cbn</span> -[<span class="id">semantics</span>] <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">pose</span> (<span class="id">ms</span> := <span class="kwd">fun</span> <span class="id">s1</span> <span class="id">s2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">klr_diam</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> (<span class="id"><a href="compcert.x86.Asmrel.html#genv_match">genv_match</a></span> <span class="id">p</span> <span class="id">R</span> * <span class="id"><a href="compcert.x86.Asmrel.html#init_nb_state_match">init_nb_state_match</a></span> <span class="id">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">w</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id">se1</span> <span class="id">p</span>, <span class="id"><a href="compcert.x86.Asmrel.html#s1">s1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id">se2</span> <span class="id">p</span>, <span class="id"><a href="compcert.x86.Asmrel.html#s2">s2</a></span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_step">forward_simulation_step</a></span> <span class="kwd">with</span> (<span class="id">match_states</span> := <span class="id">ms</span>); <span class="id">cbn</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;valid_query&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="tactic">intros</span> [<span class="id">rs1</span> <span class="id">m1</span>] [<span class="id">rs2</span> <span class="id">m2</span>] [<span class="id">Hrs</span> [<span class="id">Hpc</span> <span class="id">Hm</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.is_internal_match">Genv.is_internal_match</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> (<span class="id"><a href="compcert.common.AST.html#prog_defs">prog_defs</a></span> <span class="id">p</span>) <span class="kwd">as</span> [ | [<span class="id">id</span> [<span class="id">f</span>|<span class="id">v</span>]] <span class="id">defs</span> <span class="id">IHdefs</span>]; <span class="tactic">repeat</span> (<span class="id">econstructor</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">instantiate</span> (2 := <span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span>). <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">instantiate</span> (1 := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span>). <span class="tactic">destruct</span> <span class="id">v</span>. <span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.cklr.CKLR.html#match_stbls_proj">match_stbls_proj</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;initial_state&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="tactic">intros</span> [<span class="id">rs1</span> <span class="id">m1</span>] [<span class="id">rs2</span> <span class="id">m2</span>] [<span class="id">nb1</span> <span class="id">s1</span>] <span class="id">Hs</span> [<span class="id">Hq</span> <span class="id">Hnb</span>]. <span class="tactic">destruct</span> <span class="id">Hs</span> <span class="kwd">as</span> [<span class="id">Hrs</span> [<span class="id">Hpc</span> <span class="id">Hm</span>]]. <span class="id">inv</span> <span class="id">Hq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hge</span>: <span class="id"><a href="compcert.x86.Asmrel.html#genv_match">genv_match</a></span> <span class="id">p</span> <span class="id">R</span> <span class="id">w</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id">se1</span> <span class="id">p</span>) (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id">se2</span> <span class="id">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">cut</span> (<span class="id"><a href="compcert.cklr.CKLR.html#match_stbls">match_stbls</a></span> <span class="id">R</span> <span class="id">w</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id">se1</span> <span class="id">p</span>) (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id">se2</span> <span class="id">p</span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> (<span class="id">rel_push_rintro</span> (<span class="kwd">fun</span> <span class="id">se</span> =&gt; <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#se">se</a></span> <span class="id">p</span>) (<span class="kwd">fun</span> <span class="id">se</span> =&gt; <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.x86.Asmrel.html#se">se</a></span> <span class="id">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">Hrs</span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>) <span class="kwd">as</span> <span class="id">Hpc</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transport_hyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m2</span>, <span class="id"><a href="compcert.x86.Asm.html#State">State</a></span> <span class="id">rs2</span> <span class="id">m2</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;initial_state&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">specialize</span> (<span class="id">Hrs</span> <span class="id"><a href="compcert.x86.Asm.html#SP">SP</a></span>) <span class="kwd">as</span> <span class="id">Hsp</span>. <span class="id">inv</span> <span class="id">Hsp</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">specialize</span> (<span class="id">Hrs</span> <span class="id"><a href="compcert.x86.Asm.html#RA">RA</a></span>) <span class="kwd">as</span> <span class="id">Hsp</span>. <span class="id">inv</span> <span class="id">Hsp</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;match_state&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">cbn</span>. <span class="id">esplit</span>. <span class="tactic">split</span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">cbn</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">cbn</span>; <span class="id">first</span> [ <span class="tactic">reflexivity</span> | <span class="id">constructor</span>; <span class="tactic">auto</span> | <span class="tactic">eauto</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;init_nb_match&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asmrel.html#init_nb_match">init_nb_match</a></span>. <span class="tactic">intros</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#inner_sp">inner_sp</a></span>. <span class="id">inv</span> <span class="id">Hv</span>; <span class="id">rstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="compcert.cklr.CKLR.html#cklr_valid_block">cklr_valid_block</a></span> <span class="kwd">as</span> [<span class="id">Hl</span> <span class="id">Hr</span>]; <span class="tactic">try</span> <span class="id">rstep</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.lib.Coqlib.html#plt">plt</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="compcert.lib.Coqlib.html#plt">plt</a></span>; <span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">apply</span> <span class="id">n</span>. <span class="tactic">apply</span> <span class="id">Hl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">apply</span> <span class="id">n</span>. <span class="tactic">apply</span> <span class="id">Hr</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;final_state&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="tactic">intros</span> [<span class="id">nb1</span> <span class="id">s1</span>] [<span class="id">nb2</span> <span class="id">s2</span>] [<span class="id">rs1</span> <span class="id">m1</span>] (<span class="id">w</span>' &amp; <span class="id">Hw</span>' &amp; <span class="id">Hge</span> &amp; <span class="id">Hs</span>) <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cbn</span> [<span class="id">fst</span> <span class="id">snd</span>] <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">Hs</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">eexists</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;final_state&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;match_reply&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">eexists</span>. <span class="tactic">split</span>; <span class="tactic">try</span> <span class="id">rauto</span>. <span class="id">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;external&nbsp;calls&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="tactic">intros</span> [<span class="id">nb1</span> <span class="id">s1</span>] [<span class="id">nb2</span> <span class="id">s2</span>] <span class="id">qx1</span> (<span class="id">w</span>' &amp; <span class="id">Hw</span>' &amp; <span class="id">Hge</span> &amp; <span class="id">Hs</span>) <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cbn</span> [<span class="id">fst</span> <span class="id">snd</span>] <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hs</span> <span class="kwd">as</span> [? ? <span class="id">rs1</span> <span class="id">rs2</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">live</span> <span class="id">Hb</span> <span class="id">Hs</span>' <span class="id">Hle1</span> <span class="id">Hle2</span>]. <span class="tactic">subst</span>. <span class="tactic">clear</span> <span class="id">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hs</span>' <span class="kwd">as</span> [? ? <span class="id">Hrs</span> ? ? <span class="id">Hm</span> ?]. <span class="tactic">subst</span>. <span class="tactic">clear</span> <span class="id">Hs</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">specialize</span> (<span class="id">Hrs</span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>) <span class="kwd">as</span> <span class="id">Hpc</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hpc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">rs1</span>#<span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span> &lt;&gt; <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">destruct</span> (<span class="id">rs1</span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>); <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transport_hyps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span> <span class="id">w</span>', <span class="id">_</span>. <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;at_external&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econstructor</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;match_query&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;match_stbls&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;simulation&nbsp;after&nbsp;reply&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span> [<span class="id">rrs1</span> <span class="id">rm1</span>] [<span class="id">rrs2</span> <span class="id">rm2</span>] [<span class="id">rb1</span> <span class="id">rst1</span>] (<span class="id">w</span>'' &amp; <span class="id">Hw</span>'' &amp; <span class="id">Hr</span>) [<span class="id">H1</span> <span class="id">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hr</span> <span class="kwd">as</span> [<span class="id">Hrs</span>' <span class="id">Hm</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="id">eexists</span> (<span class="id">_</span>, <span class="id">_</span>). <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;after_nexternal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.cklr.CKLR.html#cklr_nextblock_incr">cklr_nextblock_incr</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">rewrite</span> &lt;- <span class="id">H9</span>. <span class="id">specialize</span> (<span class="id">Hrs</span>' <span class="id"><a href="compcert.x86.Asm.html#SP">SP</a></span>) <span class="kwd">as</span> <span class="id">Hsp</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.x86.Asmrel.html#init_nb_match_acc">init_nb_match_acc</a></span> <span class="id">R</span> <span class="id">w</span>' <span class="id">w</span>''); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hisp</span>. <span class="id">inv</span> <span class="id">Hisp</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;nb'&nbsp;=&nbsp;nb&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;state_match&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">exists</span> <span class="id">w</span>''. <span class="tactic">split</span>. <span class="id">rauto</span>. <span class="tactic">split</span>; [ | <span class="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;genv_match&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">eapply</span> <span class="id"><a href="compcert.x86.Asmrel.html#genv_match_acc">genv_match_acc</a></span>. <span class="tactic">apply</span> <span class="id">Hw</span>''. <span class="tactic">apply</span> <span class="id">Hge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;init_nb_match&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">clear</span> <span class="id">Hm</span>'. <span class="tactic">eapply</span> <span class="id"><a href="compcert.x86.Asmrel.html#init_nb_match_acc">init_nb_match_acc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;state_match&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;nb1&nbsp;&lt;=&nbsp;nextblock&nbsp;m1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.le_trans">Pos.le_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;nb2&nbsp;&lt;=&nbsp;nextblock&nbsp;m2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.le_trans">Pos.le_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.cklr.CKLR.html#cklr_nextblock_incr">cklr_nextblock_incr</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">intros</span> [<span class="id">nb1</span> <span class="id">s1</span>] <span class="id">t</span> [<span class="id">nb1</span>' <span class="id">s1</span>'] [<span class="id">Hstep</span> -&gt;] [<span class="id">nb2</span> <span class="id">s2</span>] (<span class="id">w</span>' &amp; <span class="id">Hw</span>' &amp; <span class="id">Hge</span> &amp; <span class="id">Hs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cbn</span> [<span class="id">fst</span> <span class="id">snd</span>] <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hs</span> <span class="kwd">as</span> [? ? <span class="id">rs1</span> <span class="id">rs2</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">live</span> <span class="id">Hb</span> <span class="id">Hs</span>' <span class="id">Hle1</span> <span class="id">Hle2</span>]. <span class="tactic">subst</span>. <span class="tactic">clear</span> <span class="id">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s1</span>' <span class="kwd">as</span> [<span class="id">rs1</span>' <span class="id">m1</span>' <span class="id">live</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m1</span> &lt;= <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m1</span>')%<span class="id">positive</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.x86.Asmrel.html#step_nextblock">step_nextblock</a></span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.x86.Asmrel.html#step_rel">step_rel</a></span> <span class="kwd">in</span> <span class="id">Hstep</span> <span class="kwd">as</span> (<span class="id">s2</span>' &amp; <span class="id">Hstep</span>' &amp; (<span class="id">w</span>'' &amp; <span class="id">Hw</span>'' &amp; <span class="id">Hs</span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span> (<span class="id">_</span>, <span class="id">_</span>). <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;state_match&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">split</span> <span class="kwd">with</span> (<span class="id">x</span>:=<span class="id">w</span>''). <span class="tactic">split</span>. <span class="id">rauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hs</span> <span class="kwd">as</span> [? <span class="id">rs2</span>' <span class="id">Hrs</span>' ? <span class="id">m2</span>' <span class="id">Hm</span>' ? ]. <span class="tactic">subst</span>. <span class="tactic">clear</span> <span class="id">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [| <span class="tactic">split</span>]; <span class="id">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;genv_match&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="compcert.x86.Asmrel.html#genv_match_acc">genv_match_acc</a></span>. <span class="id">rauto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;init_nb_match&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">clear</span> <span class="id">Hm</span>'. <span class="tactic">eapply</span> <span class="id"><a href="compcert.x86.Asmrel.html#init_nb_match_acc">init_nb_match_acc</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">Hs</span>'. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;state_match&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;nb1&nbsp;&lt;=&nbsp;nextblock&nbsp;m1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.le_trans">Pos.le_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;nb2&nbsp;&lt;=&nbsp;nextblock&nbsp;m2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.le_trans">Pos.le_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.x86.Asmrel.html#step_nextblock">step_nextblock</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Wf_nat.html#well_founded_ltof">well_founded_ltof</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Unshelve</span>. <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>. <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
